!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=86)}({86:function(e,t,i){i(87),i(88),i(89),e.exports=i(90)},87:function(e,t){},88:function(module,exports){var Sfdc={_storage:{},resolve:function(e){if("string"==typeof e&&e.length>1){for(var t=window,i=e.split(".");t&&i.length;)t=t[i.shift()];return t}return null},getStorage:function(e){var t;try{t=this.getStorageSource().getItem(e)}catch(e){}return t},setStorage:function(e,t){try{this.getStorageSource().setItem(e,JSON.stringify(t))}catch(e){return!1}return!0},getStorageSource:function(){try{return window.localStorage}catch(e){}return{getItem:function(e){return Sfdc._storage[e]},setItem:function(e,t){Sfdc._storage[e]=t},clear:function(){Sfdc._storage={}}}},hasLocalStorage:function(){try{return"localStorage"in window&&!!window.localStorage}catch(e){}return!1}};function sanitizeHref(e){return e&&e.trim().toLowerCase().startsWith("javascript:")?null:e}function insertionIndexForObjectInListSortedByFunction(e,t,i,n){return n?t.upperBound(e,i):t.lowerBound(e,i)}function createSearchRegex(e,t,i){var n,r=t?"g":"gi";if(i)try{n=new RegExp(e,r)}catch(e){}return n||(n=createPlainTextSearchRegex(e,r)),n}function createPlainTextSearchRegex(e,t){for(var i=String.regexSpecialCharacters(),n="",r=0;r<e.length;++r){var s=e.charAt(r);-1!=i.indexOf(s)&&(n+="\\"),n+=s}return new RegExp(n,t||"")}function countRegexMatches(e,t){for(var i,n=t,r=0;n&&(i=e.exec(n));)i[0].length>0&&++r,n=n.substring(i.index+1);return r}function numberToStringWithSpacesPadding(e,t){var i=e.toString(),n=Math.max(0,t-i.length);return Array(n+1).join(" ")+i}Object.isEmpty=function(e){for(var t in e)return!1;return!0},Object.values=function(e){for(var t=Object.keys(e),i=t.length,n=0;n<i;++n)t[n]=e[t[n]];return t},String.prototype.findAll=function(e){for(var t=[],i=this.indexOf(e);-1!==i;)t.push(i),i=this.indexOf(e,i+e.length);return t},String.prototype.lineEndings=function(){return this._lineEndings||(this._lineEndings=this.findAll("\n"),this._lineEndings.push(this.length)),this._lineEndings},String.prototype.lineCount=function(){return this.lineEndings().length},String.prototype.lineAt=function(e){var t=this.lineEndings(),i=e>0?t[e-1]+1:0,n=t[e],r=this.substring(i,n);return r.length>0&&"\r"===r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r},String.prototype.escapeCharacters=function(e){for(var t=!1,i=0;i<e.length;++i)if(-1!==this.indexOf(e.charAt(i))){t=!0;break}if(!t)return String(this);var n="";for(i=0;i<this.length;++i)-1!==e.indexOf(this.charAt(i))&&(n+="\\"),n+=this.charAt(i);return n},String.regexSpecialCharacters=function(){return"^[]{}()\\.^$*+?|-,"},String.prototype.escapeForRegExp=function(){return this.escapeCharacters(String.regexSpecialCharacters())},String.prototype.escapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},String.prototype.collapseWhitespace=function(){return this.replace(/[\s\xA0]+/g," ")},String.prototype.trimMiddle=function(e){if(this.length<=e)return String(this);var t=e>>1,i=e-t-1;return this.substr(0,t)+"…"+this.substr(this.length-i,i)},String.prototype.trimEnd=function(e){return this.length<=e?String(this):this.substr(0,e-1)+"…"},String.prototype.trimURL=function(e){var t=this.replace(/^(https|http|file):\/\//i,"");return e&&(t=t.replace(new RegExp("^"+e.escapeForRegExp(),"i"),"")),t},String.prototype.toTitleCase=function(){return this.substring(0,1).toUpperCase()+this.substring(1)},String.prototype.compareTo=function(e){return this>e?1:this<e?-1:0},String.prototype.removeURLFragment=function(){var e=this.indexOf("#");return-1==e&&(e=this.length),this.substring(0,e)},String.prototype.startsWith=function(e){return!this.lastIndexOf(e,0)},String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},String.prototype.hashCode=function(){for(var e=0,t=0;t<this.length;++t)e=3*e+this.charCodeAt(t);return e},String.naturalOrderComparator=function(e,t){for(var i,n,r,s,o=/^\d+|^\D+/;;){if(!e)return t?-1:0;if(!t)return 1;if(i=e.match(o)[0],n=t.match(o)[0],r=!isNaN(i),s=!isNaN(n),r&&!s)return-1;if(s&&!r)return 1;if(r&&s){var a=i-n;if(a)return a;if(i.length!==n.length)return+i||+n?n.length-i.length:i.length-n.length}else if(i!==n)return i<n?-1:1;e=e.substring(i.length),t=t.substring(n.length)}},Number.constrain=function(e,t,i){return e<t?e=t:e>i&&(e=i),e},Number.gcd=function(e,t){return 0===t?e:Number.gcd(t,e%t)},Number.toFixedIfFloating=function(e){if(!e||isNaN(e))return e;var t=Number(e);return t%1?t.toFixed(3):String(t)},Date.prototype.toISO8601Compact=function(){function e(e){return(e>9?"":"0")+e}return this.getFullYear()+e(this.getMonth()+1)+e(this.getDate())+"T"+e(this.getHours())+e(this.getMinutes())+e(this.getSeconds())},Date.prototype.toConsoleTime=function(){function e(e){return(e>9?"":"0")+e}return this.getFullYear()+"-"+e(this.getMonth()+1)+"-"+e(this.getDate())+" "+e(this.getHours())+":"+e(this.getMinutes())+":"+e(this.getSeconds())+"."+(t=this.getMilliseconds(),Array(4-t.toString().length).join("0")+t);var t},Object.defineProperty(Array.prototype,"remove",{value:function(e,t){var i=this.indexOf(e);if(-1!==i)if(t)this.splice(i,1);else{for(var n=i+1,r=this.length;n<r;++n)this[n]!==e&&(this[i++]=this[n]);this.length=i}}}),Object.defineProperty(Array.prototype,"keySet",{value:function(){for(var e={},t=0;t<this.length;++t)e[this[t]]=!0;return e}}),Object.defineProperty(Array.prototype,"rotate",{value:function(e){for(var t=[],i=e;i<e+this.length;++i)t.push(this[i%this.length]);return t}}),Object.defineProperty(Uint32Array.prototype,"sort",{value:Array.prototype.sort}),function(){var e={value:function(e,t,i,n){function r(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}var s=this[n];r(this,i,n);for(var o=t,a=t;a<i;++a)e(this[a],s)<0&&(r(this,o,a),++o);return r(this,i,o),o}};Object.defineProperty(Array.prototype,"partition",e),Object.defineProperty(Uint32Array.prototype,"partition",e);var t={value:function(e,t,i,n,r){return 0===t&&i===this.length-1&&0===n&&r>=i?this.sort(e):function e(t,i,n,r,s,o){if(!(r<=n)){var a=Math.floor(Math.random()*(r-n))+n,c=t.partition(i,n,r,a);s<c&&e(t,i,n,c-1,s,o),c<o&&e(t,i,c+1,r,s,o)}}(this,e,t,i,n,r),this}};Object.defineProperty(Array.prototype,"sortRange",t),Object.defineProperty(Uint32Array.prototype,"sortRange",t)}(),Object.defineProperty(Array.prototype,"stableSort",{value:function(e){e=e||function(e,t){return e<t?-1:e>t?1:0};for(var t=new Array(this.length),i=0;i<this.length;++i)t[i]=i;var n=this;for(t.sort(function(t,i){return e(n[t],n[i])||t-i}),i=0;i<this.length;++i)if(!(t[i]<0||i===t[i]))for(var r=i,s=this[i];;){var o=t[r];if(t[r]=-1,o===i){this[r]=s;break}this[r]=this[o],r=o}return this}}),Object.defineProperty(Array.prototype,"qselect",{value:function(e,t){if(!(e<0||e>=this.length)){t||(t=function(e,t){return e-t});for(var i=0,n=this.length-1;;){var r=this.partition(t,i,n,Math.floor((n+i)/2));if(r===e)return this[e];r>e?n=r-1:i=r+1}}}}),Object.defineProperty(Array.prototype,"lowerBound",{value:function(e,t,i,n){t=t||function(e,t){return e<t?-1:e>t?1:0};for(var r=i||0,s=void 0!==n?n:this.length;r<s;){var o=r+s>>1;t(e,this[o])>0?r=o+1:s=o}return s}}),Object.defineProperty(Array.prototype,"upperBound",{value:function(e,t,i,n){t=t||function(e,t){return e<t?-1:e>t?1:0};for(var r=i||0,s=void 0!==n?n:this.length;r<s;){var o=r+s>>1;t(e,this[o])>=0?r=o+1:s=o}return s}}),Object.defineProperty(Array.prototype,"binaryIndexOf",{value:function(e,t){var i=this.lowerBound(e,t);return i<this.length&&0===t(e,this[i])?i:-1}}),Object.defineProperty(Array.prototype,"select",{value:function(e){for(var t=new Array(this.length),i=0;i<this.length;++i)t[i]=this[i][e];return t}}),Object.defineProperty(Array.prototype,"peekLast",{value:function(){return this[this.length-1]}}),function(){function e(e,t,i,n){for(var r=[],s=0,o=0;s<e.length&&o<t.length;){var a=i(e[s],t[o]);!n&&a||r.push(a<=0?e[s]:t[o]),a<=0&&s++,a>=0&&o++}if(n){for(;s<e.length;)r.push(e[s++]);for(;o<t.length;)r.push(t[o++])}return r}Object.defineProperty(Array.prototype,"intersectOrdered",{value:function(t,i){return e(this,t,i,!1)}}),Object.defineProperty(Array.prototype,"mergeOrdered",{value:function(t,i){return e(this,t,i,!0)}})}(),String.sprintf=function(e,t){return String.vsprintf(e,Array.prototype.slice.call(arguments,1))},String.tokenizeFormatString=function(e,t){var i=[],n=0;function r(e){i.push({type:"string",value:e})}function s(e,t,n){i.push({type:"specifier",specifier:e,precision:t,substitutionIndex:n})}function o(e){return!!/[0-9]/.exec(e)}for(var a=0,c=e.indexOf("%",a);-1!==c;c=e.indexOf("%",a)){if(r(e.substring(a,c)),o(e[a=c+1])){for(var l=parseInt(e.substring(a),10);o(e[a]);)++a;l>0&&"$"===e[a]&&(n=l-1,++a)}var d=-1;if("."===e[a])for(++a,d=parseInt(e.substring(a),10),isNaN(d)&&(d=0);o(e[a]);)++a;e[a]in t?(s(e[a],d,n),++n,++a):(r(e.substring(c,a+1)),++a)}return r(e.substring(a)),i},String.standardFormatters={d:function(e){return isNaN(e)?0:e},f:function(e,t){return e&&t.precision>-1&&(e=e.toFixed(t.precision)),isNaN(e)?t.precision>-1?Number(0).toFixed(t.precision):0:e},s:function(e){return e}},String.vsprintf=function(e,t){return String.format(e,t,String.standardFormatters,"",function(e,t){return e+t}).formattedResult},String.format=function(e,t,i,n,r){if(!e||!t||!t.length)return{formattedResult:r(n,e),unusedSubstitutions:t};function s(){return'String.format("'+e+'", "'+t.join('", "')+'")'}function o(e){console.error(s()+": "+e)}for(var a,c=n,l=String.tokenizeFormatString(e,i),d={},h=0;h<l.length;++h){var p=l[h];"string"!==p.type?"specifier"===p.type?p.substitutionIndex>=t.length?(o("not enough substitution arguments. Had "+t.length+" but needed "+(p.substitutionIndex+1)+", so substitution was skipped."),c=r(c,"%"+(p.precision>-1?p.precision:"")+p.specifier)):(d[p.substitutionIndex]=!0,p.specifier in i?c=r(c,i[p.specifier](t[p.substitutionIndex],p)):(a="unsupported format character “"+p.specifier+"”. Treating as a string.",console.warn(s()+": "+a),c=r(c,t[p.substitutionIndex]))):o('Unknown token type "'+p.type+'" found.'):c=r(c,p.value)}var u=[];for(h=0;h<t.length;++h)h in d||u.push(t[h]);return{formattedResult:c,unusedSubstitutions:u}};var createObjectIdentifier=function(){return"_"+ ++createObjectIdentifier._last};createObjectIdentifier._last=0;var GenericSet=function(){this._set={},this._size=0};GenericSet.prototype={add:function(e){var t=e.__identifier;t||(t=createObjectIdentifier(),e.__identifier=t),this._set[t]||++this._size,this._set[t]=e},remove:function(e){return!!this._set[e.__identifier]&&(--this._size,delete this._set[e.__identifier],!0)},items:function(){var e=new Array(this._size),t=0;for(var i in this._set)e[t++]=this._set[i];return e},hasItem:function(e){return!!this._set[e.__identifier]},size:function(){return this._size},clear:function(){this._set={},this._size=0}};var GenericMap=function(){this._map={},this._size=0};GenericMap.prototype={put:function(e,t){var i=e.__identifier;i||(i=createObjectIdentifier(),e.__identifier=i),this._map[i]||++this._size,this._map[i]=[e,t]},remove:function(e){var t=this._map[e.__identifier];if(t)return--this._size,delete this._map[e.__identifier],t[1]},keys:function(){return this._list(0)},values:function(){return this._list(1)},_list:function(e){var t=new Array(this._size),i=0;for(var n in this._map)t[i++]=this._map[n][e];return t},get:function(e){var t=this._map[e.__identifier];return t?t[1]:void 0},contains:function(e){return!!this._map[e.__identifier]},size:function(){return this._size},clear:function(){this._map={},this._size=0}};var StringMap=function(){this._map={},this._size=0};StringMap.prototype={put:function(e,t){if("__proto__"===e)return this._hasProtoKey||(++this._size,this._hasProtoKey=!0),void(this._protoValue=t);Object.prototype.hasOwnProperty.call(this._map,e)||++this._size,this._map[e]=t},remove:function(e){var t;if("__proto__"===e){if(!this._hasProtoKey)return;return--this._size,delete this._hasProtoKey,t=this._protoValue,delete this._protoValue,t}if(Object.prototype.hasOwnProperty.call(this._map,e))return--this._size,t=this._map[e],delete this._map[e],t},keys:function(){var e=Object.keys(this._map)||[];return this._hasProtoKey&&e.push("__proto__"),e},values:function(){var e=Object.values(this._map);return this._hasProtoKey&&e.push(this._protoValue),e},get:function(e){return"__proto__"===e?this._protoValue:Object.prototype.hasOwnProperty.call(this._map,e)?this._map[e]:void 0},contains:function(e){return"__proto__"===e?this._hasProtoKey:Object.prototype.hasOwnProperty.call(this._map,e)},size:function(){return this._size},clear:function(){this._map={},this._size=0,delete this._hasProtoKey,delete this._protoValue}};var StringSet=function(){this._map=new StringMap};function loadXHR(e,t,i){console.log("Loading: "+e);var n=new XMLHttpRequest;return n.open("GET",e,t),t&&(n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200!==n.status?i(null):i(n.responseText))}),n.send(null),t?null:200===n.status?n.responseText:null}StringSet.prototype={put:function(e){this._map.put(e,!0)},remove:function(e){return!!this._map.remove(e)},values:function(){return this._map.keys()},contains:function(e){return this._map.contains(e)},size:function(){return this._map.size()},clear:function(){this._map.clear()}};var _importedScripts={};function importScript(e){return console.log("Trying to load: "+e)}var loadScript=importScript;function CallbackBarrier(){this._pendingIncomingCallbacksCount=0}function suppressUnused(e){}CallbackBarrier.prototype={createCallback:function(e){return console.assert(!this._outgoingCallback,"CallbackBarrier.createCallback() is called after CallbackBarrier.callWhenDone()"),++this._pendingIncomingCallbacksCount,this._incomingCallback.bind(this,e)},callWhenDone:function(e){console.assert(!this._outgoingCallback,"CallbackBarrier.callWhenDone() is called multiple times"),this._outgoingCallback=e,this._pendingIncomingCallbacksCount||this._outgoingCallback()},_incomingCallback:function(e){if(console.assert(this._pendingIncomingCallbacksCount>0),e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}!--this._pendingIncomingCallbacksCount&&this._outgoingCallback&&this._outgoingCallback()}};var allDescriptors=[{name:"main",extensions:[{type:"@WebInspector.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"F5 Ctrl+R"},{platform:"mac",shortcut:"Meta+R"}],className:"WebInspector.Main.ReloadActionDelegate"},{type:"@WebInspector.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Shift+F5 Ctrl+F5 Ctrl+Shift+F5 Shift+Ctrl+R"},{platform:"mac",shortcut:"Shift+Meta+R"}],className:"WebInspector.Main.HardReloadActionDelegate"},{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"Esc"}],className:"WebInspector.InspectorView.DrawerToggleActionDelegate"},{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"Alt+R"}],className:"WebInspector.Main.DebugReloadActionDelegate"}]},{name:"elements",extensions:[{type:"@WebInspector.Panel",name:"elements",title:"Elements",order:0,className:"WebInspector.ElementsPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.RemoteObject","WebInspector.DOMNode"],className:"WebInspector.ElementsPanel.ContextMenuProvider"},{type:"drawer-view",name:"emulation",title:"Emulation",order:"10",className:"WebInspector.OverridesView"},{type:"drawer-view",name:"rendering",title:"Rendering",order:"11",className:"WebInspector.RenderingOptionsView"},{type:"@WebInspector.Renderer",contextTypes:["WebInspector.DOMNode"],className:"WebInspector.ElementsTreeOutline.Renderer"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.DOMNode"],className:"WebInspector.ElementsPanel.DOMNodeRevealer"}],scripts:["ElementsPanel.js"]},{name:"network",extensions:[{type:"@WebInspector.Panel",name:"network",title:"Network",order:1,className:"WebInspector.NetworkPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.NetworkRequest","WebInspector.Resource","WebInspector.UISourceCode"],className:"WebInspector.NetworkPanel.ContextMenuProvider"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.NetworkRequest"],className:"WebInspector.NetworkPanel.RequestRevealer"}],scripts:["NetworkPanel.js"]},{name:"codemirror",extensions:[{type:"@WebInspector.InplaceEditor",className:"WebInspector.CodeMirrorUtils"},{type:"@WebInspector.TokenizerFactory",className:"WebInspector.CodeMirrorUtils.TokenizerFactory"}],scripts:["CodeMirrorTextEditor.js"]},{name:"sources",extensions:[{type:"@WebInspector.Panel",name:"sources",title:"Sources",order:2,className:"WebInspector.SourcesPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.UISourceCode","WebInspector.RemoteObject"],className:"WebInspector.SourcesPanel.ContextMenuProvider"},{type:"@WebInspector.SearchScope",className:"WebInspector.SourcesSearchScope"},{type:"drawer-view",name:"search",title:"Search",order:"1",className:"WebInspector.SearchView"},{type:"@WebInspector.DrawerEditor",className:"WebInspector.SourcesPanel.DrawerEditor"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.UILocation"],className:"WebInspector.SourcesPanel.UILocationRevealer"},{type:"@WebInspector.SourcesView.EditorAction",className:"WebInspector.InplaceFormatterEditorAction"},{type:"@WebInspector.SourcesView.EditorAction",className:"WebInspector.ScriptFormatterEditorAction"},{type:"navigator-view",name:"sources",title:"Sources",order:1,className:"WebInspector.SourcesNavigatorView"},{type:"navigator-view",name:"contentScripts",title:"Content scripts",order:2,className:"WebInspector.ContentScriptsNavigatorView"},{type:"navigator-view",name:"snippets",title:"Snippets",order:3,className:"WebInspector.SnippetsNavigatorView"},{type:"@WebInspector.ActionDelegate",bindings:[{platform:"mac",shortcut:"Meta+O Meta+P"},{platform:"windows,linux",shortcut:"Ctrl+O Ctrl+P"}],className:"WebInspector.SourcesPanel.ShowGoToSourceDialogActionDelegate"}],scripts:["SourcesPanel.js"]},{name:"timeline",extensions:[{type:"@WebInspector.Panel",name:"timeline",title:"Timeline",order:3,className:"WebInspector.TimelinePanel"}],scripts:["TimelinePanel.js"]},{name:"profiles",extensions:[{type:"@WebInspector.Panel",name:"profiles",title:"Profiles",order:4,className:"WebInspector.ProfilesPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.RemoteObject"],className:"WebInspector.ProfilesPanel.ContextMenuProvider"}],scripts:["ProfilesPanel.js"]},{name:"resources",extensions:[{type:"@WebInspector.Panel",name:"resources",title:"Resources",order:5,className:"WebInspector.ResourcesPanel"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.Resource"],className:"WebInspector.ResourcesPanel.ResourceRevealer"}],scripts:["ResourcesPanel.js"]},{name:"audits",extensions:[{type:"@WebInspector.Panel",name:"audits",title:"Audits",order:6,className:"WebInspector.AuditsPanel"}],scripts:["AuditsPanel.js"]},{name:"console",extensions:[{type:"@WebInspector.Panel",name:"console",title:"Console",order:20,className:"WebInspector.ConsolePanel"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.ConsoleModel"],className:"WebInspector.ConsolePanel.ConsoleRevealer"},{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"Ctrl+`"}],className:"WebInspector.ConsoleView.ShowConsoleActionDelegate"}],scripts:[]},{name:"settings",extensions:[{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"F1 Shift+?"}],className:"WebInspector.SettingsController.SettingsScreenActionDelegate"}]},{name:"extensions",extensions:[{type:"@WebInspector.ExtensionServerAPI",className:"WebInspector.ExtensionServer"}],scripts:["ExtensionServer.js"]},{name:"layers",extensions:[{type:"@WebInspector.Panel",name:"layers",title:"Layers",order:7,className:"WebInspector.LayersPanel"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.LayerTreeSnapshot"],className:"WebInspector.LayersPanel.LayerTreeRevealer"}],scripts:["LayersPanel.js"]},{name:"handler-registry",extensions:[{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.UISourceCode","WebInspector.Resource","WebInspector.NetworkRequest","Node"],className:"WebInspector.HandlerRegistry.ContextMenuProvider"}]}];function removeSubsequentNodes(e,t){for(var i=e;i&&i!==t;){var n=i;i=i.nextSibling,n.remove()}}function Size(e,t){this.width=e,this.height=t}function AnchorBox(e,t,i,n){this.x=e||0,this.y=t||0,this.width=i||0,this.height=n||0}function isEnterKey(e){return 229!==e.keyCode&&"Enter"===e.keyIdentifier}function consumeEvent(e){e.consume()}function TreeOutline(e,t){this.children=[],this.selectedTreeElement=null,this._childrenListNode=e,this.childrenListElement=this._childrenListNode,this._childrenListNode.removeChildren(),this.expandTreeElementsWhenArrowing=!1,this.root=!0,this.hasChildren=!1,this.expanded=!0,this.selected=!1,this.treeOutline=this,this.comparator=null,this.setFocusable(!t),this._childrenListNode.addEventListener("keydown",this._treeKeyDown.bind(this),!0),this._treeElementsMap=new GenericMap,this._expandedStateMap=new GenericMap,this.element=e}function TreeElement(e,t,i){this._title=e,this.representedObject=t||{},this.root=!1,this._hidden=!1,this._selectable=!0,this.expanded=!1,this.selected=!1,this.hasChildren=i,this.children=[],this.treeOutline=null,this.parent=null,this.previousSibling=null,this.nextSibling=null,this._listItemNode=null}function InspectorBackendClass(){this._connection=null,this._agentPrototypes={},this._dispatcherPrototypes={},this._initialized=!1,this._enums={},this._initProtocolAgentsConstructor()}__whitespace={" ":!0,"\t":!0,"\n":!0,"\f":!0,"\r":!0},difflib={defaultJunkFunction:function(e){return __whitespace.hasOwnProperty(e)},stripLinebreaks:function(e){return e.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(e){for(var t=e.indexOf("\n"),i=e.indexOf("\r"),n=t>-1&&i>-1||i<0?"\n":"\r",r=e.split(n),s=0;s<r.length;s++)r[s]=difflib.stripLinebreaks(r[s]);return r},__reduce:function(e,t,i){if(null!=i)var n=i,r=0;else{if(!t)return null;n=t[0],r=1}for(;r<t.length;r++)n=e(n,t[r]);return n},__ntuplecomp:function(e,t){for(var i=Math.max(e.length,t.length),n=0;n<i;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.length==t.length?0:e.length<t.length?-1:1},__calculate_ratio:function(e,t){return t?2*e/t:1},__isindict:function(e){return function(t){return e.hasOwnProperty(t)}},__dictget:function(e,t,i){return e.hasOwnProperty(t)?e[t]:i},SequenceMatcher:function(e,t,i){this.set_seqs=function(e,t){this.set_seq1(e),this.set_seq2(t)},this.set_seq1=function(e){e!=this.a&&(this.a=e,this.matching_blocks=this.opcodes=null)},this.set_seq2=function(e){e!=this.b&&(this.b=e,this.matching_blocks=this.opcodes=this.fullbcount=null,this.__chain_b())},this.__chain_b=function(){for(var e=this.b,t=e.length,i=this.b2j={},n={},r=0;r<e.length;r++){var s=e[r];if(i.hasOwnProperty(s)){var o=i[s];t>=200&&100*o.length>t?(n[s]=1,delete i[s]):o.push(r)}else i[s]=[r]}for(var s in n)n.hasOwnProperty(s)&&delete i[s];var a=this.isjunk,c={};if(a){for(var s in n)n.hasOwnProperty(s)&&a(s)&&(c[s]=1,delete n[s]);for(var s in i)i.hasOwnProperty(s)&&a(s)&&(c[s]=1,delete i[s])}this.isbjunk=difflib.__isindict(c),this.isbpopular=difflib.__isindict(n)},this.find_longest_match=function(e,t,i,n){for(var r=this.a,s=this.b,o=this.b2j,a=this.isbjunk,c=e,l=i,d=0,h=null,p={},u=[],m=e;m<t;m++){var _={},g=difflib.__dictget(o,r[m],u);for(var b in g)if(g.hasOwnProperty(b)){if((h=g[b])<i)continue;if(h>=n)break;_[h]=k=difflib.__dictget(p,h-1,0)+1,k>d&&(c=m-k+1,l=h-k+1,d=k)}p=_}for(;c>e&&l>i&&!a(s[l-1])&&r[c-1]==s[l-1];)c--,l--,d++;for(;c+d<t&&l+d<n&&!a(s[l+d])&&r[c+d]==s[l+d];)d++;for(;c>e&&l>i&&a(s[l-1])&&r[c-1]==s[l-1];)c--,l--,d++;for(;c+d<t&&l+d<n&&a(s[l+d])&&r[c+d]==s[l+d];)d++;return[c,l,d]},this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var e,t,i,n,r,s,o,a,c,l=this.a.length,d=this.b.length,h=[[0,l,0,d]],p=[];h.length;)e=(r=h.pop())[0],t=r[1],i=r[2],n=r[3],s=(c=this.find_longest_match(e,t,i,n))[0],o=c[1],(a=c[2])&&(p.push(c),e<s&&i<o&&h.push([e,s,i,o]),s+a<t&&o+a<n&&h.push([s+a,t,o+a,n]));p.sort(difflib.__ntuplecomp);var u=j1=k1=block=0,m=[];for(var _ in p)p.hasOwnProperty(_)&&(block=p[_],i2=block[0],j2=block[1],k2=block[2],u+k1==i2&&j1+k1==j2?k1+=k2:(k1&&m.push([u,j1,k1]),u=i2,j1=j2,k1=k2));return k1&&m.push([u,j1,k1]),m.push([l,d,0]),this.matching_blocks=m,this.matching_blocks},this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var e,t,i,n,r,s=0,o=0,a=[];this.opcodes=a;var c=this.get_matching_blocks();for(var l in c)c.hasOwnProperty(l)&&(t=(e=c[l])[0],i=e[1],n=e[2],r="",s<t&&o<i?r="replace":s<t?r="delete":o<i&&(r="insert"),r&&a.push([r,s,t,o,i]),s=t+n,o=i+n,n&&a.push(["equal",t,s,i,o]));return a},this.get_grouped_opcodes=function(e){e||(e=3);var t,i,n,r,s,o,a=this.get_opcodes();a||(a=[["equal",0,1,0,1]]),"equal"==a[0][0]&&(i=(t=a[0])[0],n=t[1],r=t[2],s=t[3],o=t[4],a[0]=[i,Math.max(n,r-e),r,Math.max(s,o-e),o]),"equal"==a[a.length-1][0]&&(i=(t=a[a.length-1])[0],n=t[1],r=t[2],s=t[3],o=t[4],a[a.length-1]=[i,n,Math.min(r,n+e),s,Math.min(o,s+e)]);var c=e+e,l=[];for(var d in a)a.hasOwnProperty(d)&&(i=(t=a[d])[0],n=t[1],r=t[2],s=t[3],o=t[4],"equal"==i&&r-n>c&&(l.push([i,n,Math.min(r,n+e),s,Math.min(o,s+e)]),n=Math.max(n,r-e),s=Math.max(s,o-e)),l.push([i,n,r,s,o]));return l&&"equal"==l[l.length-1][0]&&l.pop(),l},this.ratio=function(){return matches=difflib.__reduce(function(e,t){return e+t[t.length-1]},this.get_matching_blocks(),0),difflib.__calculate_ratio(matches,this.a.length+this.b.length)},this.quick_ratio=function(){var e,t;if(null==this.fullbcount){this.fullbcount=e={};for(var i=0;i<this.b.length;i++)e[t=this.b[i]]=difflib.__dictget(e,t,0)+1}e=this.fullbcount;var n={},r=difflib.__isindict(n),s=numb=0;for(i=0;i<this.a.length;i++)r(t=this.a[i])?numb=n[t]:numb=difflib.__dictget(e,t,0),n[t]=numb-1,numb>0&&s++;return difflib.__calculate_ratio(s,this.a.length+this.b.length)},this.real_quick_ratio=function(){var e=this.a.length,t=this.b.length;return _calculate_ratio(Math.min(e,t),e+t)},this.isjunk=i||difflib.defaultJunkFunction,this.a=this.b=null,this.set_seqs(e,t)}},Node.prototype.rangeOfWord=function(e,t,i,n){var r,s,o=0,a=0;if(i||(i=this),n&&"backward"!==n&&"both"!==n)r=this,o=e;else{for(var c=this;c;){if(c===i){r||(r=i);break}if(c.nodeType===Node.TEXT_NODE)for(var l=c===this?e-1:c.nodeValue.length-1;l>=0;--l)if(-1!==t.indexOf(c.nodeValue[l])){r=c,o=l+1;break}if(r)break;c=c.traversePreviousNode(i)}r||(r=i,o=0)}if(n&&"forward"!==n&&"both"!==n)s=this,a=e;else{for(c=this;c;){if(c===i){s||(s=i);break}if(c.nodeType===Node.TEXT_NODE)for(l=c===this?e:0;l<c.nodeValue.length;++l)if(-1!==t.indexOf(c.nodeValue[l])){s=c,a=l;break}if(s)break;c=c.traverseNextNode(i)}s||(s=i,a=i.nodeType===Node.TEXT_NODE?i.nodeValue.length:i.childNodes.length)}var d=this.ownerDocument.createRange();return d.setStart(r,o),d.setEnd(s,a),d},Node.prototype.traverseNextTextNode=function(e){var t=this.traverseNextNode(e);if(t){for(;t&&t.nodeType!==Node.TEXT_NODE;)t=t.traverseNextNode(e);return t}},Node.prototype.rangeBoundaryForOffset=function(e){for(var t=this.traverseNextTextNode(this);t&&e>t.nodeValue.length;)e-=t.nodeValue.length,t=t.traverseNextTextNode(this);return t?{container:t,offset:e}:{container:this,offset:0}},Element.prototype.removeMatchingStyleClasses=function(e){var t=new RegExp("(^|\\s+)"+e+"($|\\s+)");t.test(this.className)&&(this.className=this.className.replace(t," "))},Element.prototype.positionAt=function(e,t,i){var n={x:0,y:0};i&&(n=i.boxInWindow(this.ownerDocument.defaultView)),"number"==typeof e?this.style.setProperty("left",n.x+e+"px"):this.style.removeProperty("left"),"number"==typeof t?this.style.setProperty("top",n.y+t+"px"):this.style.removeProperty("top")},Element.prototype.isScrolledToBottom=function(){return Math.abs(this.scrollTop+this.clientHeight-this.scrollHeight)<=1},Size.prototype.isEqual=function(e){return!!e&&this.width===e.width&&this.height===e.height},Element.prototype.measurePreferredSize=function(e){(e=e||document.body).appendChild(this),this.positionAt(0,0);var t=new Size(this.offsetWidth,this.offsetHeight);return this.positionAt(void 0,void 0),this.remove(),t},Element.prototype.containsEventPoint=function(e){var t=this.getBoundingClientRect();return t.left<e.x&&e.x<t.right&&t.top<e.y&&e.y<t.bottom},Node.prototype.enclosingNodeOrSelfWithNodeNameInArray=function(e){for(var t=this;t&&t!==this.ownerDocument;t=t.parentNode)for(var i=0;i<e.length;++i)if(t.nodeName.toLowerCase()===e[i].toLowerCase())return t;return null},Node.prototype.enclosingNodeOrSelfWithNodeName=function(e){return this.enclosingNodeOrSelfWithNodeNameInArray([e])},Node.prototype.enclosingNodeOrSelfWithClass=function(e,t){for(var i=this;i&&i!==t&&i!==this.ownerDocument;i=i.parentNode)if(i.nodeType===Node.ELEMENT_NODE&&i.classList.contains(e))return i;return null},Element.prototype.query=function(e){return this.ownerDocument.evaluate(e,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},Element.prototype.removeChildren=function(){this.firstChild&&(this.textContent="")},Element.prototype.isInsertionCaretInside=function(){var e=window.getSelection();return!(!e.rangeCount||!e.isCollapsed)&&e.getRangeAt(0).startContainer.isSelfOrDescendant(this)},Document.prototype.createElementWithClass=function(e,t){var i=this.createElement(e);return t&&(i.className=t),i},Element.prototype.createChild=function(e,t){var i=this.ownerDocument.createElementWithClass(e,t);return this.appendChild(i),i},DocumentFragment.prototype.createChild=Element.prototype.createChild,Element.prototype.createTextChild=function(e){var t=this.ownerDocument.createTextNode(e);return this.appendChild(t),t},DocumentFragment.prototype.createTextChild=Element.prototype.createTextChild,Element.prototype.totalOffsetLeft=function(){return this.totalOffset().left},Element.prototype.totalOffsetTop=function(){return this.totalOffset().top},Element.prototype.totalOffset=function(){var e=this.getBoundingClientRect();return{left:e.left,top:e.top}},Element.prototype.scrollOffset=function(){for(var e=0,t=0,i=this;i;i=i.scrollParent)e+=i.scrollLeft,t+=i.scrollTop;return{left:e,top:t}},AnchorBox.prototype.relativeTo=function(e){return new AnchorBox(this.x-e.x,this.y-e.y,this.width,this.height)},AnchorBox.prototype.relativeToElement=function(e){return this.relativeTo(e.boxInWindow(e.ownerDocument.defaultView))},Element.prototype.offsetRelativeToWindow=function(e){for(var t=new AnchorBox,i=this,n=this.ownerDocument.defaultView;n&&i&&(t.x+=i.totalOffsetLeft(),t.y+=i.totalOffsetTop(),n!==e);)i=n.frameElement,n=n.parent;return t},Element.prototype.boxInWindow=function(e){e=e||this.ownerDocument.defaultView;var t=this.offsetRelativeToWindow(window);return t.width=Math.min(this.offsetWidth,window.innerWidth-t.x),t.height=Math.min(this.offsetHeight,window.innerHeight-t.y),t},Element.prototype.setTextAndTitle=function(e){this.textContent=e,this.title=e},KeyboardEvent.prototype.__defineGetter__("data",function(){switch(this.type){case"keypress":return this.ctrlKey||this.metaKey?"":String.fromCharCode(this.charCode);case"keydown":case"keyup":return this.ctrlKey||this.metaKey||this.altKey?"":String.fromCharCode(this.which)}}),Event.prototype.consume=function(e){this.stopImmediatePropagation(),e&&this.preventDefault(),this.handled=!0},Text.prototype.select=function(e,t){e=e||0,t=t||this.textContent.length,e<0&&(e=t+e);var i=this.ownerDocument.defaultView.getSelection();i.removeAllRanges();var n=this.ownerDocument.createRange();return n.setStart(this,e),n.setEnd(this,t),i.addRange(n),this},Element.prototype.selectionLeftOffset=function(){var e=window.getSelection();if(!e.containsNode(this,!0))return null;for(var t=e.anchorOffset,i=e.anchorNode;i!==this;){for(;i.previousSibling;)t+=(i=i.previousSibling).textContent.length;i=i.parentNode}return t},Node.prototype.isAncestor=function(e){if(!e)return!1;for(var t=e.parentNode;t;){if(this===t)return!0;t=t.parentNode}return!1},Node.prototype.isDescendant=function(e){return!!e&&e.isAncestor(this)},Node.prototype.isSelfOrAncestor=function(e){return!!e&&(e===this||this.isAncestor(e))},Node.prototype.isSelfOrDescendant=function(e){return!!e&&(e===this||this.isDescendant(e))},Node.prototype.traverseNextNode=function(e){var t=this.firstChild;if(t)return t;if(e&&this===e)return null;if(t=this.nextSibling)return t;for(t=this;t&&!t.nextSibling&&(!e||!t.parentNode||t.parentNode!==e);)t=t.parentNode;return t?t.nextSibling:null},Node.prototype.traversePreviousNode=function(e){if(e&&this===e)return null;for(var t=this.previousSibling;t&&t.lastChild;)t=t.lastChild;return t||this.parentNode},Node.prototype.setTextContentTruncatedIfNeeded=function(e,t){return"string"==typeof e&&e.length>65535?(this.textContent="string"==typeof t?t:e.trimEnd(65535),!0):(this.textContent=e,!1)},TreeOutline.prototype.setFocusable=function(e){e?this._childrenListNode.setAttribute("tabIndex",0):this._childrenListNode.removeAttribute("tabIndex")},TreeOutline.prototype.appendChild=function(e){var t;t=this.treeOutline.comparator?insertionIndexForObjectInListSortedByFunction(e,this.children,this.treeOutline.comparator):this.children.length,this.insertChild(e,t)},TreeOutline.prototype.insertBeforeChild=function(e,t){if(!e)throw"child can't be undefined or null";if(!t)throw"beforeChild can't be undefined or null";var i=this.children.indexOf(t);if(-1===i)throw"beforeChild not found in this node's children";this.insertChild(e,i)},TreeOutline.prototype.insertChild=function(e,t){if(!e)throw"child can't be undefined or null";var i=t>0?this.children[t-1]:null;i?(i.nextSibling=e,e.previousSibling=i):e.previousSibling=null;var n=this.children[t];n?(n.previousSibling=e,e.nextSibling=n):e.nextSibling=null,this.children.splice(t,0,e),this.hasChildren=!0,e.parent=this,e.treeOutline=this.treeOutline,e.treeOutline._rememberTreeElement(e);for(var r=e.children[0];r;)r.treeOutline=this.treeOutline,r.treeOutline._rememberTreeElement(r),r=r.traverseNextTreeElement(!1,e,!0);e.hasChildren&&void 0!==e.treeOutline._expandedStateMap.get(e.representedObject)&&(e.expanded=e.treeOutline._expandedStateMap.get(e.representedObject)),this._childrenListNode||(this._childrenListNode=this.treeOutline._childrenListNode.ownerDocument.createElement("ol"),this._childrenListNode.parentTreeElement=this,this._childrenListNode.classList.add("children"),this.hidden&&this._childrenListNode.classList.add("hidden")),e._attach()},TreeOutline.prototype.removeChildAtIndex=function(e){if(e<0||e>=this.children.length)throw"childIndex out of range";var t=this.children[e];this.children.splice(e,1);var i=t.parent;t.deselect()&&(t.previousSibling?t.previousSibling.select():t.nextSibling?t.nextSibling.select():i.select()),t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling),t.nextSibling&&(t.nextSibling.previousSibling=t.previousSibling),t.treeOutline&&(t.treeOutline._forgetTreeElement(t),t.treeOutline._forgetChildrenRecursive(t)),t._detach(),t.treeOutline=null,t.parent=null,t.nextSibling=null,t.previousSibling=null},TreeOutline.prototype.removeChild=function(e){if(!e)throw"child can't be undefined or null";var t=this.children.indexOf(e);if(-1===t)throw"child not found in this node's children";this.removeChildAtIndex.call(this,t)},TreeOutline.prototype.removeChildren=function(){for(var e=0;e<this.children.length;++e){var t=this.children[e];t.deselect(),t.treeOutline&&(t.treeOutline._forgetTreeElement(t),t.treeOutline._forgetChildrenRecursive(t)),t._detach(),t.treeOutline=null,t.parent=null,t.nextSibling=null,t.previousSibling=null}this.children=[]},TreeOutline.prototype._rememberTreeElement=function(e){this._treeElementsMap.get(e.representedObject)||this._treeElementsMap.put(e.representedObject,[]);var t=this._treeElementsMap.get(e.representedObject);-1===t.indexOf(e)&&t.push(e)},TreeOutline.prototype._forgetTreeElement=function(e){if(this._treeElementsMap.get(e.representedObject)){var t=this._treeElementsMap.get(e.representedObject);t.remove(e,!0),t.length||this._treeElementsMap.remove(e.representedObject)}},TreeOutline.prototype._forgetChildrenRecursive=function(e){for(var t=e.children[0];t;)this._forgetTreeElement(t),t=t.traverseNextTreeElement(!1,e,!0)},TreeOutline.prototype.getCachedTreeElement=function(e){if(!e)return null;var t=this._treeElementsMap.get(e);return t&&t.length?t[0]:null},TreeOutline.prototype.findTreeElement=function(e,t,i){if(!e)return null;var n=this.getCachedTreeElement(e);if(n)return n;for(var r=[],s=i(e);s&&(r.push(s),!this.getCachedTreeElement(s));s=i(s));if(!s)return null;for(var o=r.length-1;o>=0;--o){var a=this.getCachedTreeElement(r[o]);a&&a.onpopulate()}return this.getCachedTreeElement(e)},TreeOutline.prototype.treeElementFromPoint=function(e,t){var i=this._childrenListNode.ownerDocument.elementFromPoint(e,t);if(!i)return null;var n=i.enclosingNodeOrSelfWithNodeNameInArray(["ol","li"]);return n?n.parentTreeElement||n.treeElement:null},TreeOutline.prototype._treeKeyDown=function(e){if(e.target===this._childrenListNode&&this.selectedTreeElement&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey){var t,i=!1;if("Up"!==e.keyIdentifier||e.altKey)if("Down"!==e.keyIdentifier||e.altKey)if("Left"===e.keyIdentifier){if(this.selectedTreeElement.expanded)e.altKey?this.selectedTreeElement.collapseRecursively():this.selectedTreeElement.collapse(),i=!0;else if(this.selectedTreeElement.parent&&!this.selectedTreeElement.parent.root)if(i=!0,this.selectedTreeElement.parent.selectable){for(t=this.selectedTreeElement.parent;t&&!t.selectable;)t=t.parent;i=!!t}else this.selectedTreeElement.parent&&this.selectedTreeElement.parent.collapse()}else if("Right"===e.keyIdentifier)if(this.selectedTreeElement.revealed()){if(this.selectedTreeElement.hasChildren)if(i=!0,this.selectedTreeElement.expanded){for(t=this.selectedTreeElement.children[0];t&&!t.selectable;)t=t.nextSibling;i=!!t}else e.altKey?this.selectedTreeElement.expandRecursively():this.selectedTreeElement.expand()}else this.selectedTreeElement.reveal(),i=!0;else 8===e.keyCode||46===e.keyCode?i=this.selectedTreeElement.ondelete():isEnterKey(e)?i=this.selectedTreeElement.onenter():e.keyCode===WebInspector.KeyboardShortcut.Keys.Space.code&&(i=this.selectedTreeElement.onspace());else{for(t=this.selectedTreeElement.traverseNextTreeElement(!0);t&&!t.selectable;)t=t.traverseNextTreeElement(!this.expandTreeElementsWhenArrowing);i=!!t}else{for(t=this.selectedTreeElement.traversePreviousTreeElement(!0);t&&!t.selectable;)t=t.traversePreviousTreeElement(!this.expandTreeElementsWhenArrowing);i=!!t}t&&(t.reveal(),t.select(!1,!0)),i&&e.consume(!0)}},TreeOutline.prototype.expand=function(){},TreeOutline.prototype.collapse=function(){},TreeOutline.prototype.revealed=function(){return!0},TreeOutline.prototype.reveal=function(){},TreeOutline.prototype.select=function(){},TreeOutline.prototype.revealAndSelect=function(e){},TreeElement.prototype={arrowToggleWidth:10,get selectable(){return!this._hidden&&this._selectable},set selectable(e){this._selectable=e},get listItemElement(){return this._listItemNode},get childrenListElement(){return this._childrenListNode},get title(){return this._title},set title(e){this._title=e,this._setListItemNodeContent()},get tooltip(){return this._tooltip},set tooltip(e){this._tooltip=e,this._listItemNode&&(this._listItemNode.title=e||"")},get hasChildren(){return this._hasChildren},set hasChildren(e){this._hasChildren!==e&&(this._hasChildren=e,this._listItemNode&&(e?this._listItemNode.classList.add("parent"):(this._listItemNode.classList.remove("parent"),this.collapse())))},get hidden(){return this._hidden},set hidden(e){this._hidden!==e&&(this._hidden=e,e?(this._listItemNode&&this._listItemNode.classList.add("hidden"),this._childrenListNode&&this._childrenListNode.classList.add("hidden")):(this._listItemNode&&this._listItemNode.classList.remove("hidden"),this._childrenListNode&&this._childrenListNode.classList.remove("hidden")))},get shouldRefreshChildren(){return this._shouldRefreshChildren},set shouldRefreshChildren(e){this._shouldRefreshChildren=e,e&&this.expanded&&this.expand()},_setListItemNodeContent:function(){this._listItemNode&&("string"==typeof this._title?this._listItemNode.textContent=this._title:(this._listItemNode.removeChildren(),this._title&&this._listItemNode.appendChild(this._title)))}},TreeElement.prototype.appendChild=TreeOutline.prototype.appendChild,TreeElement.prototype.insertChild=TreeOutline.prototype.insertChild,TreeElement.prototype.insertBeforeChild=TreeOutline.prototype.insertBeforeChild,TreeElement.prototype.removeChild=TreeOutline.prototype.removeChild,TreeElement.prototype.removeChildAtIndex=TreeOutline.prototype.removeChildAtIndex,TreeElement.prototype.removeChildren=TreeOutline.prototype.removeChildren,TreeElement.prototype._attach=function(){this._listItemNode&&!this.parent._shouldRefreshChildren||(this._listItemNode&&this._listItemNode.parentNode&&this._listItemNode.parentNode.removeChild(this._listItemNode),this._listItemNode=this.treeOutline._childrenListNode.ownerDocument.createElement("li"),this._listItemNode.treeElement=this,this._setListItemNodeContent(),this._listItemNode.title=this._tooltip?this._tooltip:"",this.hidden&&this._listItemNode.classList.add("hidden"),this.hasChildren&&this._listItemNode.classList.add("parent"),this.expanded&&this._listItemNode.classList.add("expanded"),this.selected&&this._listItemNode.classList.add("selected"),this._listItemNode.addEventListener("mousedown",TreeElement.treeElementMouseDown,!1),this._listItemNode.addEventListener("click",TreeElement.treeElementToggled,!1),this._listItemNode.addEventListener("dblclick",TreeElement.treeElementDoubleClicked,!1),this.onattach());var e=null;this.nextSibling&&this.nextSibling._listItemNode&&this.nextSibling._listItemNode.parentNode===this.parent._childrenListNode&&(e=this.nextSibling._listItemNode),this.parent._childrenListNode.insertBefore(this._listItemNode,e),this._childrenListNode&&this.parent._childrenListNode.insertBefore(this._childrenListNode,this._listItemNode.nextSibling),this.selected&&this.select(),this.expanded&&this.expand()},TreeElement.prototype._detach=function(){this._listItemNode&&this._listItemNode.parentNode&&this._listItemNode.parentNode.removeChild(this._listItemNode),this._childrenListNode&&this._childrenListNode.parentNode&&this._childrenListNode.parentNode.removeChild(this._childrenListNode)},TreeElement.treeElementMouseDown=function(e){var t=e.currentTarget;t&&t.treeElement&&t.treeElement.selectable&&(t.treeElement.isEventWithinDisclosureTriangle(e)||t.treeElement.selectOnMouseDown(e))},TreeElement.treeElementToggled=function(e){var t=e.currentTarget;if(t&&t.treeElement){var i=t.treeElement.toggleOnClick&&!t.treeElement.selectable,n=t.treeElement.isEventWithinDisclosureTriangle(e);(i||n)&&(t.treeElement.expanded?e.altKey?t.treeElement.collapseRecursively():t.treeElement.collapse():e.altKey?t.treeElement.expandRecursively():t.treeElement.expand(),e.consume())}},TreeElement.treeElementDoubleClicked=function(e){var t=e.currentTarget;t&&t.treeElement&&(t.treeElement.ondblclick.call(t.treeElement,e)||t.treeElement.hasChildren&&!t.treeElement.expanded&&t.treeElement.expand())},TreeElement.prototype.collapse=function(){this._listItemNode&&this._listItemNode.classList.remove("expanded"),this._childrenListNode&&this._childrenListNode.classList.remove("expanded"),this.expanded=!1,this.treeOutline&&this.treeOutline._expandedStateMap.put(this.representedObject,!1),this.oncollapse()},TreeElement.prototype.collapseRecursively=function(){for(var e=this;e;)e.expanded&&e.collapse(),e=e.traverseNextTreeElement(!1,this,!0)},TreeElement.prototype.expand=function(){if(this.hasChildren&&(!this.expanded||this._shouldRefreshChildren||!this._childrenListNode)){if(this.expanded=!0,this.treeOutline&&this.treeOutline._expandedStateMap.put(this.representedObject,!0),this.treeOutline&&(!this._childrenListNode||this._shouldRefreshChildren)){this._childrenListNode&&this._childrenListNode.parentNode&&this._childrenListNode.parentNode.removeChild(this._childrenListNode),this._childrenListNode=this.treeOutline._childrenListNode.ownerDocument.createElement("ol"),this._childrenListNode.parentTreeElement=this,this._childrenListNode.classList.add("children"),this.hidden&&this._childrenListNode.classList.add("hidden"),this.onpopulate();for(var e=0;e<this.children.length;++e)this.children[e]._attach();delete this._shouldRefreshChildren}this._listItemNode&&(this._listItemNode.classList.add("expanded"),this._childrenListNode&&this._childrenListNode.parentNode!=this._listItemNode.parentNode&&this.parent._childrenListNode.insertBefore(this._childrenListNode,this._listItemNode.nextSibling)),this._childrenListNode&&this._childrenListNode.classList.add("expanded"),this.onexpand()}},TreeElement.prototype.expandRecursively=function(e){var t=this,i={},n=0;for(isNaN(e)&&(e=3);t;)n<e&&t.expand(),t=t.traverseNextTreeElement(!1,this,n>=e,i),n+=i.depthChange},TreeElement.prototype.hasAncestor=function(e){if(!e)return!1;for(var t=this.parent;t;){if(e===t)return!0;t=t.parent}return!1},TreeElement.prototype.reveal=function(){for(var e=this.parent;e&&!e.root;)e.expanded||e.expand(),e=e.parent;this.onreveal()},TreeElement.prototype.revealed=function(){for(var e=this.parent;e&&!e.root;){if(!e.expanded)return!1;e=e.parent}return!0},TreeElement.prototype.selectOnMouseDown=function(e){this.select(!1,!0)&&e.consume(!0)},TreeElement.prototype.select=function(e,t){return!(!this.treeOutline||!this.selectable||this.selected)&&(this.treeOutline.selectedTreeElement&&this.treeOutline.selectedTreeElement.deselect(),this.selected=!0,e||this.treeOutline._childrenListNode.focus(),!!this.treeOutline&&(this.treeOutline.selectedTreeElement=this,this._listItemNode&&this._listItemNode.classList.add("selected"),this.onselect(t)))},TreeElement.prototype.revealAndSelect=function(e){this.reveal(),this.select(e)},TreeElement.prototype.deselect=function(e){return!(!this.treeOutline||this.treeOutline.selectedTreeElement!==this||!this.selected||(this.selected=!1,this.treeOutline.selectedTreeElement=null,this._listItemNode&&this._listItemNode.classList.remove("selected"),0))},TreeElement.prototype.onpopulate=function(){},TreeElement.prototype.onenter=function(){return!1},TreeElement.prototype.ondelete=function(){return!1},TreeElement.prototype.onspace=function(){return!1},TreeElement.prototype.onattach=function(){},TreeElement.prototype.onexpand=function(){},TreeElement.prototype.oncollapse=function(){},TreeElement.prototype.ondblclick=function(e){return!1},TreeElement.prototype.onreveal=function(){},TreeElement.prototype.onselect=function(e){return!1},TreeElement.prototype.traverseNextTreeElement=function(e,t,i,n){!i&&this.hasChildren&&this.onpopulate(),n&&(n.depthChange=0);var r=e?this.revealed()?this.children[0]:null:this.children[0];if(r&&(!e||e&&this.expanded))return n&&(n.depthChange=1),r;if(this===t)return null;if(r=e?this.revealed()?this.nextSibling:null:this.nextSibling)return r;for(r=this;r&&!r.root&&!(e?r.revealed()&&r.nextSibling:r.nextSibling)&&r.parent!==t;)n&&(n.depthChange-=1),r=r.parent;return r?e?r.revealed()?r.nextSibling:null:r.nextSibling:null},TreeElement.prototype.traversePreviousTreeElement=function(e,t){var i=e?this.revealed()?this.previousSibling:null:this.previousSibling;for(!t&&i&&i.hasChildren&&i.onpopulate();i&&(e?i.revealed()&&i.expanded&&i.children[i.children.length-1]:i.children[i.children.length-1]);)!t&&i.hasChildren&&i.onpopulate(),i=e?i.revealed()&&i.expanded?i.children[i.children.length-1]:null:i.children[i.children.length-1];return i||(!this.parent||this.parent.root?null:this.parent)},TreeElement.prototype.isEventWithinDisclosureTriangle=function(e){var t=window.getComputedStyle(this._listItemNode).getPropertyCSSValue("padding-left"),i=t?t.getFloatValue(CSSPrimitiveValue.CSS_PX):0,n=this._listItemNode.totalOffsetLeft()+i;return e.pageX>=n&&e.pageX<=n+this.arrowToggleWidth&&this.hasChildren},window.WebInspector={_queryParamsObject:{}},WebInspector.Events={InspectorLoaded:"InspectorLoaded"},WebInspector.queryParam=function(e){return WebInspector._queryParamsObject.hasOwnProperty(e)?WebInspector._queryParamsObject[e]:null},WebInspector.Main=function(e,t){this.id=e,this.options=t;var i=function(){this._loaded(),window.removeEventListener("DOMContentLoaded",i,!1)}.bind(this);window.addEventListener("DOMContentLoaded",i,!1)},WebInspector.Main.prototype={_registerModules:function(){var e;Capabilities.isMainFrontend?(e=["profiles"],WebInspector.experimentsSettings.layersPanel.isEnabled()&&e.push("layers")):e=["profiles"],WebInspector.moduleManager.registerModules(e)},_createGlobalStatusBarItems:function(){WebInspector.inspectElementModeController&&WebInspector.inspectorView.appendToLeftToolbar(WebInspector.inspectElementModeController.toggleSearchButton.element),WebInspector.inspectorView.appendToRightToolbar(WebInspector.settingsController.statusBarItem),WebInspector.dockController.element&&WebInspector.inspectorView.appendToRightToolbar(WebInspector.dockController.element),this._screencastController&&WebInspector.inspectorView.appendToRightToolbar(this._screencastController.statusBarItem())},_createRootView:function(){var e=new WebInspector.RootView(this.id,this.options);this._rootSplitView=new WebInspector.SplitView(!1,!0,WebInspector.dockController.canDock()?"InspectorView.splitViewState":"InspectorView.dummySplitViewState",300,300),this._rootSplitView.show(e.element),WebInspector.inspectorView.show(this._rootSplitView.sidebarElement()),(new WebInspector.InspectedPagePlaceholder).show(this._rootSplitView.mainElement()),WebInspector.dockController.addEventListener(WebInspector.DockController.Events.DockSideChanged,this._updateRootSplitViewOnDockSideChange,this),this._updateRootSplitViewOnDockSideChange(),e.attachToBody()},_updateRootSplitViewOnDockSideChange:function(){var e=WebInspector.dockController.dockSide();if(e===WebInspector.DockController.State.Undocked)return this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!1),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),!1),void this._rootSplitView.hideMain();this._rootSplitView.setVertical(e===WebInspector.DockController.State.DockedToLeft||e===WebInspector.DockController.State.DockedToRight),this._rootSplitView.setSecondIsSidebar(e===WebInspector.DockController.State.DockedToRight||e===WebInspector.DockController.State.DockedToBottom),this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!0),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),e===WebInspector.DockController.State.DockedToBottom),this._rootSplitView.showBoth()},_calculateWorkerInspectorTitle:function(){var e="location.href";WebInspector.queryParam("isSharedWorker")&&(e+=" + (this.name ? ' (' + this.name + ')' : '')"),RuntimeAgent.invoke_evaluate({expression:e,doNotPauseOnExceptionsAndMuteConsole:!0,returnByValue:!0},function(e,t,i){(e||i)&&console.error(e)})},_loadCompletedForWorkers:function(){function e(){this._calculateWorkerInspectorTitle()}WebInspector.queryParam("workerPaused")?(DebuggerAgent.pause(),RuntimeAgent.run(e.bind(this))):Capabilities.isMainFrontend||e.call(this)},_resetErrorAndWarningCounts:function(){WebInspector.inspectorView.setErrorAndWarningCounts(0,0)},_updateErrorAndWarningCounts:function(){var e=WebInspector.console.errors,t=WebInspector.console.warnings;WebInspector.inspectorView.setErrorAndWarningCounts(e,t)},_debuggerPaused:function(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this),WebInspector.inspectorView.showPanel("sources")},_loaded:function(){if(!InspectorFrontendHost.sendMessageToEmbedder){var e=new WebInspector.HelpScreen(WebInspector.UIString("Incompatible Chrome version"));return e.contentElement.createChild("p","help-section").textContent=WebInspector.UIString("Please upgrade to a newer Chrome version (you might need a Dev or Canary build)."),void e.showModal()}InspectorBackend.loadFromJSONIfNeeded("../protocol.json"),WebInspector.dockController=new WebInspector.DockController(!!WebInspector.queryParam("can_dock"));var t=this._doLoadedDone.bind(this),i=WebInspector.queryParam("dedicatedWorkerId");if(i)new WebInspector.ExternalWorkerConnection(i,t);else{var n;if(WebInspector.queryParam("ws"))n="ws://"+WebInspector.queryParam("ws");else if(WebInspector.queryParam("page")){var r=WebInspector.queryParam("page");n="ws://"+(WebInspector.queryParam("host")||window.location.host)+"/devtools/page/"+r}if(n)return document.body.classList.add("remote"),void new InspectorBackendClass.WebSocketConnection(n,t);InspectorFrontendHost.isStub?(InspectorFrontendAPI.dispatchQueryParameters(WebInspector.queryParam("dispatch")),new InspectorBackendClass.StubConnection(t)):new InspectorBackendClass.MainConnection(t)}},_doLoadedDone:function(e){e.addEventListener(InspectorBackendClass.Connection.Events.Disconnected,function(e){WebInspector._disconnectedScreenWithReasonWasShown||new WebInspector.RemoteDebuggingTerminatedScreen(e.data.reason).showModal()}),InspectorBackend.setConnection(e),WebInspector.installPortStyles(),WebInspector.queryParam("toolbarColor")&&WebInspector.queryParam("textColor")&&WebInspector.setToolbarColors(WebInspector.queryParam("toolbarColor"),WebInspector.queryParam("textColor")),WebInspector.targetManager=new WebInspector.TargetManager,WebInspector.targetManager.createTarget(e,this._doLoadedDoneWithCapabilities.bind(this))},_doLoadedDoneWithCapabilities:function(e){(new WebInspector.VersionController).updateVersion(),WebInspector.shortcutsScreen=new WebInspector.ShortcutsScreen,this._registerShortcuts(),WebInspector.shortcutsScreen.section(WebInspector.UIString("Console")),WebInspector.shortcutsScreen.section(WebInspector.UIString("Elements Panel")),WebInspector.ShortcutsScreen.registerShortcuts(),WebInspector.experimentsSettings.workersInMainWindow.isEnabled()&&new WebInspector.WorkerTargetManager(e,WebInspector.targetManager),WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._resetErrorAndWarningCounts,this),WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._updateErrorAndWarningCounts,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this),WebInspector.networkLog=new WebInspector.NetworkLog,WebInspector.zoomManager=new WebInspector.ZoomManager,WebInspector.advancedSearchController=new WebInspector.AdvancedSearchController,InspectorBackend.registerInspectorDispatcher(this),WebInspector.isolatedFileSystemManager=new WebInspector.IsolatedFileSystemManager,WebInspector.isolatedFileSystemDispatcher=new WebInspector.IsolatedFileSystemDispatcher(WebInspector.isolatedFileSystemManager),WebInspector.workspace=new WebInspector.Workspace(WebInspector.isolatedFileSystemManager.mapping()),WebInspector.cssModel=new WebInspector.CSSStyleModel(WebInspector.workspace),WebInspector.timelineManager=new WebInspector.TimelineManager,WebInspector.tracingAgent=new WebInspector.TracingAgent,Capabilities.isMainFrontend?(WebInspector.inspectElementModeController=new WebInspector.InspectElementModeController,WebInspector.workerFrontendManager=new WebInspector.WorkerFrontendManager):e.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerDisconnected,function(){var t=new WebInspector.WorkerTerminatedScreen,i=function(t){e.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,i),t.hide()}.bind(null,t);e.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,i),t.showModal()}),WebInspector.settingsController=new WebInspector.SettingsController,WebInspector.domBreakpointsSidebarPane=new WebInspector.DOMBreakpointsSidebarPane;var t=WebInspector.UIString("a panel chosen automatically"),i=WebInspector.settings.createSetting("openLinkHandler",t);WebInspector.openAnchorLocationRegistry=new WebInspector.HandlerRegistry(i),WebInspector.openAnchorLocationRegistry.registerHandler(t,function(){return!1}),WebInspector.Linkifier.setLinkHandler(new WebInspector.HandlerRegistry.LinkHandler),new WebInspector.WorkspaceController(WebInspector.workspace),WebInspector.fileSystemWorkspaceProvider=new WebInspector.FileSystemWorkspaceProvider(WebInspector.isolatedFileSystemManager,WebInspector.workspace),WebInspector.networkWorkspaceProvider=new WebInspector.SimpleWorkspaceProvider(WebInspector.workspace,WebInspector.projectTypes.Network),new WebInspector.NetworkUISourceCodeProvider(WebInspector.networkWorkspaceProvider,WebInspector.workspace),WebInspector.breakpointManager=new WebInspector.BreakpointManager(WebInspector.settings.breakpoints,WebInspector.debuggerModel,WebInspector.workspace),WebInspector.scriptSnippetModel=new WebInspector.ScriptSnippetModel(WebInspector.workspace),WebInspector.overridesSupport=new WebInspector.OverridesSupport,WebInspector.overridesSupport.applyInitialOverrides(),new WebInspector.DebuggerScriptMapping(WebInspector.debuggerModel,WebInspector.workspace,WebInspector.networkWorkspaceProvider),WebInspector.liveEditSupport=new WebInspector.LiveEditSupport(WebInspector.workspace),new WebInspector.CSSStyleSheetMapping(WebInspector.cssModel,WebInspector.workspace,WebInspector.networkWorkspaceProvider),new WebInspector.PresentationConsoleMessageHelper(WebInspector.workspace),WebInspector.settings.initializeBackendSettings(),this._registerModules(),WebInspector.KeyboardShortcut.registerActions(),WebInspector.panels={},WebInspector.inspectorView=new WebInspector.InspectorView,e.canScreencast?this._screencastController=new WebInspector.ScreencastController:this._createRootView(),this._createGlobalStatusBarItems(),this._addMainEventListeners(document),window.addEventListener("resize",function(){WebInspector.settingsController&&WebInspector.settingsController.resize()},!0),document.getElementById("error-warning-count").addEventListener("click",function(){WebInspector.console.show()},!1),this._updateErrorAndWarningCounts(),WebInspector.extensionServerProxy.setFrontendReady(),WebInspector.databaseModel=new WebInspector.DatabaseModel,WebInspector.domStorageModel=new WebInspector.DOMStorageModel,WebInspector.cpuProfilerModel=new WebInspector.CPUProfilerModel,InspectorAgent.enable(function(){function e(){PageAgent.setShowViewportSizeOnResize(!0,WebInspector.settings.showMetricsRulers.get())}WebInspector.inspectorView.showInitialPanel(),WebInspector.overridesSupport.hasActiveOverrides()&&WebInspector.inspectorView.showViewInDrawer("emulation",!0),WebInspector.settings.showMetricsRulers.addChangeListener(e),e(),this._screencastController&&this._screencastController.initialize()}.bind(this)),this._loadCompletedForWorkers(),InspectorFrontendAPI.loadCompleted(),WebInspector.notifications.dispatchEventToListeners(WebInspector.NotificationService.Events.InspectorLoaded)},_documentClick:function(e){var t=e.target.enclosingNodeOrSelfWithNodeName("a");function i(){if(!WebInspector.isBeingEdited(e.target)&&!WebInspector.openAnchorLocationRegistry.dispatch({url:t.href,lineNumber:t.lineNumber})){var i=WebInspector.workspace.uiSourceCodeForURL(t.href);if(i)WebInspector.Revealer.reveal(new WebInspector.UILocation(i,t.lineNumber||0,t.columnNumber||0));else{var n=WebInspector.resourceForURL(t.href);if(n)WebInspector.Revealer.reveal(n);else{var r=WebInspector.networkLog.requestForURL(t.href);r?WebInspector.Revealer.reveal(r):InspectorFrontendHost.openInNewTab(t.href)}}}}t&&t.href&&"_blank"!==t.target&&(e.consume(!0),WebInspector.followLinkTimeout&&clearTimeout(WebInspector.followLinkTimeout),t.preventFollowOnDoubleClick?1===e.detail&&(WebInspector.followLinkTimeout=setTimeout(i,333)):i())},_registerShortcuts:function(){var e=WebInspector.KeyboardShortcut,t=WebInspector.shortcutsScreen.section(WebInspector.UIString("All Panels")),i=[e.makeDescriptor("[",e.Modifiers.CtrlOrMeta),e.makeDescriptor("]",e.Modifiers.CtrlOrMeta)];t.addRelatedKeys(i,WebInspector.UIString("Go to the panel to the left/right")),i=[e.makeDescriptor("[",e.Modifiers.CtrlOrMeta|e.Modifiers.Alt),e.makeDescriptor("]",e.Modifiers.CtrlOrMeta|e.Modifiers.Alt)],t.addRelatedKeys(i,WebInspector.UIString("Go back/forward in panel history"));var n=WebInspector.UIString("Show console");t.addKey(e.makeDescriptor(e.Keys.Tilde,e.Modifiers.Ctrl),n);var r=WebInspector.experimentsSettings.doNotOpenDrawerOnEsc.isEnabled()?WebInspector.UIString("Hide drawer"):WebInspector.UIString("Toggle drawer");t.addKey(e.makeDescriptor(e.Keys.Esc),r),t.addKey(e.makeDescriptor("f",e.Modifiers.CtrlOrMeta),WebInspector.UIString("Search"));var s=WebInspector.AdvancedSearchController.createShortcut();t.addKey(s,WebInspector.UIString("Search across all sources"));var o=WebInspector.InspectElementModeController.createShortcut();t.addKey(o,WebInspector.UIString("Select node to inspect"));var a=WebInspector.KeyboardShortcut.makeDescriptor("o",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta);t.addKey(a,WebInspector.UIString("Go to source")),WebInspector.isMac()&&(i=[e.makeDescriptor("g",e.Modifiers.Meta),e.makeDescriptor("g",e.Modifiers.Meta|e.Modifiers.Shift)],t.addRelatedKeys(i,WebInspector.UIString("Find next/previous")))},_handleZoomEvent:function(e){switch(e.keyCode){case 107:case 187:return InspectorFrontendHost.zoomIn(),!0;case 109:case 189:return InspectorFrontendHost.zoomOut(),!0;case 48:case 96:if(!e.shiftKey)return InspectorFrontendHost.resetZoom(),!0}return!1},_postDocumentKeyDown:function(e){if(!e.handled)if(!WebInspector.Dialog.currentInstance()&&WebInspector.inspectorView.currentPanel()&&(WebInspector.inspectorView.currentPanel().handleShortcut(e),e.handled))e.consume(!0);else if((WebInspector.Dialog.currentInstance()||!WebInspector.advancedSearchController.handleShortcut(e))&&(WebInspector.Dialog.currentInstance()||!WebInspector.inspectElementModeController||!WebInspector.inspectElementModeController.handleShortcut(e))){var t=WebInspector.KeyboardShortcut.eventHasCtrlOrMeta(e)&&!e.altKey&&!InspectorFrontendHost.isStub;!WebInspector.Dialog.currentInstance()&&t&&this._handleZoomEvent(e)?e.consume(!0):WebInspector.KeyboardShortcut.handleShortcut(e)}},_documentCanCopy:function(e){WebInspector.inspectorView.currentPanel()&&WebInspector.inspectorView.currentPanel().handleCopyEvent&&e.preventDefault()},_documentCopy:function(e){WebInspector.inspectorView.currentPanel()&&WebInspector.inspectorView.currentPanel().handleCopyEvent&&WebInspector.inspectorView.currentPanel().handleCopyEvent(e)},_contextMenuEventFired:function(e){(e.handled||e.target.classList.contains("popup-glasspane"))&&e.preventDefault()},_inspectNodeRequested:function(e){this._updateFocusedNode(e.data)},_updateFocusedNode:function(e){var t=WebInspector.domModel.nodeForId(e);console.assert(t),WebInspector.Revealer.reveal(t)},_addMainEventListeners:function(e){e.addEventListener("keydown",this._postDocumentKeyDown.bind(this),!1),e.addEventListener("beforecopy",this._documentCanCopy.bind(this),!0),e.addEventListener("copy",this._documentCopy.bind(this),!1),e.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!0),e.addEventListener("click",this._documentClick.bind(this),!1)},inspect:function(e,t){var i=WebInspector.RemoteObject.fromPayload(e);if("node"===i.subtype){i.pushNodeToFrontend(function(e){n.stopOmittingDefaultSelection(),WebInspector.Revealer.reveal(WebInspector.domModel.nodeForId(e)),WebInspector.inspectorView.drawerVisible()||WebInspector._notFirstInspectElement||InspectorFrontendHost.inspectElementCompleted(),WebInspector._notFirstInspectElement=!0,i.release()});var n=WebInspector.inspectorView.panel("elements");return n.omitDefaultSelection(),void WebInspector.inspectorView.setCurrentPanel(n)}"function"!==i.type?(t.copyToClipboard&&InspectorFrontendHost.copyText(i.value),i.release()):DebuggerAgent.getFunctionDetails(i.objectId,function(e,t){if(i.release(),e)console.error(e);else{var n=WebInspector.debuggerModel.rawLocationToUILocation(t.location);n&&WebInspector.inspectorView.panel("sources").showUILocation(n,!0)}})},detached:function(e){WebInspector._disconnectedScreenWithReasonWasShown=!0,new WebInspector.RemoteDebuggingTerminatedScreen(e).showModal()},targetCrashed:function(){new WebInspector.HelpScreenUntilReload(WebInspector.UIString("Inspected target crashed"),WebInspector.UIString("Inspected target has crashed. Once it reloads we will attach to it automatically.")).showModal()},evaluateForTestInFrontend:function(e,t){WebInspector.evaluateForTestInFrontend(e,t)}},WebInspector.reload=function(){InspectorAgent.reset(),window.location.reload()},WebInspector.Main.ReloadActionDelegate=function(){},WebInspector.Main.ReloadActionDelegate.prototype={handleAction:function(){return WebInspector.Dialog.currentInstance()||(WebInspector.debuggerModel.skipAllPauses(!0,!0),WebInspector.resourceTreeModel.reloadPage(!1)),!0}},WebInspector.Main.HardReloadActionDelegate=function(){},WebInspector.Main.HardReloadActionDelegate.prototype={handleAction:function(){return WebInspector.Dialog.currentInstance()||(WebInspector.debuggerModel.skipAllPauses(!0,!0),WebInspector.resourceTreeModel.reloadPage(!0)),!0}},WebInspector.Main.DebugReloadActionDelegate=function(){},WebInspector.Main.DebugReloadActionDelegate.prototype={handleAction:function(){return WebInspector.reload(),!0}},window.DEBUG=!0,WebInspector.__defineGetter__("inspectedPageURL",function(){return WebInspector.resourceTreeModel.inspectedPageURL()}),WebInspector.panel=function(e){return WebInspector.inspectorView.panel(e)},WebInspector.ModuleManager=function(e){this._modules=[],this._modulesMap={},this._extensions=[],this._cachedTypeClasses={},this._descriptorsMap={};for(var t=0;t<e.length;++t)this._descriptorsMap[e[t].name]=e[t]},WebInspector.ModuleManager.prototype={registerModules:function(e){for(var t=0;t<e.length;++t)this.registerModule(e[t])},registerModule:function(e){if(!this._descriptorsMap[e])throw new Error("Module is not defined: "+e+" "+(new Error).stack);var t=new WebInspector.ModuleManager.Module(this,this._descriptorsMap[e]);this._modules.push(t),this._modulesMap[e]=t},loadModule:function(e){this._modulesMap[e]._load()},extensions:function(e,t){return this._extensions.filter(function(i){return(i._type===e||i._typeClass()===e)&&(!t||i.isApplicable(t))})},extension:function(e,t){return this.extensions(e,t)[0]||null},instances:function(e,t){function i(e){return e.instance()}return this.extensions(e,t).filter(i).map(i)},instance:function(e,t){var i=this.extension(e,t);return i?i.instance():null},orderComparator:function(e,t,i){for(var n=this.extensions(e),r={},s=0;s<n.length;++s){var o=n[s].descriptor();r[o[t]]=o[i]}return function(e,t){return e in r&&t in r?r[e]-r[t]:e in r?-1:t in r?1:e.compareTo(t)}},resolve:function(e){if(!this._cachedTypeClasses[e])try{this._cachedTypeClasses[e]=Sfdc.resolve(e.substring(1))}catch(e){}return this._cachedTypeClasses[e]}},WebInspector.ModuleManager.ModuleDescriptor=function(){this.name,this.extensions,this.scripts},WebInspector.ModuleManager.ExtensionDescriptor=function(){this.type,this.className,this.contextTypes},WebInspector.ModuleManager.Module=function(e,t){this._manager=e,this._descriptor=t,this._name=t.name;for(var i=t.extensions,n=0;i&&n<i.length;++n)this._manager._extensions.push(new WebInspector.ModuleManager.Extension(this,i[n]));this._loaded=!1},WebInspector.ModuleManager.Module.prototype={name:function(){return this._name},_load:function(){if(!this._loaded){if(this._isLoading){var e=Error.stackTraceLimit;return Error.stackTraceLimit=50,console.assert(!1,"Module "+this._name+" is loaded from itself: "+(new Error).stack),void(Error.stackTraceLimit=e)}this._isLoading=!0;for(var t=this._descriptor.scripts,i=0;t&&i<t.length;++i)loadScript(t[i]);this._isLoading=!1,this._loaded=!0}}},WebInspector.ModuleManager.Extension=function(e,t){this._module=e,this._descriptor=t,this._type=t.type,this._hasTypeClass=!!this._type.startsWith("@"),this._className=t.className||null},WebInspector.ModuleManager.Extension.prototype={descriptor:function(){return this._descriptor},module:function(){return this._module},_typeClass:function(){return this._hasTypeClass?this._module._manager.resolve(this._type):null},isApplicable:function(e){var t=this._descriptor.contextTypes;if(!t)return!0;for(var i=0;i<t.length;++i)if(e instanceof Sfdc.resolve(t[i]))return!0;return!1},instance:function(){if(!this._className)return null;if(!this._instance){this._module._load();var e=Sfdc.resolve(this._className);if(!(e instanceof Function))return null;this._instance=new e}return this._instance}},WebInspector.Renderer=function(){},WebInspector.Renderer.prototype={render:function(e){}},WebInspector.Revealer=function(){},WebInspector.Revealer.reveal=function(e,t){if(e){var i=WebInspector.moduleManager.instance(WebInspector.Revealer,e);i&&i.reveal(e,t)}},WebInspector.Revealer.prototype={reveal:function(e){}},WebInspector.ActionDelegate=function(){},WebInspector.ActionDelegate.prototype={handleAction:function(e){}},WebInspector.moduleManager=new WebInspector.ModuleManager(allDescriptors),WebInspector.platform=function(){return WebInspector._platform||(WebInspector._platform=InspectorFrontendHost.platform()),WebInspector._platform},WebInspector.isMac=function(){return void 0===WebInspector._isMac&&(WebInspector._isMac="mac"===WebInspector.platform()),WebInspector._isMac},WebInspector.isWin=function(){return void 0===WebInspector._isWin&&(WebInspector._isWin="windows"===WebInspector.platform()),WebInspector._isWin},WebInspector.PlatformFlavor={WindowsVista:"windows-vista",MacTiger:"mac-tiger",MacLeopard:"mac-leopard",MacSnowLeopard:"mac-snowleopard",MacLion:"mac-lion"},WebInspector.platformFlavor=function(){return WebInspector._platformFlavor||(WebInspector._platformFlavor=function(){const e=navigator.userAgent;if("windows"===WebInspector.platform())return(t=e.match(/Windows NT (\d+)\.(?:\d+)/))&&t[1]>=6?WebInspector.PlatformFlavor.WindowsVista:null;if("mac"===WebInspector.platform()){var t;if(!(t=e.match(/Mac OS X\s*(?:(\d+)_(\d+))?/))||10!=t[1])return WebInspector.PlatformFlavor.MacSnowLeopard;switch(Number(t[2])){case 4:return WebInspector.PlatformFlavor.MacTiger;case 5:return WebInspector.PlatformFlavor.MacLeopard;case 6:return WebInspector.PlatformFlavor.MacSnowLeopard;case 7:return WebInspector.PlatformFlavor.MacLion;case 8:case 9:default:return""}}}()),WebInspector._platformFlavor},WebInspector.port=function(){return WebInspector._port||(WebInspector._port=InspectorFrontendHost.port()),WebInspector._port},WebInspector.fontFamily=function(){if(WebInspector._fontFamily)return WebInspector._fontFamily;switch(WebInspector.platform()){case"linux":WebInspector._fontFamily="Ubuntu, Arial, sans-serif";break;case"mac":WebInspector._fontFamily="'Lucida Grande', sans-serif";break;case"windows":WebInspector._fontFamily="'Segoe UI', Tahoma, sans-serif"}return WebInspector._fontFamily},WebInspector.Geometry={},WebInspector.Geometry._Eps=1e-5,WebInspector.Geometry.Vector=function(e,t,i){this.x=e,this.y=t,this.z=i},WebInspector.Geometry.Vector.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();e<=WebInspector.Geometry._Eps||(this.x/=e,this.y/=e,this.z/=e)}},WebInspector.Geometry.EulerAngles=function(e,t,i){this.alpha=e,this.beta=t,this.gamma=i},WebInspector.Geometry.EulerAngles.fromRotationMatrix=function(e){var t=Math.atan2(e.m23,e.m33),i=Math.atan2(-e.m13,Math.sqrt(e.m11*e.m11+e.m12*e.m12)),n=Math.atan2(e.m12,e.m11);return new WebInspector.Geometry.EulerAngles(WebInspector.Geometry.radToDeg(n),WebInspector.Geometry.radToDeg(t),WebInspector.Geometry.radToDeg(i))},WebInspector.Geometry.scalarProduct=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},WebInspector.Geometry.crossProduct=function(e,t){var i=e.y*t.z-e.z*t.y,n=e.z*t.x-e.x*t.z,r=e.x*t.y-e.y*t.x;return new WebInspector.Geometry.Vector(i,n,r)},WebInspector.Geometry.calculateAngle=function(e,t){var i=e.length(),n=t.length();if(i<=WebInspector.Geometry._Eps||n<=WebInspector.Geometry._Eps)return 0;var r=WebInspector.Geometry.scalarProduct(e,t)/i/n;return Math.abs(r)>1?0:WebInspector.Geometry.radToDeg(Math.acos(r))},WebInspector.Geometry.radToDeg=function(e){return 180*e/Math.PI},WebInspector.UIString=function(e,t){return String.vsprintf(e,Array.prototype.slice.call(arguments,1))},WebInspector.Object=function(){},WebInspector.Object.prototype={addEventListener:function(e,t,i){t||console.assert(!1),this._listeners||(this._listeners={}),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({thisObject:i,listener:t})},removeEventListener:function(e,t,i){if(console.assert(t),this._listeners&&this._listeners[e]){for(var n=this._listeners[e],r=0;r<n.length;++r)t&&n[r].listener===t&&n[r].thisObject===i?n.splice(r,1):!t&&i&&n[r].thisObject===i&&n.splice(r,1);n.length||delete this._listeners[e]}},removeAllListeners:function(){delete this._listeners},hasEventListeners:function(e){return!(!this._listeners||!this._listeners[e])},dispatchEventToListeners:function(e,t){if(!this._listeners||!this._listeners[e])return!1;for(var i=new WebInspector.Event(this,e,t),n=this._listeners[e].slice(0),r=0;r<n.length&&(n[r].listener.call(n[r].thisObject,i),!i._stoppedPropagation);++r);return i.defaultPrevented}},WebInspector.Event=function(e,t,i){this.target=e,this.type=t,this.data=i,this.defaultPrevented=!1,this._stoppedPropagation=!1},WebInspector.Event.prototype={stopPropagation:function(){this._stoppedPropagation=!0},preventDefault:function(){this.defaultPrevented=!0},consume:function(e){this.stopPropagation(),e&&this.preventDefault()}},WebInspector.EventTarget=function(){},WebInspector.EventTarget.prototype={addEventListener:function(e,t,i){},removeEventListener:function(e,t,i){},removeAllListeners:function(){},hasEventListeners:function(e){},dispatchEventToListeners:function(e,t){}},InspectorBackendClass.prototype={_initProtocolAgentsConstructor:function(){window.Protocol={},window.Protocol.Agents=function(e){this._agentsMap=e}},_addAgentGetterMethodToProtocolAgentsPrototype:function(e){for(var t=0;t<e.length&&e[t].toLowerCase()!==e[t];)++t;var i=e.substr(0,t).toLowerCase()+e.slice(t)+"Agent";window.Protocol.Agents.prototype[i]=function(){return this._agentsMap[e]},window.Protocol.Agents.prototype["register"+e+"Dispatcher"]=function(t){this.registerDispatcher(e,t)}},connection:function(){if(!this._connection)throw"Main connection was not initialized";return this._connection},setConnection:function(e){for(var t in this._connection=e,this._connection.registerAgentsOn(window),this._enums){var i=t.split(".");window[i[0]+"Agent"][i[1]]=this._enums[t]}},_agentPrototype:function(e){return this._agentPrototypes[e]||(this._agentPrototypes[e]=new InspectorBackendClass.AgentPrototype(e),this._addAgentGetterMethodToProtocolAgentsPrototype(e)),this._agentPrototypes[e]},_dispatcherPrototype:function(e){return this._dispatcherPrototypes[e]||(this._dispatcherPrototypes[e]=new InspectorBackendClass.DispatcherPrototype),this._dispatcherPrototypes[e]},registerCommand:function(e,t,i,n){var r=e.split(".");this._agentPrototype(r[0]).registerCommand(r[1],t,i,n),this._initialized=!0},registerEnum:function(e,t){this._enums[e]=t,this._initialized=!0},registerEvent:function(e,t){var i=e.split(".")[0];this._dispatcherPrototype(i).registerEvent(e,t),this._initialized=!0},registerDomainDispatcher:function(e,t){},loadFromJSONIfNeeded:function(jsonUrl){if(!this._initialized){var xhr=new XMLHttpRequest;xhr.open("GET",jsonUrl,!1),xhr.send(null);var schema=JSON.parse(xhr.responseText),code=InspectorBackendClass._generateCommands(schema);eval(code)}},wrapClientCallback:function(e,t,i,n){return function(r,s){if(r)return console.error(t+r),void e(n);e(i?new i(s):s)}}},InspectorBackendClass._generateCommands=function(e){for(var t={integer:"number",array:"object"},i={},n=[],r=e.domains||[],s=0;s<r.length;++s)for(var o=r[s],a=0;o.types&&a<o.types.length;++a){var c=o.types[a];i[o.domain+"."+c.id]=t[c.type]||c.type}function l(e,t,i){return[t,i][e].toUpperCase()}function d(e,t){for(var i=[],n=0;n<t.length;++n){var r=t[n],s=r.replace(/-(\w)/g,l.bind(null,1)).toTitleCase();s=s.replace(/HTML|XML|WML|API/gi,l.bind(null,0)),i.push(s+': "'+r+'"')}return'InspectorBackend.registerEnum("'+e+'", {'+i.join(", ")+"});"}for(s=0;s<r.length;++s){var h=(o=r[s]).types||[];for(a=0;a<h.length;++a)if("string"===(c=h[a]).type&&c.enum)n.push(d(o.domain+"."+c.id,c.enum));else if("object"===c.type)for(var p=c.properties||[],u=0;u<p.length;++u){var m=p[u];"string"===m.type&&m.enum&&n.push(d(o.domain+"."+c.id+m.name.toTitleCase(),m.enum))}var _=o.commands||[];for(a=0;a<_.length;++a){var g=_[a],b=g.parameters,f=[];for(u=0;b&&u<b.length;++u){if((C=b[u]).type)c=t[C.type]||C.type;else{var I=C.$ref;c=-1!==I.indexOf(".")?i[I]:i[o.domain+"."+I]}var v='{"name": "'+C.name+'", "type": "'+c+'", "optional": '+(C.optional?"true":"false")+"}";f.push(v)}var S=[],y=g.returns||[];for(u=0;u<y.length;++u){var C=y[u];S.push('"'+C.name+'"')}var W=String(Boolean(g.error));n.push('InspectorBackend.registerCommand("'+o.domain+"."+g.name+'", ['+f.join(", ")+"], ["+S.join(", ")+"], "+W+");")}for(a=0;o.events&&a<o.events.length;++a){var w=o.events[a];for(f=[],u=0;w.parameters&&u<w.parameters.length;++u)C=w.parameters[u],f.push('"'+C.name+'"');n.push('InspectorBackend.registerEvent("'+o.domain+"."+w.name+'", ['+f.join(", ")+"]);")}n.push("InspectorBackend.register"+o.domain+'Dispatcher = InspectorBackend.registerDomainDispatcher.bind(InspectorBackend, "'+o.domain+'");')}return n.join("\n")},InspectorBackendClass.Connection=function(){this._lastMessageId=1,this._pendingResponsesCount=0,this._agents={},this._dispatchers={},this._callbacks={},this._initialize(InspectorBackend._agentPrototypes,InspectorBackend._dispatcherPrototypes)},InspectorBackendClass.Connection.Events={Disconnected:"Disconnected"},InspectorBackendClass.Connection.prototype={_initialize:function(e,t){for(var i in e)this._agents[i]=Object.create(e[i]),this._agents[i].setConnection(this);for(var i in t)this._dispatchers[i]=Object.create(t[i])},registerAgentsOn:function(e){for(var t in this._agents)e[t+"Agent"]=this._agents[t]},nextMessageId:function(){return this._lastMessageId++},agent:function(e){return this._agents[e]},agentsMap:function(){return this._agents},_wrapCallbackAndSendMessageObject:function(e,t,i,n){var r={};r.method=t,i&&(r.params=i);var s=this._wrap(n,e,t),o=this.nextMessageId();r.id=o,InspectorBackendClass.Options.dumpInspectorProtocolMessages&&console.log("frontend: "+JSON.stringify(r)),this.sendMessage(r),++this._pendingResponsesCount,this._callbacks[o]=s},_wrap:function(e,t,i){return e||(e=function(){}),e.methodName=i,e.domain=t,InspectorBackendClass.Options.dumpInspectorTimeStats&&(e.sendRequestTime=Date.now()),e},sendMessage:function(e){throw"Not implemented"},reportProtocolError:function(e){console.error("Protocol Error: the message with wrong id. Message =  "+JSON.stringify(e))},dispatch:function(e){InspectorBackendClass.Options.dumpInspectorProtocolMessages&&console.log("backend: "+("string"==typeof e?e:JSON.stringify(e)));var t="string"==typeof e?JSON.parse(e):e;if("id"in t){var i,n=this._callbacks[t.id];return n?(InspectorBackendClass.Options.dumpInspectorTimeStats&&(i=Date.now()),this.agent(n.domain).dispatchResponse(t.id,t,n.methodName,n),--this._pendingResponsesCount,delete this._callbacks[t.id],InspectorBackendClass.Options.dumpInspectorTimeStats&&console.log("time-stats: "+n.methodName+" = "+(i-n.sendRequestTime)+" + "+(Date.now()-i)),void(this._scripts&&!this._pendingResponsesCount&&this.runAfterPendingDispatches())):void this.reportProtocolError(t)}var r=t.method.split("."),s=r[0];s in this._dispatchers?this._dispatchers[s].dispatch(r[1],t):console.error("Protocol Error: the message "+t.method+" is for non-existing domain '"+s+"'")},registerDispatcher:function(e,t){this._dispatchers[e]&&this._dispatchers[e].setDomainDispatcher(t)},runAfterPendingDispatches:function(e){if(this._scripts||(this._scripts=[]),e&&this._scripts.push(e),!this._pendingResponsesCount){var t=this._scripts;this._scripts=[];for(var i=0;i<t.length;++i)t[i].call(this)}},fireDisconnected:function(e){this.dispatchEventToListeners(InspectorBackendClass.Connection.Events.Disconnected,{reason:e})},__proto__:WebInspector.Object.prototype},InspectorBackendClass.MainConnection=function(e){InspectorBackendClass.Connection.call(this),e(this)},InspectorBackendClass.MainConnection.prototype={sendMessage:function(e){var t=JSON.stringify(e);InspectorFrontendHost.sendMessageToBackend(t)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.WebSocketConnection=function(e,t){InspectorBackendClass.Connection.call(this),this._socket=new WebSocket(e),this._socket.onmessage=this._onMessage.bind(this),this._socket.onerror=this._onError.bind(this),this._socket.onopen=t.bind(null,this),this._socket.onclose=this.fireDisconnected.bind(this,"websocket_closed")},InspectorBackendClass.WebSocketConnection.prototype={_onMessage:function(e){var t=e.data;this.dispatch(t)},_onError:function(e){console.error(e)},sendMessage:function(e){var t=JSON.stringify(e);this._socket.send(t)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.StubConnection=function(e){InspectorBackendClass.Connection.call(this),e(this)},InspectorBackendClass.StubConnection.prototype={sendMessage:function(e){JSON.stringify(e),setTimeout(this._echoResponse.bind(this,e),0)},_echoResponse:function(e){this.dispatch(e)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.AgentPrototype=function(e){this._replyArgs={},this._hasErrorData={},this._domain=e},InspectorBackendClass.AgentPrototype.prototype={setConnection:function(e){this._connection=e},registerCommand:function(e,t,i,n){var r=this._domain+"."+e;this[e]=function(e){var i=[r,t].concat(Array.prototype.slice.call(arguments));InspectorBackendClass.AgentPrototype.prototype._sendMessageToBackend.apply(this,i)},this["invoke_"+e]=function(e){var t=[r].concat(Array.prototype.slice.call(arguments));InspectorBackendClass.AgentPrototype.prototype._invoke.apply(this,t)},this._replyArgs[r]=i,n&&(this._hasErrorData[r]=!0)},_sendMessageToBackend:function(e,t,i){for(var n=Array.prototype.slice.call(arguments,2),r=n.length&&"function"==typeof n[n.length-1]?n.pop():null,s={},o=!1,a=0;a<t.length;++a){var c=t[a],l=c.name,d=c.type,h=c.optional;if(!n.length&&!h)return void console.error("Protocol Error: Invalid number of arguments for method '"+e+"' call. It must have the following arguments '"+JSON.stringify(t)+"'.");var p=n.shift();if(!h||void 0!==p){if(typeof p!==d)return void console.error("Protocol Error: Invalid type of argument '"+l+"' for method '"+e+"' call. It must be '"+d+"' but it is '"+typeof p+"'.");s[l]=p,o=!0}}1!==n.length||r||void 0===n[0]?this._connection._wrapCallbackAndSendMessageObject(this._domain,e,o?s:null,r):console.error("Protocol Error: Optional callback argument for method '"+e+"' call must be a function but its type is '"+typeof n[0]+"'.")},_invoke:function(e,t,i){this._connection._wrapCallbackAndSendMessageObject(this._domain,e,t,i)},dispatchResponse:function(e,t,i,n){t.error&&-32e3!==t.error.code&&console.error("Request with id = "+t.id+" failed. "+JSON.stringify(t.error));var r=[];if(r[0]=t.error?t.error.message:null,this._hasErrorData[i]&&(r[1]=t.error?t.error.data:null),t.result)for(var s=this._replyArgs[i]||[],o=0;o<s.length;++o)r.push(t.result[s[o]]);n.apply(null,r)}},InspectorBackendClass.DispatcherPrototype=function(){this._eventArgs={},this._dispatcher=null},InspectorBackendClass.DispatcherPrototype.prototype={registerEvent:function(e,t){this._eventArgs[e]=t},setDomainDispatcher:function(e){this._dispatcher=e},dispatch:function(e,t){if(this._dispatcher)if(e in this._dispatcher)if(this._eventArgs[t.method]){var i,n=[];if(t.params)for(var r=this._eventArgs[t.method],s=0;s<r.length;++s)n.push(t.params[r[s]]);InspectorBackendClass.Options.dumpInspectorTimeStats&&(i=Date.now()),this._dispatcher[e].apply(this._dispatcher,n),InspectorBackendClass.Options.dumpInspectorTimeStats&&console.log("time-stats: "+t.method+" = "+(Date.now()-i))}else console.error("Protocol Error: Attempted to dispatch an unspecified method '"+t.method+"'");else console.error("Protocol Error: Attempted to dispatch an unimplemented method '"+t.method+"'")}},InspectorBackendClass.Options={dumpInspectorTimeStats:!1,dumpInspectorProtocolMessages:!1},InspectorBackend=new InspectorBackendClass,InspectorBackend.registerInspectorDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Inspector"),InspectorBackend.registerEvent("Inspector.evaluateForTestInFrontend",["testCallId","script"]),InspectorBackend.registerEvent("Inspector.inspect",["object","hints"]),InspectorBackend.registerEvent("Inspector.detached",["reason"]),InspectorBackend.registerEvent("Inspector.targetCrashed",[]),InspectorBackend.registerCommand("Inspector.enable",[],[],!1),InspectorBackend.registerCommand("Inspector.disable",[],[],!1),InspectorBackend.registerCommand("Inspector.reset",[],[],!1),InspectorBackend.registerMemoryDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Memory"),InspectorBackend.registerCommand("Memory.getDOMCounters",[],["documents","nodes","jsEventListeners"],!1),InspectorBackend.registerPageDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Page"),InspectorBackend.registerEnum("Page.ResourceType",{Document:"Document",Stylesheet:"Stylesheet",Image:"Image",Font:"Font",Script:"Script",XHR:"XHR",WebSocket:"WebSocket",Other:"Other"}),InspectorBackend.registerEnum("Page.UsageItemId",{Filesystem:"filesystem",Database:"database",Appcache:"appcache",Indexeddatabase:"indexeddatabase"}),InspectorBackend.registerEvent("Page.domContentEventFired",["timestamp"]),InspectorBackend.registerEvent("Page.loadEventFired",["timestamp"]),InspectorBackend.registerEvent("Page.frameAttached",["frameId","parentFrameId"]),InspectorBackend.registerEvent("Page.frameNavigated",["frame"]),InspectorBackend.registerEvent("Page.frameDetached",["frameId"]),InspectorBackend.registerEvent("Page.frameStartedLoading",["frameId"]),InspectorBackend.registerEvent("Page.frameStoppedLoading",["frameId"]),InspectorBackend.registerEvent("Page.frameScheduledNavigation",["frameId","delay"]),InspectorBackend.registerEvent("Page.frameClearedScheduledNavigation",["frameId"]),InspectorBackend.registerEvent("Page.frameResized",[]),InspectorBackend.registerEvent("Page.javascriptDialogOpening",["message"]),InspectorBackend.registerEvent("Page.javascriptDialogClosed",[]),InspectorBackend.registerEvent("Page.scriptsEnabled",["isEnabled"]),InspectorBackend.registerEvent("Page.screencastFrame",["data","metadata"]),InspectorBackend.registerEvent("Page.screencastVisibilityChanged",["visible"]),InspectorBackend.registerCommand("Page.enable",[],[],!1),InspectorBackend.registerCommand("Page.disable",[],[],!1),InspectorBackend.registerCommand("Page.addScriptToEvaluateOnLoad",[{name:"scriptSource",type:"string",optional:!1}],["identifier"],!1),InspectorBackend.registerCommand("Page.removeScriptToEvaluateOnLoad",[{name:"identifier",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.reload",[{name:"ignoreCache",type:"boolean",optional:!0},{name:"scriptToEvaluateOnLoad",type:"string",optional:!0},{name:"scriptPreprocessor",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.navigate",[{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getNavigationHistory",[],["currentIndex","entries"],!1),InspectorBackend.registerCommand("Page.navigateToHistoryEntry",[{name:"entryId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getCookies",[],["cookies"],!1),InspectorBackend.registerCommand("Page.deleteCookie",[{name:"cookieName",type:"string",optional:!1},{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getResourceTree",[],["frameTree"],!1),InspectorBackend.registerCommand("Page.getResourceContent",[{name:"frameId",type:"string",optional:!1},{name:"url",type:"string",optional:!1}],["content","base64Encoded"],!1),InspectorBackend.registerCommand("Page.searchInResource",[{name:"frameId",type:"string",optional:!1},{name:"url",type:"string",optional:!1},{name:"query",type:"string",optional:!1},{name:"caseSensitive",type:"boolean",optional:!0},{name:"isRegex",type:"boolean",optional:!0}],["result"],!1),InspectorBackend.registerCommand("Page.setDocumentContent",[{name:"frameId",type:"string",optional:!1},{name:"html",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setDeviceMetricsOverride",[{name:"width",type:"number",optional:!1},{name:"height",type:"number",optional:!1},{name:"deviceScaleFactor",type:"number",optional:!1},{name:"emulateViewport",type:"boolean",optional:!1},{name:"fitWindow",type:"boolean",optional:!1},{name:"textAutosizing",type:"boolean",optional:!0},{name:"fontScaleFactor",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.setShowPaintRects",[{name:"result",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setShowDebugBorders",[{name:"show",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setShowFPSCounter",[{name:"show",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setContinuousPaintingEnabled",[{name:"enabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setShowScrollBottleneckRects",[{name:"show",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getScriptExecutionStatus",[],["result"],!1),InspectorBackend.registerCommand("Page.setScriptExecutionDisabled",[{name:"value",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setGeolocationOverride",[{name:"latitude",type:"number",optional:!0},{name:"longitude",type:"number",optional:!0},{name:"accuracy",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.clearGeolocationOverride",[],[],!1),InspectorBackend.registerCommand("Page.setDeviceOrientationOverride",[{name:"alpha",type:"number",optional:!1},{name:"beta",type:"number",optional:!1},{name:"gamma",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.clearDeviceOrientationOverride",[],[],!1),InspectorBackend.registerCommand("Page.setTouchEmulationEnabled",[{name:"enabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setEmulatedMedia",[{name:"media",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.captureScreenshot",[],["data"],!1),InspectorBackend.registerCommand("Page.canScreencast",[],["result"],!1),InspectorBackend.registerCommand("Page.startScreencast",[{name:"format",type:"string",optional:!0},{name:"quality",type:"number",optional:!0},{name:"maxWidth",type:"number",optional:!0},{name:"maxHeight",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.stopScreencast",[],[],!1),InspectorBackend.registerCommand("Page.handleJavaScriptDialog",[{name:"accept",type:"boolean",optional:!1},{name:"promptText",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.setShowViewportSizeOnResize",[{name:"show",type:"boolean",optional:!1},{name:"showGrid",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.queryUsageAndQuota",[{name:"securityOrigin",type:"string",optional:!1}],["quota","usage"],!1),InspectorBackend.registerRuntimeDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Runtime"),InspectorBackend.registerEnum("Runtime.RemoteObjectType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean"}),InspectorBackend.registerEnum("Runtime.RemoteObjectSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date"}),InspectorBackend.registerEnum("Runtime.PropertyPreviewType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean",Accessor:"accessor"}),InspectorBackend.registerEnum("Runtime.PropertyPreviewSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date"}),InspectorBackend.registerEnum("Runtime.CallArgumentType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean"}),InspectorBackend.registerEvent("Runtime.executionContextCreated",["context"]),InspectorBackend.registerCommand("Runtime.evaluate",[{name:"expression",type:"string",optional:!1},{name:"objectGroup",type:"string",optional:!0},{name:"includeCommandLineAPI",type:"boolean",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0},{name:"contextId",type:"number",optional:!0},{name:"returnByValue",type:"boolean",optional:!0},{name:"generatePreview",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Runtime.callFunctionOn",[{name:"objectId",type:"string",optional:!1},{name:"functionDeclaration",type:"string",optional:!1},{name:"arguments",type:"object",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0},{name:"returnByValue",type:"boolean",optional:!0},{name:"generatePreview",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Runtime.getProperties",[{name:"objectId",type:"string",optional:!1},{name:"ownProperties",type:"boolean",optional:!0},{name:"accessorPropertiesOnly",type:"boolean",optional:!0}],["result","internalProperties"],!1),InspectorBackend.registerCommand("Runtime.releaseObject",[{name:"objectId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Runtime.releaseObjectGroup",[{name:"objectGroup",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Runtime.run",[],[],!1),InspectorBackend.registerCommand("Runtime.enable",[],[],!1),InspectorBackend.registerCommand("Runtime.disable",[],[],!1),InspectorBackend.registerConsoleDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Console"),InspectorBackend.registerEnum("Console.ConsoleMessageSource",{XML:"xml",Javascript:"javascript",Network:"network",ConsoleAPI:"console-api",Storage:"storage",Appcache:"appcache",Rendering:"rendering",Css:"css",Security:"security",Other:"other",Deprecation:"deprecation"}),InspectorBackend.registerEnum("Console.ConsoleMessageLevel",{Log:"log",Warning:"warning",Error:"error",Debug:"debug",Info:"info"}),InspectorBackend.registerEnum("Console.ConsoleMessageType",{Log:"log",Dir:"dir",DirXML:"dirxml",Table:"table",Trace:"trace",Clear:"clear",StartGroup:"startGroup",StartGroupCollapsed:"startGroupCollapsed",EndGroup:"endGroup",Assert:"assert",Profile:"profile",ProfileEnd:"profileEnd"}),InspectorBackend.registerEvent("Console.messageAdded",["message"]),InspectorBackend.registerEvent("Console.messageRepeatCountUpdated",["count","timestamp"]),InspectorBackend.registerEvent("Console.messagesCleared",[]),InspectorBackend.registerCommand("Console.enable",[],[],!1),InspectorBackend.registerCommand("Console.disable",[],[],!1),InspectorBackend.registerCommand("Console.clearMessages",[],[],!1),InspectorBackend.registerCommand("Console.setMonitoringXHREnabled",[{name:"enabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Console.addInspectedNode",[{name:"nodeId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Console.addInspectedHeapObject",[{name:"heapObjectId",type:"number",optional:!1}],[],!1),InspectorBackend.registerNetworkDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Network"),InspectorBackend.registerEnum("Network.InitiatorType",{Parser:"parser",Script:"script",Other:"other"}),InspectorBackend.registerEvent("Network.requestWillBeSent",["requestId","frameId","loaderId","documentURL","request","timestamp","initiator","redirectResponse"]),InspectorBackend.registerEvent("Network.requestServedFromCache",["requestId"]),InspectorBackend.registerEvent("Network.responseReceived",["requestId","frameId","loaderId","timestamp","type","response"]),InspectorBackend.registerEvent("Network.dataReceived",["requestId","timestamp","dataLength","encodedDataLength"]),InspectorBackend.registerEvent("Network.loadingFinished",["requestId","timestamp","encodedDataLength"]),InspectorBackend.registerEvent("Network.loadingFailed",["requestId","timestamp","errorText","canceled"]),InspectorBackend.registerEvent("Network.webSocketWillSendHandshakeRequest",["requestId","timestamp","request"]),InspectorBackend.registerEvent("Network.webSocketHandshakeResponseReceived",["requestId","timestamp","response"]),InspectorBackend.registerEvent("Network.webSocketCreated",["requestId","url"]),InspectorBackend.registerEvent("Network.webSocketClosed",["requestId","timestamp"]),InspectorBackend.registerEvent("Network.webSocketFrameReceived",["requestId","timestamp","response"]),InspectorBackend.registerEvent("Network.webSocketFrameError",["requestId","timestamp","errorMessage"]),InspectorBackend.registerEvent("Network.webSocketFrameSent",["requestId","timestamp","response"]),InspectorBackend.registerCommand("Network.enable",[],[],!1),InspectorBackend.registerCommand("Network.disable",[],[],!1),InspectorBackend.registerCommand("Network.setUserAgentOverride",[{name:"userAgent",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.setExtraHTTPHeaders",[{name:"headers",type:"object",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.getResponseBody",[{name:"requestId",type:"string",optional:!1}],["body","base64Encoded"],!1),InspectorBackend.registerCommand("Network.replayXHR",[{name:"requestId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.canClearBrowserCache",[],["result"],!1),InspectorBackend.registerCommand("Network.clearBrowserCache",[],[],!1),InspectorBackend.registerCommand("Network.canClearBrowserCookies",[],["result"],!1),InspectorBackend.registerCommand("Network.clearBrowserCookies",[],[],!1),InspectorBackend.registerCommand("Network.setCacheDisabled",[{name:"cacheDisabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.loadResourceForFrontend",[{name:"frameId",type:"string",optional:!1},{name:"url",type:"string",optional:!1},{name:"requestHeaders",type:"object",optional:!0}],["statusCode","responseHeaders","content"],!1),InspectorBackend.registerDatabaseDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Database"),InspectorBackend.registerEvent("Database.addDatabase",["database"]),InspectorBackend.registerCommand("Database.enable",[],[],!1),InspectorBackend.registerCommand("Database.disable",[],[],!1),InspectorBackend.registerCommand("Database.getDatabaseTableNames",[{name:"databaseId",type:"string",optional:!1}],["tableNames"],!1),InspectorBackend.registerCommand("Database.executeSQL",[{name:"databaseId",type:"string",optional:!1},{name:"query",type:"string",optional:!1}],["columnNames","values","sqlError"],!1),InspectorBackend.registerIndexedDBDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"IndexedDB"),InspectorBackend.registerEnum("IndexedDB.KeyType",{Number:"number",String:"string",Date:"date",Array:"array"}),InspectorBackend.registerEnum("IndexedDB.KeyPathType",{Null:"null",String:"string",Array:"array"}),InspectorBackend.registerCommand("IndexedDB.enable",[],[],!1),InspectorBackend.registerCommand("IndexedDB.disable",[],[],!1),InspectorBackend.registerCommand("IndexedDB.requestDatabaseNames",[{name:"securityOrigin",type:"string",optional:!1}],["databaseNames"],!1),InspectorBackend.registerCommand("IndexedDB.requestDatabase",[{name:"securityOrigin",type:"string",optional:!1},{name:"databaseName",type:"string",optional:!1}],["databaseWithObjectStores"],!1),InspectorBackend.registerCommand("IndexedDB.requestData",[{name:"securityOrigin",type:"string",optional:!1},{name:"databaseName",type:"string",optional:!1},{name:"objectStoreName",type:"string",optional:!1},{name:"indexName",type:"string",optional:!1},{name:"skipCount",type:"number",optional:!1},{name:"pageSize",type:"number",optional:!1},{name:"keyRange",type:"object",optional:!0}],["objectStoreDataEntries","hasMore"],!1),InspectorBackend.registerCommand("IndexedDB.clearObjectStore",[{name:"securityOrigin",type:"string",optional:!1},{name:"databaseName",type:"string",optional:!1},{name:"objectStoreName",type:"string",optional:!1}],[],!1),InspectorBackend.registerDOMStorageDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DOMStorage"),InspectorBackend.registerEvent("DOMStorage.domStorageItemsCleared",["storageId"]),InspectorBackend.registerEvent("DOMStorage.domStorageItemRemoved",["storageId","key"]),InspectorBackend.registerEvent("DOMStorage.domStorageItemAdded",["storageId","key","newValue"]),InspectorBackend.registerEvent("DOMStorage.domStorageItemUpdated",["storageId","key","oldValue","newValue"]),InspectorBackend.registerCommand("DOMStorage.enable",[],[],!1),InspectorBackend.registerCommand("DOMStorage.disable",[],[],!1),InspectorBackend.registerCommand("DOMStorage.getDOMStorageItems",[{name:"storageId",type:"object",optional:!1}],["entries"],!1),InspectorBackend.registerCommand("DOMStorage.setDOMStorageItem",[{name:"storageId",type:"object",optional:!1},{name:"key",type:"string",optional:!1},{name:"value",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMStorage.removeDOMStorageItem",[{name:"storageId",type:"object",optional:!1},{name:"key",type:"string",optional:!1}],[],!1),InspectorBackend.registerApplicationCacheDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"ApplicationCache"),InspectorBackend.registerEvent("ApplicationCache.applicationCacheStatusUpdated",["frameId","manifestURL","status"]),InspectorBackend.registerEvent("ApplicationCache.networkStateUpdated",["isNowOnline"]),InspectorBackend.registerCommand("ApplicationCache.getFramesWithManifests",[],["frameIds"],!1),InspectorBackend.registerCommand("ApplicationCache.enable",[],[],!1),InspectorBackend.registerCommand("ApplicationCache.getManifestForFrame",[{name:"frameId",type:"string",optional:!1}],["manifestURL"],!1),InspectorBackend.registerCommand("ApplicationCache.getApplicationCacheForFrame",[{name:"frameId",type:"string",optional:!1}],["applicationCache"],!1),InspectorBackend.registerFileSystemDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"FileSystem"),InspectorBackend.registerCommand("FileSystem.enable",[],[],!1),InspectorBackend.registerCommand("FileSystem.disable",[],[],!1),InspectorBackend.registerCommand("FileSystem.requestFileSystemRoot",[{name:"origin",type:"string",optional:!1},{name:"type",type:"string",optional:!1}],["errorCode","root"],!1),InspectorBackend.registerCommand("FileSystem.requestDirectoryContent",[{name:"url",type:"string",optional:!1}],["errorCode","entries"],!1),InspectorBackend.registerCommand("FileSystem.requestMetadata",[{name:"url",type:"string",optional:!1}],["errorCode","metadata"],!1),InspectorBackend.registerCommand("FileSystem.requestFileContent",[{name:"url",type:"string",optional:!1},{name:"readAsText",type:"boolean",optional:!1},{name:"start",type:"number",optional:!0},{name:"end",type:"number",optional:!0},{name:"charset",type:"string",optional:!0}],["errorCode","content","charset"],!1),InspectorBackend.registerCommand("FileSystem.deleteEntry",[{name:"url",type:"string",optional:!1}],["errorCode"],!1),InspectorBackend.registerDOMDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DOM"),InspectorBackend.registerEnum("DOM.PseudoType",{Before:"before",After:"after"}),InspectorBackend.registerEnum("DOM.ShadowRootType",{UserAgent:"user-agent",Author:"author"}),InspectorBackend.registerEvent("DOM.documentUpdated",[]),InspectorBackend.registerEvent("DOM.inspectNodeRequested",["nodeId"]),InspectorBackend.registerEvent("DOM.setChildNodes",["parentId","nodes"]),InspectorBackend.registerEvent("DOM.attributeModified",["nodeId","name","value"]),InspectorBackend.registerEvent("DOM.attributeRemoved",["nodeId","name"]),InspectorBackend.registerEvent("DOM.inlineStyleInvalidated",["nodeIds"]),InspectorBackend.registerEvent("DOM.characterDataModified",["nodeId","characterData"]),InspectorBackend.registerEvent("DOM.childNodeCountUpdated",["nodeId","childNodeCount"]),InspectorBackend.registerEvent("DOM.childNodeInserted",["parentNodeId","previousNodeId","node"]),InspectorBackend.registerEvent("DOM.childNodeRemoved",["parentNodeId","nodeId"]),InspectorBackend.registerEvent("DOM.shadowRootPushed",["hostId","root"]),InspectorBackend.registerEvent("DOM.shadowRootPopped",["hostId","rootId"]),InspectorBackend.registerEvent("DOM.pseudoElementAdded",["parentId","pseudoElement"]),InspectorBackend.registerEvent("DOM.pseudoElementRemoved",["parentId","pseudoElementId"]),InspectorBackend.registerCommand("DOM.getDocument",[],["root"],!1),InspectorBackend.registerCommand("DOM.requestChildNodes",[{name:"nodeId",type:"number",optional:!1},{name:"depth",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.querySelector",[{name:"nodeId",type:"number",optional:!1},{name:"selector",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.querySelectorAll",[{name:"nodeId",type:"number",optional:!1},{name:"selector",type:"string",optional:!1}],["nodeIds"],!1),InspectorBackend.registerCommand("DOM.setNodeName",[{name:"nodeId",type:"number",optional:!1},{name:"name",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.setNodeValue",[{name:"nodeId",type:"number",optional:!1},{name:"value",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.removeNode",[{name:"nodeId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.setAttributeValue",[{name:"nodeId",type:"number",optional:!1},{name:"name",type:"string",optional:!1},{name:"value",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.setAttributesAsText",[{name:"nodeId",type:"number",optional:!1},{name:"text",type:"string",optional:!1},{name:"name",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.removeAttribute",[{name:"nodeId",type:"number",optional:!1},{name:"name",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.getEventListenersForNode",[{name:"nodeId",type:"number",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["listeners"],!1),InspectorBackend.registerCommand("DOM.getOuterHTML",[{name:"nodeId",type:"number",optional:!1}],["outerHTML"],!1),InspectorBackend.registerCommand("DOM.setOuterHTML",[{name:"nodeId",type:"number",optional:!1},{name:"outerHTML",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.performSearch",[{name:"query",type:"string",optional:!1}],["searchId","resultCount"],!1),InspectorBackend.registerCommand("DOM.getSearchResults",[{name:"searchId",type:"string",optional:!1},{name:"fromIndex",type:"number",optional:!1},{name:"toIndex",type:"number",optional:!1}],["nodeIds"],!1),InspectorBackend.registerCommand("DOM.discardSearchResults",[{name:"searchId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.requestNode",[{name:"objectId",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.setInspectModeEnabled",[{name:"enabled",type:"boolean",optional:!1},{name:"inspectUAShadowDOM",type:"boolean",optional:!0},{name:"highlightConfig",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.highlightRect",[{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1},{name:"width",type:"number",optional:!1},{name:"height",type:"number",optional:!1},{name:"color",type:"object",optional:!0},{name:"outlineColor",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.highlightQuad",[{name:"quad",type:"object",optional:!1},{name:"color",type:"object",optional:!0},{name:"outlineColor",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.highlightNode",[{name:"highlightConfig",type:"object",optional:!1},{name:"nodeId",type:"number",optional:!0},{name:"objectId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.hideHighlight",[],[],!1),InspectorBackend.registerCommand("DOM.highlightFrame",[{name:"frameId",type:"string",optional:!1},{name:"contentColor",type:"object",optional:!0},{name:"contentOutlineColor",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.pushNodeByPathToFrontend",[{name:"path",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.pushNodesByBackendIdsToFrontend",[{name:"backendNodeIds",type:"object",optional:!1}],["nodeIds"],!1),InspectorBackend.registerCommand("DOM.releaseBackendNodeIds",[{name:"nodeGroup",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.resolveNode",[{name:"nodeId",type:"number",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["object"],!1),InspectorBackend.registerCommand("DOM.getAttributes",[{name:"nodeId",type:"number",optional:!1}],["attributes"],!1),InspectorBackend.registerCommand("DOM.moveTo",[{name:"nodeId",type:"number",optional:!1},{name:"targetNodeId",type:"number",optional:!1},{name:"insertBeforeNodeId",type:"number",optional:!0}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.undo",[],[],!1),InspectorBackend.registerCommand("DOM.redo",[],[],!1),InspectorBackend.registerCommand("DOM.markUndoableState",[],[],!1),InspectorBackend.registerCommand("DOM.focus",[{name:"nodeId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.setFileInputFiles",[{name:"nodeId",type:"number",optional:!1},{name:"files",type:"object",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.getBoxModel",[{name:"nodeId",type:"number",optional:!1}],["model"],!1),InspectorBackend.registerCommand("DOM.getNodeForLocation",[{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.getRelayoutBoundary",[{name:"nodeId",type:"number",optional:!1}],["nodeId"],!1),InspectorBackend.registerCSSDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"CSS"),InspectorBackend.registerEnum("CSS.StyleSheetOrigin",{User:"user",UserAgent:"user-agent",Inspector:"inspector",Regular:"regular"}),InspectorBackend.registerEnum("CSS.CSSMediaSource",{MediaRule:"mediaRule",ImportRule:"importRule",LinkedSheet:"linkedSheet",InlineSheet:"inlineSheet"}),InspectorBackend.registerEvent("CSS.mediaQueryResultChanged",[]),InspectorBackend.registerEvent("CSS.styleSheetChanged",["styleSheetId"]),InspectorBackend.registerEvent("CSS.styleSheetAdded",["header"]),InspectorBackend.registerEvent("CSS.styleSheetRemoved",["styleSheetId"]),InspectorBackend.registerCommand("CSS.enable",[],[],!1),InspectorBackend.registerCommand("CSS.disable",[],[],!1),InspectorBackend.registerCommand("CSS.getMatchedStylesForNode",[{name:"nodeId",type:"number",optional:!1},{name:"includePseudo",type:"boolean",optional:!0},{name:"includeInherited",type:"boolean",optional:!0}],["matchedCSSRules","pseudoElements","inherited"],!1),InspectorBackend.registerCommand("CSS.getInlineStylesForNode",[{name:"nodeId",type:"number",optional:!1}],["inlineStyle","attributesStyle"],!1),InspectorBackend.registerCommand("CSS.getComputedStyleForNode",[{name:"nodeId",type:"number",optional:!1}],["computedStyle"],!1),InspectorBackend.registerCommand("CSS.getPlatformFontsForNode",[{name:"nodeId",type:"number",optional:!1}],["cssFamilyName","fonts"],!1),InspectorBackend.registerCommand("CSS.getStyleSheetText",[{name:"styleSheetId",type:"string",optional:!1}],["text"],!1),InspectorBackend.registerCommand("CSS.setStyleSheetText",[{name:"styleSheetId",type:"string",optional:!1},{name:"text",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("CSS.setPropertyText",[{name:"styleId",type:"object",optional:!1},{name:"propertyIndex",type:"number",optional:!1},{name:"text",type:"string",optional:!1},{name:"overwrite",type:"boolean",optional:!1}],["style"],!1),InspectorBackend.registerCommand("CSS.setRuleSelector",[{name:"ruleId",type:"object",optional:!1},{name:"selector",type:"string",optional:!1}],["rule"],!1),InspectorBackend.registerCommand("CSS.createStyleSheet",[{name:"frameId",type:"string",optional:!1}],["styleSheetId"],!1),InspectorBackend.registerCommand("CSS.addRule",[{name:"styleSheetId",type:"string",optional:!1},{name:"selector",type:"string",optional:!1}],["rule"],!1),InspectorBackend.registerCommand("CSS.forcePseudoState",[{name:"nodeId",type:"number",optional:!1},{name:"forcedPseudoClasses",type:"object",optional:!1}],[],!1),InspectorBackend.registerTimelineDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Timeline"),InspectorBackend.registerEvent("Timeline.eventRecorded",["record"]),InspectorBackend.registerEvent("Timeline.progress",["count"]),InspectorBackend.registerEvent("Timeline.started",["consoleTimeline"]),InspectorBackend.registerEvent("Timeline.stopped",["consoleTimeline"]),InspectorBackend.registerCommand("Timeline.enable",[],[],!1),InspectorBackend.registerCommand("Timeline.disable",[],[],!1),InspectorBackend.registerCommand("Timeline.start",[{name:"maxCallStackDepth",type:"number",optional:!0},{name:"bufferEvents",type:"boolean",optional:!0},{name:"liveEvents",type:"string",optional:!0},{name:"includeCounters",type:"boolean",optional:!0},{name:"includeGPUEvents",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Timeline.stop",[],["events"],!1),InspectorBackend.registerDebuggerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Debugger"),InspectorBackend.registerEnum("Debugger.ScopeType",{Global:"global",Local:"local",With:"with",Closure:"closure",Catch:"catch"}),InspectorBackend.registerEvent("Debugger.globalObjectCleared",[]),InspectorBackend.registerEvent("Debugger.scriptParsed",["scriptId","url","startLine","startColumn","endLine","endColumn","isContentScript","sourceMapURL","hasSourceURL"]),InspectorBackend.registerEvent("Debugger.scriptFailedToParse",["url","scriptSource","startLine","errorLine","errorMessage"]),InspectorBackend.registerEvent("Debugger.breakpointResolved",["breakpointId","location"]),InspectorBackend.registerEvent("Debugger.paused",["callFrames","reason","data","hitBreakpoints","asyncStackTrace"]),InspectorBackend.registerEvent("Debugger.resumed",[]),InspectorBackend.registerCommand("Debugger.enable",[],[],!1),InspectorBackend.registerCommand("Debugger.disable",[],[],!1),InspectorBackend.registerCommand("Debugger.setBreakpointsActive",[{name:"active",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Debugger.setSkipAllPauses",[{name:"skipped",type:"boolean",optional:!1},{name:"untilReload",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.setBreakpointByUrl",[{name:"lineNumber",type:"number",optional:!1},{name:"url",type:"string",optional:!0},{name:"urlRegex",type:"string",optional:!0},{name:"columnNumber",type:"number",optional:!0},{name:"condition",type:"string",optional:!0},{name:"isAntibreakpoint",type:"boolean",optional:!0}],["breakpointId","locations"],!1),InspectorBackend.registerCommand("Debugger.setBreakpoint",[{name:"location",type:"object",optional:!1},{name:"condition",type:"string",optional:!0}],["breakpointId","actualLocation"],!1),InspectorBackend.registerCommand("Debugger.removeBreakpoint",[{name:"breakpointId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Debugger.continueToLocation",[{name:"location",type:"object",optional:!1},{name:"interstatementLocation",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.stepOver",[{name:"callFrameId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.stepInto",[],[],!1),InspectorBackend.registerCommand("Debugger.stepOut",[{name:"callFrameId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.pause",[],[],!1),InspectorBackend.registerCommand("Debugger.resume",[],[],!1),InspectorBackend.registerCommand("Debugger.searchInContent",[{name:"scriptId",type:"string",optional:!1},{name:"query",type:"string",optional:!1},{name:"caseSensitive",type:"boolean",optional:!0},{name:"isRegex",type:"boolean",optional:!0}],["result"],!1),InspectorBackend.registerCommand("Debugger.canSetScriptSource",[],["result"],!1),InspectorBackend.registerCommand("Debugger.setScriptSource",[{name:"scriptId",type:"string",optional:!1},{name:"scriptSource",type:"string",optional:!1},{name:"preview",type:"boolean",optional:!0}],["callFrames","result","asyncStackTrace"],!0),InspectorBackend.registerCommand("Debugger.restartFrame",[{name:"callFrameId",type:"string",optional:!1}],["callFrames","result","asyncStackTrace"],!1),InspectorBackend.registerCommand("Debugger.getScriptSource",[{name:"scriptId",type:"string",optional:!1}],["scriptSource"],!1),InspectorBackend.registerCommand("Debugger.getFunctionDetails",[{name:"functionId",type:"string",optional:!1}],["details"],!1),InspectorBackend.registerCommand("Debugger.setPauseOnExceptions",[{name:"state",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Debugger.evaluateOnCallFrame",[{name:"callFrameId",type:"string",optional:!1},{name:"expression",type:"string",optional:!1},{name:"objectGroup",type:"string",optional:!0},{name:"includeCommandLineAPI",type:"boolean",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0},{name:"returnByValue",type:"boolean",optional:!0},{name:"generatePreview",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Debugger.compileScript",[{name:"expression",type:"string",optional:!1},{name:"sourceURL",type:"string",optional:!1}],["scriptId","syntaxErrorMessage"],!1),InspectorBackend.registerCommand("Debugger.runScript",[{name:"scriptId",type:"string",optional:!1},{name:"contextId",type:"number",optional:!0},{name:"objectGroup",type:"string",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Debugger.setOverlayMessage",[{name:"message",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.setVariableValue",[{name:"scopeNumber",type:"number",optional:!1},{name:"variableName",type:"string",optional:!1},{name:"newValue",type:"object",optional:!1},{name:"callFrameId",type:"string",optional:!0},{name:"functionObjectId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.getStepInPositions",[{name:"callFrameId",type:"string",optional:!1}],["stepInPositions"],!1),InspectorBackend.registerCommand("Debugger.getBacktrace",[],["callFrames","asyncStackTrace"],!1),InspectorBackend.registerCommand("Debugger.skipStackFrames",[{name:"script",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.setAsyncCallStackDepth",[{name:"maxDepth",type:"number",optional:!1}],[],!1),InspectorBackend.registerDOMDebuggerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DOMDebugger"),InspectorBackend.registerEnum("DOMDebugger.DOMBreakpointType",{SubtreeModified:"subtree-modified",AttributeModified:"attribute-modified",NodeRemoved:"node-removed"}),InspectorBackend.registerCommand("DOMDebugger.setDOMBreakpoint",[{name:"nodeId",type:"number",optional:!1},{name:"type",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeDOMBreakpoint",[{name:"nodeId",type:"number",optional:!1},{name:"type",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.setEventListenerBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeEventListenerBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.setInstrumentationBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeInstrumentationBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.setXHRBreakpoint",[{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeXHRBreakpoint",[{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerProfilerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Profiler"),InspectorBackend.registerEvent("Profiler.consoleProfileStarted",["id","location","title"]),InspectorBackend.registerEvent("Profiler.consoleProfileFinished",["id","location","profile","title"]),InspectorBackend.registerCommand("Profiler.enable",[],[],!1),InspectorBackend.registerCommand("Profiler.disable",[],[],!1),InspectorBackend.registerCommand("Profiler.setSamplingInterval",[{name:"interval",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Profiler.start",[],[],!1),InspectorBackend.registerCommand("Profiler.stop",[],["profile"],!1),InspectorBackend.registerHeapProfilerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"HeapProfiler"),InspectorBackend.registerEvent("HeapProfiler.addHeapSnapshotChunk",["chunk"]),InspectorBackend.registerEvent("HeapProfiler.resetProfiles",[]),InspectorBackend.registerEvent("HeapProfiler.reportHeapSnapshotProgress",["done","total","finished"]),InspectorBackend.registerEvent("HeapProfiler.lastSeenObjectId",["lastSeenObjectId","timestamp"]),InspectorBackend.registerEvent("HeapProfiler.heapStatsUpdate",["statsUpdate"]),InspectorBackend.registerCommand("HeapProfiler.enable",[],[],!1),InspectorBackend.registerCommand("HeapProfiler.disable",[],[],!1),InspectorBackend.registerCommand("HeapProfiler.startTrackingHeapObjects",[{name:"trackAllocations",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("HeapProfiler.stopTrackingHeapObjects",[{name:"reportProgress",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("HeapProfiler.takeHeapSnapshot",[{name:"reportProgress",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("HeapProfiler.collectGarbage",[],[],!1),InspectorBackend.registerCommand("HeapProfiler.getObjectByHeapObjectId",[{name:"objectId",type:"string",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["result"],!1),InspectorBackend.registerCommand("HeapProfiler.getHeapObjectId",[{name:"objectId",type:"string",optional:!1}],["heapSnapshotObjectId"],!1),InspectorBackend.registerWorkerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Worker"),InspectorBackend.registerEvent("Worker.workerCreated",["workerId","url","inspectorConnected"]),InspectorBackend.registerEvent("Worker.workerTerminated",["workerId"]),InspectorBackend.registerEvent("Worker.dispatchMessageFromWorker",["workerId","message"]),InspectorBackend.registerEvent("Worker.disconnectedFromWorker",[]),InspectorBackend.registerCommand("Worker.enable",[],[],!1),InspectorBackend.registerCommand("Worker.disable",[],[],!1),InspectorBackend.registerCommand("Worker.sendMessageToWorker",[{name:"workerId",type:"number",optional:!1},{name:"message",type:"object",optional:!1}],[],!1),InspectorBackend.registerCommand("Worker.canInspectWorkers",[],["result"],!1),InspectorBackend.registerCommand("Worker.connectToWorker",[{name:"workerId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Worker.disconnectFromWorker",[{name:"workerId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Worker.setAutoconnectToWorkers",[{name:"value",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCanvasDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Canvas"),InspectorBackend.registerEnum("Canvas.CallArgumentType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean"}),InspectorBackend.registerEnum("Canvas.CallArgumentSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date"}),InspectorBackend.registerEvent("Canvas.contextCreated",["frameId"]),InspectorBackend.registerEvent("Canvas.traceLogsRemoved",["frameId","traceLogId"]),InspectorBackend.registerCommand("Canvas.enable",[],[],!1),InspectorBackend.registerCommand("Canvas.disable",[],[],!1),InspectorBackend.registerCommand("Canvas.dropTraceLog",[{name:"traceLogId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Canvas.hasUninstrumentedCanvases",[],["result"],!1),InspectorBackend.registerCommand("Canvas.captureFrame",[{name:"frameId",type:"string",optional:!0}],["traceLogId"],!1),InspectorBackend.registerCommand("Canvas.startCapturing",[{name:"frameId",type:"string",optional:!0}],["traceLogId"],!1),InspectorBackend.registerCommand("Canvas.stopCapturing",[{name:"traceLogId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Canvas.getTraceLog",[{name:"traceLogId",type:"string",optional:!1},{name:"startOffset",type:"number",optional:!0},{name:"maxLength",type:"number",optional:!0}],["traceLog"],!1),InspectorBackend.registerCommand("Canvas.replayTraceLog",[{name:"traceLogId",type:"string",optional:!1},{name:"stepNo",type:"number",optional:!1}],["resourceState","replayTime"],!1),InspectorBackend.registerCommand("Canvas.getResourceState",[{name:"traceLogId",type:"string",optional:!1},{name:"resourceId",type:"string",optional:!1}],["resourceState"],!1),InspectorBackend.registerCommand("Canvas.evaluateTraceLogCallArgument",[{name:"traceLogId",type:"string",optional:!1},{name:"callIndex",type:"number",optional:!1},{name:"argumentIndex",type:"number",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["result","resourceState"],!1),InspectorBackend.registerInputDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Input"),InspectorBackend.registerEnum("Input.TouchPointState",{TouchPressed:"touchPressed",TouchReleased:"touchReleased",TouchMoved:"touchMoved",TouchStationary:"touchStationary",TouchCancelled:"touchCancelled"}),InspectorBackend.registerCommand("Input.dispatchKeyEvent",[{name:"type",type:"string",optional:!1},{name:"modifiers",type:"number",optional:!0},{name:"timestamp",type:"number",optional:!0},{name:"text",type:"string",optional:!0},{name:"unmodifiedText",type:"string",optional:!0},{name:"keyIdentifier",type:"string",optional:!0},{name:"windowsVirtualKeyCode",type:"number",optional:!0},{name:"nativeVirtualKeyCode",type:"number",optional:!0},{name:"macCharCode",type:"number",optional:!0},{name:"autoRepeat",type:"boolean",optional:!0},{name:"isKeypad",type:"boolean",optional:!0},{name:"isSystemKey",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Input.dispatchMouseEvent",[{name:"type",type:"string",optional:!1},{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1},{name:"modifiers",type:"number",optional:!0},{name:"timestamp",type:"number",optional:!0},{name:"button",type:"string",optional:!0},{name:"clickCount",type:"number",optional:!0},{name:"deviceSpace",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Input.dispatchTouchEvent",[{name:"type",type:"string",optional:!1},{name:"touchPoints",type:"object",optional:!1},{name:"modifiers",type:"number",optional:!0},{name:"timestamp",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Input.dispatchGestureEvent",[{name:"type",type:"string",optional:!1},{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1},{name:"timestamp",type:"number",optional:!0},{name:"deltaX",type:"number",optional:!0},{name:"deltaY",type:"number",optional:!0},{name:"pinchScale",type:"number",optional:!0}],[],!1),InspectorBackend.registerLayerTreeDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"LayerTree"),InspectorBackend.registerEnum("LayerTree.ScrollRectType",{RepaintsOnScroll:"RepaintsOnScroll",TouchEventHandler:"TouchEventHandler",WheelEventHandler:"WheelEventHandler"}),InspectorBackend.registerEvent("LayerTree.layerTreeDidChange",["layers"]),InspectorBackend.registerEvent("LayerTree.layerPainted",["layerId","clip"]),InspectorBackend.registerCommand("LayerTree.enable",[],[],!1),InspectorBackend.registerCommand("LayerTree.disable",[],[],!1),InspectorBackend.registerCommand("LayerTree.compositingReasons",[{name:"layerId",type:"string",optional:!1}],["compositingReasons"],!1),InspectorBackend.registerCommand("LayerTree.makeSnapshot",[{name:"layerId",type:"string",optional:!1}],["snapshotId"],!1),InspectorBackend.registerCommand("LayerTree.releaseSnapshot",[{name:"snapshotId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("LayerTree.profileSnapshot",[{name:"snapshotId",type:"string",optional:!1},{name:"minRepeatCount",type:"number",optional:!0},{name:"minDuration",type:"number",optional:!0}],["timings"],!1),InspectorBackend.registerCommand("LayerTree.replaySnapshot",[{name:"snapshotId",type:"string",optional:!1},{name:"fromStep",type:"number",optional:!0},{name:"toStep",type:"number",optional:!0}],["dataURL"],!1),InspectorBackend.registerGeolocationDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Geolocation"),InspectorBackend.registerCommand("Geolocation.setGeolocationOverride",[{name:"latitude",type:"number",optional:!0},{name:"longitude",type:"number",optional:!0},{name:"accuracy",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Geolocation.clearGeolocationOverride",[],[],!1),InspectorBackend.registerDeviceOrientationDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DeviceOrientation"),InspectorBackend.registerCommand("DeviceOrientation.setDeviceOrientationOverride",[{name:"alpha",type:"number",optional:!1},{name:"beta",type:"number",optional:!1},{name:"gamma",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("DeviceOrientation.clearDeviceOrientationOverride",[],[],!1),InspectorBackend.registerTracingDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Tracing"),InspectorBackend.registerEvent("Tracing.dataCollected",["value"]),InspectorBackend.registerEvent("Tracing.tracingComplete",[]),InspectorBackend.registerCommand("Tracing.start",[{name:"categories",type:"string",optional:!1},{name:"options",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Tracing.end",[],[],!1),InspectorBackend.registerPowerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Power"),InspectorBackend.registerEvent("Power.dataAvailable",["value"]),InspectorBackend.registerCommand("Power.start",[],[],!1),InspectorBackend.registerCommand("Power.end",[],[],!1),InspectorBackend.registerCommand("Power.canProfilePower",[],["result"],!1);var InspectorFrontendAPI={_pendingCommands:[],showConsole:function(){InspectorFrontendAPI._runOnceLoaded(function(){WebInspector.inspectorView.showPanel("console")})},enterInspectElementMode:function(){InspectorFrontendAPI._runOnceLoaded(function(){WebInspector.inspectorView.showPanel("elements"),WebInspector.inspectElementModeController&&WebInspector.inspectElementModeController.toggleSearch()})},revealSourceLine:function(e,t,i){InspectorFrontendAPI._runOnceLoaded(function(){var n=WebInspector.workspace.uiSourceCodeForURL(e);n?WebInspector.Revealer.reveal(new WebInspector.UILocation(n,t,i)):WebInspector.workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,function n(r){var s=r.data;s.url===e&&(WebInspector.Revealer.reveal(new WebInspector.UILocation(s,t,i)),WebInspector.workspace.removeEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,n))})})},setToolbarColors:function(e,t){WebInspector.setToolbarColors(e,t)},loadTimelineFromURL:function(e){InspectorFrontendAPI._runOnceLoaded(function(){WebInspector.inspectorView.showPanel("timeline").loadFromURL(e)})},setUseSoftMenu:function(e){WebInspector.ContextMenu.setUseSoftMenu(e)},dispatchMessage:function(e){InspectorBackend.connection().dispatch(e)},contextMenuItemSelected:function(e){WebInspector.contextMenuItemSelected(e)},contextMenuCleared:function(){WebInspector.contextMenuCleared()},fileSystemsLoaded:function(e){WebInspector.isolatedFileSystemDispatcher.fileSystemsLoaded(e)},fileSystemRemoved:function(e){WebInspector.isolatedFileSystemDispatcher.fileSystemRemoved(e)},fileSystemAdded:function(e,t){WebInspector.isolatedFileSystemDispatcher.fileSystemAdded(e,t)},indexingTotalWorkCalculated:function(e,t,i){WebInspector.fileSystemWorkspaceProvider.delegate(t).indexingTotalWorkCalculated(e,i)},indexingWorked:function(e,t,i){WebInspector.fileSystemWorkspaceProvider.delegate(t).indexingWorked(e,i)},indexingDone:function(e,t){WebInspector.fileSystemWorkspaceProvider.delegate(t).indexingDone(e)},searchCompleted:function(e,t,i){WebInspector.fileSystemWorkspaceProvider.delegate(t).searchCompleted(e,i)},savedURL:function(e){WebInspector.fileManager.savedURL(e)},canceledSaveURL:function(e){WebInspector.fileManager.canceledSaveURL(e)},appendedToURL:function(e){WebInspector.fileManager.appendedToURL(e)},embedderMessageAck:function(e,t){InspectorFrontendHost.embedderMessageAck(e,t)},loadCompleted:function(){InspectorFrontendAPI._isLoaded=!0;for(var e=0;e<InspectorFrontendAPI._pendingCommands.length;++e)InspectorFrontendAPI._pendingCommands[e]();InspectorFrontendAPI._pendingCommands=[],window.opener&&window.opener.postMessage(["loadCompleted"],window.opener.location.href)},dispatchQueryParameters:function(e){e&&InspectorFrontendAPI._dispatch(JSON.parse(window.decodeURI(e)))},evaluateForTest:function(e,t){WebInspector.evaluateForTestInFrontend(e,t)},dispatchMessageAsync:function(e){WebInspector.dispatch(e)},_dispatch:function(e){InspectorFrontendAPI._runOnceLoaded(function(){var t=e.shift();return InspectorFrontendAPI[t].apply(InspectorFrontendAPI,e)})},_runOnceLoaded:function(e){InspectorFrontendAPI._isLoaded?e():InspectorFrontendAPI._pendingCommands.push(e)}};function onMessageFromOpener(e){e.source===window.opener&&InspectorFrontendAPI._dispatch(e.data)}window.opener&&window.dispatchStandaloneTestRunnerMessages&&window.addEventListener("message",onMessageFromOpener,!0),WebInspector.Target=function(e,t){Protocol.Agents.call(this,e.agentsMap()),this._connection=e,this.isMainFrontend=!1,this.pageAgent().canScreencast(this._initializeCapability.bind(this,"canScreencast",null)),WebInspector.experimentsSettings.powerProfiler.isEnabled()&&this.powerAgent().canProfilePower(this._initializeCapability.bind(this,"canProfilePower",null)),this.workerAgent().canInspectWorkers(this._initializeCapability.bind(this,"isMainFrontend",this._loadedWithCapabilities.bind(this,t)))},WebInspector.Target.prototype={_initializeCapability:function(e,t,i,n){this[e]=n,Capabilities[e]||(Capabilities[e]=n),t&&t()},_loadedWithCapabilities:function(e){this.consoleModel=new WebInspector.ConsoleModel(this),WebInspector.console||(WebInspector.console=this.consoleModel),this.networkManager=new WebInspector.NetworkManager(this),WebInspector.networkManager||(WebInspector.networkManager=this.networkManager),this.resourceTreeModel=new WebInspector.ResourceTreeModel(this),WebInspector.resourceTreeModel||(WebInspector.resourceTreeModel=this.resourceTreeModel),this.debuggerModel=new WebInspector.DebuggerModel(this),WebInspector.debuggerModel||(WebInspector.debuggerModel=this.debuggerModel),this.runtimeModel=new WebInspector.RuntimeModel(this),WebInspector.runtimeModel||(WebInspector.runtimeModel=this.runtimeModel),this.domModel=new WebInspector.DOMModel,WebInspector.domModel||(WebInspector.domModel=this.domModel),this.workerManager=new WebInspector.WorkerManager(this,this.isMainFrontend),WebInspector.workerManager||(WebInspector.workerManager=this.workerManager),this.canProfilePower&&(WebInspector.powerProfiler=new WebInspector.PowerProfiler),e&&e(this)},registerDispatcher:function(e,t){this._connection.registerDispatcher(e,t)},isWorkerTarget:function(){return!this.isMainFrontend},__proto__:Protocol.Agents.prototype},WebInspector.TargetManager=function(){WebInspector.Object.call(this),this._targets=[]},WebInspector.TargetManager.Events={TargetAdded:"TargetAdded"},WebInspector.TargetManager.prototype={createTarget:function(e,t){new WebInspector.Target(e,function(e){t&&t(e),this._targets.push(e),this.dispatchEventToListeners(WebInspector.TargetManager.Events.TargetAdded,e)}.bind(this))},targets:function(){return this._targets},mainTarget:function(){return this._targets[0]},__proto__:WebInspector.Object.prototype},WebInspector.targetManager,WebInspector.NotificationService=function(){},WebInspector.NotificationService.prototype={__proto__:WebInspector.Object.prototype},WebInspector.NotificationService.Events={InspectorLoaded:"InspectorLoaded",SelectedNodeChanged:"SelectedNodeChanged"},WebInspector.notifications=new WebInspector.NotificationService;var Preferences={maxInlineTextChildLength:80,minSidebarWidth:100,minSidebarHeight:75,applicationTitle:"Developer Tools - %s"},Capabilities={isMainFrontend:!1,canProfilePower:!1},e;function SourceMapV3(){this.version,this.file,this.sources,this.sections,this.mappings,this.sourceRoot}if(WebInspector.Settings=function(){this._eventSupport=new WebInspector.Object,this._registry={},this.colorFormat=this.createSetting("colorFormat","original"),this.consoleHistory=this.createSetting("consoleHistory",[]),this.domWordWrap=this.createSetting("domWordWrap",!0),this.eventListenersFilter=this.createSetting("eventListenersFilter","all"),this.lastViewedScriptFile=this.createSetting("lastViewedScriptFile","application"),this.monitoringXHREnabled=this.createSetting("monitoringXHREnabled",!1),this.preserveConsoleLog=this.createSetting("preserveConsoleLog",!1),this.consoleTimestampsEnabled=this.createSetting("consoleTimestampsEnabled",!1),this.resourcesLargeRows=this.createSetting("resourcesLargeRows",!0),this.resourcesSortOptions=this.createSetting("resourcesSortOptions",{timeOption:"responseTime",sizeOption:"transferSize"}),this.resourceViewTab=this.createSetting("resourceViewTab","preview"),this.showInheritedComputedStyleProperties=this.createSetting("showInheritedComputedStyleProperties",!1),this.showUserAgentStyles=this.createSetting("showUserAgentStyles",!0),this.watchExpressions=this.createSetting("watchExpressions",[]),this.breakpoints=this.createSetting("breakpoints",[]),this.eventListenerBreakpoints=this.createSetting("eventListenerBreakpoints",[]),this.domBreakpoints=this.createSetting("domBreakpoints",[]),this.xhrBreakpoints=this.createSetting("xhrBreakpoints",[]),this.jsSourceMapsEnabled=this.createSetting("sourceMapsEnabled",!0),this.cssSourceMapsEnabled=this.createSetting("cssSourceMapsEnabled",!0),this.cacheDisabled=this.createSetting("cacheDisabled",!1),this.overrideUserAgent=this.createSetting("overrideUserAgent",!1),this.userAgent=this.createSetting("userAgent",""),this.overrideDeviceMetrics=this.createSetting("overrideDeviceMetrics",!1),this.deviceMetrics=this.createSetting("deviceMetrics",""),this.deviceFitWindow=this.createSetting("deviceFitWindow",!0),this.emulateViewport=this.createSetting("emulateViewport",!1),this.emulateTouchEvents=this.createSetting("emulateTouchEvents",!1),this.showUAShadowDOM=this.createSetting("showUAShadowDOM",!1),this.savedURLs=this.createSetting("savedURLs",{}),this.javaScriptDisabled=this.createSetting("javaScriptDisabled",!1),this.overrideGeolocation=this.createSetting("overrideGeolocation",!1),this.geolocationOverride=this.createSetting("geolocationOverride",""),this.overrideDeviceOrientation=this.createSetting("overrideDeviceOrientation",!1),this.deviceOrientationOverride=this.createSetting("deviceOrientationOverride",""),this.showAdvancedHeapSnapshotProperties=this.createSetting("showAdvancedHeapSnapshotProperties",!1),this.highResolutionCpuProfiling=this.createSetting("highResolutionCpuProfiling",!1),this.searchInContentScripts=this.createSetting("searchInContentScripts",!1),this.textEditorIndent=this.createSetting("textEditorIndent","    "),this.textEditorAutoDetectIndent=this.createSetting("textEditorAutoIndentIndent",!0),this.textEditorAutocompletion=this.createSetting("textEditorAutocompletion",!0),this.textEditorBracketMatching=this.createSetting("textEditorBracketMatching",!0),this.cssReloadEnabled=this.createSetting("cssReloadEnabled",!1),this.timelineCaptureStacks=this.createSetting("timelineCaptureStacks",!0),this.timelineLiveUpdate=this.createSetting("timelineLiveUpdate",!0),this.showMetricsRulers=this.createSetting("showMetricsRulers",!1),this.overrideCSSMedia=this.createSetting("overrideCSSMedia",!1),this.emulatedCSSMedia=this.createSetting("emulatedCSSMedia","print"),this.workerInspectorWidth=this.createSetting("workerInspectorWidth",600),this.workerInspectorHeight=this.createSetting("workerInspectorHeight",600),this.messageURLFilters=this.createSetting("messageURLFilters",{}),this.networkHideDataURL=this.createSetting("networkHideDataURL",!1),this.networkResourceTypeFilters=this.createSetting("networkResourceTypeFilters",{}),this.messageLevelFilters=this.createSetting("messageLevelFilters",{}),this.splitVerticallyWhenDockedToRight=this.createSetting("splitVerticallyWhenDockedToRight",!0),this.visiblePanels=this.createSetting("visiblePanels",{}),this.shortcutPanelSwitch=this.createSetting("shortcutPanelSwitch",!1),this.showWhitespacesInEditor=this.createSetting("showWhitespacesInEditor",!1),this.skipStackFramesSwitch=this.createSetting("skipStackFramesSwitch",!1),this.skipStackFramesPattern=this.createRegExpSetting("skipStackFramesPattern",""),this.pauseOnExceptionEnabled=this.createSetting("pauseOnExceptionEnabled",!1),this.pauseOnCaughtException=this.createSetting("pauseOnCaughtException",!1),this.enableAsyncStackTraces=this.createSetting("enableAsyncStackTraces",!1)},WebInspector.Settings.prototype={createSetting:function(e,t){return this._registry[e]||(this._registry[e]=new WebInspector.Setting(e,t,this._eventSupport,Sfdc.getStorageSource())),this._registry[e]},createRegExpSetting:function(e,t,i){return this._registry[e]||(this._registry[e]=new WebInspector.RegExpSetting(e,t,this._eventSupport,Sfdc.getStorageSource(),i)),this._registry[e]},createBackendSetting:function(e,t,i){return this._registry[e]||(this._registry[e]=new WebInspector.BackendSetting(e,t,this._eventSupport,Sfdc.getStorageSource(),i)),this._registry[e]},initializeBackendSettings:function(){this.showPaintRects=WebInspector.settings.createBackendSetting("showPaintRects",!1,PageAgent.setShowPaintRects.bind(PageAgent)),this.showDebugBorders=WebInspector.settings.createBackendSetting("showDebugBorders",!1,PageAgent.setShowDebugBorders.bind(PageAgent)),this.continuousPainting=WebInspector.settings.createBackendSetting("continuousPainting",!1,PageAgent.setContinuousPaintingEnabled.bind(PageAgent)),this.showFPSCounter=WebInspector.settings.createBackendSetting("showFPSCounter",!1,PageAgent.setShowFPSCounter.bind(PageAgent)),this.showScrollBottleneckRects=WebInspector.settings.createBackendSetting("showScrollBottleneckRects",!1,PageAgent.setShowScrollBottleneckRects.bind(PageAgent))}},WebInspector.Setting=function(e,t,i,n){this._name=e,this._defaultValue=t,this._eventSupport=i,this._storage=n},WebInspector.Setting.prototype={addChangeListener:function(e,t){this._eventSupport.addEventListener(this._name,e,t)},removeChangeListener:function(e,t){this._eventSupport.removeEventListener(this._name,e,t)},get name(){return this._name},get:function(){if(void 0!==this._value)return this._value;if(this._value=this._defaultValue,this._storage&&this._name in this._storage)try{this._value=JSON.parse(this._storage[this._name])}catch(e){delete this._storage[this._name]}return this._value},set:function(e){if(this._value=e,this._storage)try{this._storage[this._name]=JSON.stringify(e)}catch(e){console.error("Error saving setting with name:"+this._name)}this._eventSupport.dispatchEventToListeners(this._name,e)}},WebInspector.RegExpSetting=function(e,t,i,n,r){WebInspector.Setting.call(this,e,t,i,n),this._regexFlags=r},WebInspector.RegExpSetting.prototype={set:function(e){delete this._regex,WebInspector.Setting.prototype.set.call(this,e)},asRegExp:function(){if(void 0!==this._regex)return this._regex;this._regex=null;try{this._regex=new RegExp(this.get(),this._regexFlags||"")}catch(e){}return this._regex},__proto__:WebInspector.Setting.prototype},WebInspector.BackendSetting=function(e,t,i,n,r){WebInspector.Setting.call(this,e,t,i,n),this._setterCallback=r;var s=this.get();s!==t&&this.set(s)},WebInspector.BackendSetting.prototype={set:function(e){this._setterCallback(e,function(t){if(t)return WebInspector.console.log("Error applying setting "+this._name+": "+t),void this._eventSupport.dispatchEventToListeners(this._name,this._value);WebInspector.Setting.prototype.set.call(this,e)}.bind(this))},__proto__:WebInspector.Setting.prototype},WebInspector.ExperimentsSettings=function(e){this._experimentsEnabled=e,this._setting=WebInspector.settings.createSetting("experiments",{}),this._experiments=[],this._enabledForTest={},this.fileSystemInspection=this._createExperiment("fileSystemInspection","FileSystem inspection"),this.canvasInspection=this._createExperiment("canvasInspection ","Canvas inspection"),this.frameworksDebuggingSupport=this._createExperiment("frameworksDebuggingSupport","Enable frameworks debugging support"),this.layersPanel=this._createExperiment("layersPanel","Show Layers panel"),this.doNotOpenDrawerOnEsc=this._createExperiment("doNotOpenDrawerWithEsc","Do not open drawer on Esc"),this.showEditorInDrawer=this._createExperiment("showEditorInDrawer","Show editor in drawer"),this.gpuTimeline=this._createExperiment("gpuTimeline","Show GPU data on timeline"),this.applyCustomStylesheet=this._createExperiment("applyCustomStylesheet","Allow custom UI themes"),this.workersInMainWindow=this._createExperiment("workersInMainWindow","Show workers in main window"),this.dockToLeft=this._createExperiment("dockToLeft","Enable dock to left mode"),this.allocationProfiler=this._createExperiment("allocationProfiler","Enable JavaScript heap allocation profiler"),this.timelineFlameChart=this._createExperiment("timelineFlameChart","Enable FlameChart mode in Timeline"),this.heapSnapshotStatistics=this._createExperiment("heapSnapshotStatistics","Show memory breakdown statistics in heap snapshots"),this.timelineNoLiveUpdate=this._createExperiment("timelineNoLiveUpdate","Timeline w/o live update"),this.powerProfiler=this._createExperiment("powerProfiler","Enable power mode in Timeline"),this._cleanUpSetting()},WebInspector.ExperimentsSettings.prototype={get experiments(){return this._experiments.slice()},get experimentsEnabled(){return this._experimentsEnabled},_createExperiment:function(e,t){var i=new WebInspector.Experiment(this,e,t);return this._experiments.push(i),i},isEnabled:function(e){return!!this._enabledForTest[e]||!!this.experimentsEnabled&&this._setting.get()[e]},setEnabled:function(e,t){var i=this._setting.get();i[e]=t,this._setting.set(i)},_enableForTest:function(e){this._enabledForTest[e]=!0},_cleanUpSetting:function(){for(var e=this._setting.get(),t={},i=0;i<this._experiments.length;++i){var n=this._experiments[i].name;e[n]&&(t[n]=!0)}this._setting.set(t)}},WebInspector.Experiment=function(e,t,i){this._name=t,this._title=i,this._experimentsSettings=e},WebInspector.Experiment.prototype={get name(){return this._name},get title(){return this._title},isEnabled:function(){return this._experimentsSettings.isEnabled(this._name)},setEnabled:function(e){this._experimentsSettings.setEnabled(this._name,e)},enableForTest:function(){this._experimentsSettings._enableForTest(this._name)}},WebInspector.VersionController=function(){},WebInspector.VersionController.currentVersion=7,WebInspector.VersionController.prototype={updateVersion:function(){for(var e=WebInspector.settings.createSetting("inspectorVersion",0),t=WebInspector.VersionController.currentVersion,i=e.get(),n=this._methodsToRunToUpdateVersion(i,t),r=0;r<n.length;++r)this[n[r]].call(this);e.set(t)},_methodsToRunToUpdateVersion:function(e,t){for(var i=[],n=e;n<t;++n)i.push("_updateVersionFrom"+n+"To"+(n+1));return i},_updateVersionFrom0To1:function(){this._clearBreakpointsWhenTooMany(WebInspector.settings.breakpoints,5e5)},_updateVersionFrom1To2:function(){WebInspector.settings.createSetting("previouslyViewedFiles",[]).set([])},_updateVersionFrom2To3:function(){WebInspector.settings.createSetting("fileSystemMapping",{}).set({}),Sfdc.hasLocalStorage()&&delete window.localStorage.fileMappingEntries},_updateVersionFrom3To4:function(){var e=WebInspector.settings.createSetting("showHeaSnapshotObjectsHiddenProperties",!1).get();WebInspector.settings.showAdvancedHeapSnapshotProperties.set(e)},_updateVersionFrom4To5:function(){if(Sfdc.hasLocalStorage()){var e={FileSystemViewSidebarWidth:"fileSystemViewSplitViewState",canvasProfileViewReplaySplitLocation:"canvasProfileViewReplaySplitViewState",canvasProfileViewSplitLocation:"canvasProfileViewSplitViewState",elementsSidebarWidth:"elementsPanelSplitViewState",StylesPaneSplitRatio:"stylesPaneSplitViewState",heapSnapshotRetainersViewSize:"heapSnapshotSplitViewState","InspectorView.splitView":"InspectorView.splitViewState","InspectorView.screencastSplitView":"InspectorView.screencastSplitViewState","Inspector.drawerSplitView":"Inspector.drawerSplitViewState",layerDetailsSplitView:"layerDetailsSplitViewState",networkSidebarWidth:"networkPanelSplitViewState",sourcesSidebarWidth:"sourcesPanelSplitViewState",scriptsPanelNavigatorSidebarWidth:"sourcesPanelNavigatorSplitViewState",sourcesPanelSplitSidebarRatio:"sourcesPanelDebuggerSidebarSplitViewState","timeline-details":"timelinePanelDetailsSplitViewState","timeline-split":"timelinePanelRecorsSplitViewState","timeline-view":"timelinePanelTimelineStackSplitViewState",auditsSidebarWidth:"auditsPanelSplitViewState",layersSidebarWidth:"layersPanelSplitViewState",profilesSidebarWidth:"profilesPanelSplitViewState",resourcesSidebarWidth:"resourcesPanelSplitViewState"};for(var t in e){var i=e[t],n=t+"H",r=null,s=WebInspector.settings.createSetting(t,void 0).get();s&&((r=r||{}).vertical={},r.vertical.size=s,delete window.localStorage[t]);var o=WebInspector.settings.createSetting(n,void 0).get();o&&((r=r||{}).horizontal={},r.horizontal.size=o,delete window.localStorage[n]);var a=WebInspector.settings.createSetting(i,{});r&&a.set(r)}}},_updateVersionFrom5To6:function(){if(Sfdc.hasLocalStorage()){var e={debuggerSidebarHidden:"sourcesPanelSplitViewState",navigatorHidden:"sourcesPanelNavigatorSplitViewState","WebInspector.Drawer.showOnLoad":"Inspector.drawerSplitViewState"};for(var t in e){var i=e[t],n=!!WebInspector.settings.createSetting(t,void 0).get()!=("WebInspector.Drawer.showOnLoad"===t);delete window.localStorage[t];var r=n?"OnlyMain":"Both",s=WebInspector.settings.createSetting(i,null),o=s.get()||{};o.vertical=o.vertical||{},o.vertical.showMode=r,o.horizontal=o.horizontal||{},o.horizontal.showMode=r,s.set(o)}}},_updateVersionFrom6To7:function(){if(Sfdc.hasLocalStorage())for(var e in{sourcesPanelNavigatorSplitViewState:"sourcesPanelNavigatorSplitViewState",elementsPanelSplitViewState:"elementsPanelSplitViewState",canvasProfileViewReplaySplitViewState:"canvasProfileViewReplaySplitViewState",editorInDrawerSplitViewState:"editorInDrawerSplitViewState",stylesPaneSplitViewState:"stylesPaneSplitViewState",sourcesPanelDebuggerSidebarSplitViewState:"sourcesPanelDebuggerSidebarSplitViewState"})if(e in window.localStorage){var t=WebInspector.settings.createSetting(e,void 0),i=t.get();i&&(i.vertical&&i.vertical.size&&i.vertical.size<1&&(i.vertical.size=0),i.horizontal&&i.horizontal.size&&i.horizontal.size<1&&(i.horizontal.size=0),t.set(i))}},_clearBreakpointsWhenTooMany:function(e,t){e.get().length>t&&e.set([])}},WebInspector.settings=new WebInspector.Settings,WebInspector.experimentsSettings=new WebInspector.ExperimentsSettings(null!==WebInspector.queryParam("experiments")),WebInspector.PauseOnExceptionStateSetting=function(){WebInspector.settings.pauseOnExceptionEnabled.addChangeListener(this._enabledChanged,this),WebInspector.settings.pauseOnCaughtException.addChangeListener(this._pauseOnCaughtChanged,this),this._name="pauseOnExceptionStateString",this._eventSupport=new WebInspector.Object,this._value=this._calculateValue()},WebInspector.PauseOnExceptionStateSetting.prototype={addChangeListener:function(e,t){this._eventSupport.addEventListener(this._name,e,t)},removeChangeListener:function(e,t){this._eventSupport.removeEventListener(this._name,e,t)},get:function(){return this._value},_calculateValue:function(){return WebInspector.settings.pauseOnExceptionEnabled.get()?"all":"none"},_enabledChanged:function(e){this._fireChangedIfNeeded()},_pauseOnCaughtChanged:function(e){this._fireChangedIfNeeded()},_fireChangedIfNeeded:function(){var e=this._calculateValue();e!==this._value&&(this._value=e,this._eventSupport.dispatchEventToListeners(this._name,this._value))}},WebInspector.settings.pauseOnExceptionStateString=new WebInspector.PauseOnExceptionStateSetting,WebInspector.SettingsUI={},WebInspector.SettingsUI.createCheckbox=function(e,t,i,n,r,s){var o=r||document.createElement("input");o.type="checkbox",o.name=e,o.checked=t(),o.addEventListener("change",function(){i(o.checked)},!1);var a=document.createElement("label");if(a.appendChild(o),a.createTextChild(e),s&&(a.title=s),n)return a;var c=document.createElement("p");return c.appendChild(a),c},WebInspector.SettingsUI.createSettingCheckbox=function(e,t,i,n,r){return WebInspector.SettingsUI.createCheckbox(e,t.get.bind(t),t.set.bind(t),i,n,r)},WebInspector.SettingsUI.createSettingFieldset=function(e){var t=document.createElement("fieldset");return t.disabled=!e.get(),e.addChangeListener(function(){t.disabled=!e.get()}),t},WebInspector.View=function(){this.element=document.createElement("div"),this.element.className="view",this.element.__view=this,this._visible=!0,this._isRoot=!1,this._isShowing=!1,this._children=[],this._hideOnDetach=!1,this._cssFiles=[],this._notificationDepth=0},WebInspector.View._cssFileToVisibleViewCount={},WebInspector.View._cssFileToStyleElement={},WebInspector.View._cssUnloadTimeout=2e3,WebInspector.View._buildSourceURL=function(e){return"\n/*# sourceURL="+WebInspector.ParsedURL.completeURL(window.location.href,e)+" */"},WebInspector.View.createStyleElement=function(e){return console.log("Trying to load: "+e)},WebInspector.View.prototype={markAsRoot:function(){WebInspector.View._assert(!this.element.parentElement,"Attempt to mark as root attached node"),this._isRoot=!0},makeLayoutBoundary:function(){this._isLayoutBoundary=!0},parentView:function(){return this._parentView},isShowing:function(){return this._isShowing},setHideOnDetach:function(){this._hideOnDetach=!0},_inNotification:function(){return!!this._notificationDepth||this._parentView&&this._parentView._inNotification()},_parentIsShowing:function(){return!!this._isRoot||this._parentView&&this._parentView.isShowing()},_callOnVisibleChildren:function(e){for(var t=this._children.slice(),i=0;i<t.length;++i)t[i]._parentView===this&&t[i]._visible&&e.call(t[i])},_processWillShow:function(){this._loadCSSIfNeeded(),this._callOnVisibleChildren(this._processWillShow),this._isShowing=!0},_processWasShown:function(){this._inNotification()||(this.restoreScrollPositions(),this._notify(this.wasShown),this._notify(this.onResize),this._callOnVisibleChildren(this._processWasShown))},_processWillHide:function(){this._inNotification()||(this.storeScrollPositions(),this._callOnVisibleChildren(this._processWillHide),this._notify(this.willHide),this._isShowing=!1)},_processWasHidden:function(){this._disableCSSIfNeeded(),this._callOnVisibleChildren(this._processWasHidden)},_processOnResize:function(){this._inNotification()||this.isShowing()&&(this._notify(this.onResize),this._callOnVisibleChildren(this._processOnResize))},_processDiscardCachedSize:function(){this._isLayoutBoundary&&(this.element.style.removeProperty("width"),this.element.style.removeProperty("height")),this._callOnVisibleChildren(this._processDiscardCachedSize)},_cacheSize:function(){this._prepareCacheSize(),this._applyCacheSize()},_prepareCacheSize:function(){this._isLayoutBoundary&&(this._cachedOffsetWidth=this.element.offsetWidth,this._cachedOffsetHeight=this.element.offsetHeight),this._callOnVisibleChildren(this._prepareCacheSize)},_applyCacheSize:function(){this._isLayoutBoundary&&(this.element.style.setProperty("width",this._cachedOffsetWidth+"px"),this.element.style.setProperty("height",this._cachedOffsetHeight+"px"),delete this._cachedOffsetWidth,delete this._cachedOffsetHeight),this._callOnVisibleChildren(this._applyCacheSize)},_notify:function(e){++this._notificationDepth;try{e.call(this)}finally{--this._notificationDepth}},wasShown:function(){},willHide:function(){},onResize:function(){},onLayout:function(){},show:function(e,t){if(WebInspector.View._assert(e,"Attempt to attach view with no parent element"),this.element.parentElement!==e){this.element.parentElement&&this.detach();for(var i=e;i&&!i.__view;)i=i.parentElement;i?(this._parentView=i.__view,this._parentView._children.push(this),this._isRoot=!1):WebInspector.View._assert(this._isRoot,"Attempt to attach view to orphan node")}else if(this._visible)return;this._visible=!0,this._parentIsShowing()&&this._processWillShow(),this.element.classList.add("visible"),this.element.parentElement!==e&&(WebInspector.View._incrementViewCounter(e,this.element),t?WebInspector.View._originalInsertBefore.call(e,this.element,t):WebInspector.View._originalAppendChild.call(e,this.element)),this._parentIsShowing()&&(this._processWasShown(),this._cacheSize()),this._parentView&&this._hasNonZeroMinimumSize()&&this._parentView.invalidateMinimumSize()},detach:function(e){var t=this.element.parentElement;if(t){if(this._parentIsShowing()&&(this._processDiscardCachedSize(),this._processWillHide()),this._hideOnDetach&&!e)return this.element.classList.remove("visible"),this._visible=!1,this._parentIsShowing()&&this._processWasHidden(),void(this._parentView&&this._hasNonZeroMinimumSize()&&this._parentView.invalidateMinimumSize());if(WebInspector.View._decrementViewCounter(t,this.element),WebInspector.View._originalRemoveChild.call(t,this.element),this._visible=!1,this._parentIsShowing()&&this._processWasHidden(),this._parentView){var i=this._parentView._children.indexOf(this);WebInspector.View._assert(i>=0,"Attempt to remove non-child view"),this._parentView._children.splice(i,1);var n=this._parentView;this._parentView=null,this._hasNonZeroMinimumSize()&&n.invalidateMinimumSize()}else WebInspector.View._assert(this._isRoot,"Removing non-root view from DOM")}},detachChildViews:function(){for(var e=this._children.slice(),t=0;t<e.length;++t)e[t].detach()},elementsToRestoreScrollPositionsFor:function(){return[this.element]},storeScrollPositions:function(){for(var e=this.elementsToRestoreScrollPositionsFor(),t=0;t<e.length;++t){var i=e[t];i._scrollTop=i.scrollTop,i._scrollLeft=i.scrollLeft}},restoreScrollPositions:function(){for(var e=this.elementsToRestoreScrollPositionsFor(),t=0;t<e.length;++t){var i=e[t];i._scrollTop&&(i.scrollTop=i._scrollTop),i._scrollLeft&&(i.scrollLeft=i._scrollLeft)}},doResize:function(){this.isShowing()&&(this._processDiscardCachedSize(),this._inNotification()||this._callOnVisibleChildren(this._processOnResize),this._cacheSize())},doLayout:function(){this.isShowing()&&(this._notify(this.onLayout),this.doResize())},registerRequiredCSS:function(e){window.flattenImports&&(e=e.split("/").reverse()[0]),this._cssFiles.push(e)},_loadCSSIfNeeded:function(){for(var e=0;e<this._cssFiles.length;++e){var t=this._cssFiles[e],i=WebInspector.View._cssFileToVisibleViewCount[t];WebInspector.View._cssFileToVisibleViewCount[t]=(i||0)+1,i||this._doLoadCSS(t)}},_doLoadCSS:function(e){var t=WebInspector.View._cssFileToStyleElement[e];t?t.disabled=!1:(t=WebInspector.View.createStyleElement(e),WebInspector.View._cssFileToStyleElement[e]=t)},_disableCSSIfNeeded:function(){for(var e=!!WebInspector.View._cssUnloadTimer,t=0;t<this._cssFiles.length;++t){var i=this._cssFiles[t];--WebInspector.View._cssFileToVisibleViewCount[i]||(e=!0)}e&&(WebInspector.View._cssUnloadTimer&&clearTimeout(WebInspector.View._cssUnloadTimer),WebInspector.View._cssUnloadTimer=setTimeout(function(){},WebInspector.View._cssUnloadTimeout))},printViewHierarchy:function(){var e=[];this._collectViewHierarchy("",e),console.log(e.join("\n"))},_collectViewHierarchy:function(e,t){t.push(e+"["+this.element.className+"]"+(this._children.length?" {":""));for(var i=0;i<this._children.length;++i)this._children[i]._collectViewHierarchy(e+"    ",t);this._children.length&&t.push(e+"}")},defaultFocusedElement:function(){return this._defaultFocusedElement||this.element},setDefaultFocusedElement:function(e){this._defaultFocusedElement=e},focus:function(){var e=this.defaultFocusedElement();e&&!e.isAncestor(document.activeElement)&&WebInspector.setCurrentFocusElement(e)},measurePreferredSize:function(){this._loadCSSIfNeeded(),WebInspector.View._originalAppendChild.call(document.body,this.element),this.element.positionAt(0,0);var e=new Size(this.element.offsetWidth,this.element.offsetHeight);return this.element.positionAt(void 0,void 0),WebInspector.View._originalRemoveChild.call(document.body,this.element),this._disableCSSIfNeeded(),e},calculateMinimumSize:function(){return new Size(0,0)},minimumSize:function(){return void 0!==this._minimumSize?this._minimumSize:(void 0===this._cachedMinimumSize&&(this._cachedMinimumSize=this.calculateMinimumSize()),this._cachedMinimumSize)},setMinimumSize:function(e,t){this._minimumSize=new Size(e,t),this.invalidateMinimumSize()},_hasNonZeroMinimumSize:function(){var e=this.minimumSize();return e.width||e.height},invalidateMinimumSize:function(){var e=this._cachedMinimumSize;delete this._cachedMinimumSize,!this.minimumSize().isEqual(e)&&this._parentView?this._parentView.invalidateMinimumSize():this.doLayout()},__proto__:WebInspector.Object.prototype},WebInspector.View._originalAppendChild=Element.prototype.appendChild,WebInspector.View._originalInsertBefore=Element.prototype.insertBefore,WebInspector.View._originalRemoveChild=Element.prototype.removeChild,WebInspector.View._originalRemoveChildren=Element.prototype.removeChildren,WebInspector.View._incrementViewCounter=function(e,t){var i=(t.__viewCounter||0)+(t.__view?1:0);if(i)for(;e;)e.__viewCounter=(e.__viewCounter||0)+i,e=e.parentElement},WebInspector.View._decrementViewCounter=function(e,t){var i=(t.__viewCounter||0)+(t.__view?1:0);if(i)for(;e;)e.__viewCounter-=i,e=e.parentElement},WebInspector.View._assert=function(e,t){if(!e)throw console.trace(),new Error(t)},WebInspector.VBox=function(){WebInspector.View.call(this),this.element.classList.add("vbox")},WebInspector.VBox.prototype={calculateMinimumSize:function(){var e=0,t=0;return this._callOnVisibleChildren(function(){var i=this.minimumSize();e=Math.max(e,i.width),t+=i.height}),new Size(e,t)},__proto__:WebInspector.View.prototype},WebInspector.HBox=function(){WebInspector.View.call(this),this.element.classList.add("hbox")},WebInspector.HBox.prototype={calculateMinimumSize:function(){var e=0,t=0;return this._callOnVisibleChildren(function(){var i=this.minimumSize();e+=i.width,t=Math.max(t,i.height)}),new Size(e,t)},__proto__:WebInspector.View.prototype},WebInspector.VBoxWithResizeCallback=function(e){WebInspector.VBox.call(this),this._resizeCallback=e},WebInspector.VBoxWithResizeCallback.prototype={onResize:function(){this._resizeCallback()},__proto__:WebInspector.VBox.prototype},Element.prototype.appendChild=function(e){return WebInspector.View._assert(!e.__view||e.parentElement===this,"Attempt to add view via regular DOM operation."),WebInspector.View._originalAppendChild.call(this,e)},Element.prototype.insertBefore=function(e,t){return WebInspector.View._assert(!e.__view||e.parentElement===this,"Attempt to add view via regular DOM operation."),WebInspector.View._originalInsertBefore.call(this,e,t)},Element.prototype.removeChild=function(e){return WebInspector.View._assert(!e.__viewCounter&&!e.__view,"Attempt to remove element containing view via regular DOM operation"),WebInspector.View._originalRemoveChild.call(this,e)},Element.prototype.removeChildren=function(){WebInspector.View._assert(!this.__viewCounter,"Attempt to remove element containing view via regular DOM operation"),WebInspector.View._originalRemoveChildren.call(this)},WebInspector.installDragHandle=function(e,t,i,n,r,s){e.addEventListener("mousedown",WebInspector.elementDragStart.bind(WebInspector,t,i,n,r),!1),null!==s&&(e.style.cursor=s||r)},WebInspector.elementDragStart=function(e,t,i,n,r){if(!(r.button||WebInspector.isMac()&&r.ctrlKey)&&!WebInspector._elementDraggingEventListener&&(!e||e(r))){WebInspector._elementDraggingGlassPane&&(WebInspector._elementDraggingGlassPane.dispose(),delete WebInspector._elementDraggingGlassPane);var s=r.target.ownerDocument;WebInspector._elementDraggingEventListener=t,WebInspector._elementEndDraggingEventListener=i,WebInspector._mouseOutWhileDraggingTargetDocument=s,s.addEventListener("mousemove",WebInspector._elementDragMove,!0),s.addEventListener("mouseup",WebInspector._elementDragEnd,!0),s.addEventListener("mouseout",WebInspector._mouseOutWhileDragging,!0),s.body.style.cursor=n,r.preventDefault()}},WebInspector._mouseOutWhileDragging=function(){WebInspector._unregisterMouseOutWhileDragging(),WebInspector._elementDraggingGlassPane=new WebInspector.GlassPane},WebInspector._unregisterMouseOutWhileDragging=function(){WebInspector._mouseOutWhileDraggingTargetDocument&&(WebInspector._mouseOutWhileDraggingTargetDocument.removeEventListener("mouseout",WebInspector._mouseOutWhileDragging,!0),delete WebInspector._mouseOutWhileDraggingTargetDocument)},WebInspector._elementDragMove=function(e){WebInspector._elementDraggingEventListener(e)&&WebInspector._cancelDragEvents(e)},WebInspector._cancelDragEvents=function(e){var t=e.target.ownerDocument;t.removeEventListener("mousemove",WebInspector._elementDragMove,!0),t.removeEventListener("mouseup",WebInspector._elementDragEnd,!0),WebInspector._unregisterMouseOutWhileDragging(),t.body.style.removeProperty("cursor"),WebInspector._elementDraggingGlassPane&&WebInspector._elementDraggingGlassPane.dispose(),delete WebInspector._elementDraggingGlassPane,delete WebInspector._elementDraggingEventListener,delete WebInspector._elementEndDraggingEventListener},WebInspector._elementDragEnd=function(e){var t=WebInspector._elementEndDraggingEventListener;WebInspector._cancelDragEvents(e),e.preventDefault(),t&&t(e)},WebInspector.GlassPane=function(){this.element=document.createElement("div"),this.element.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;background-color:transparent;z-index:1000;",this.element.id="glass-pane",document.body.appendChild(this.element),WebInspector._glassPane=this},WebInspector.GlassPane.prototype={dispose:function(){delete WebInspector._glassPane,WebInspector.HelpScreen.isVisible()?WebInspector.HelpScreen.focus():WebInspector.inspectorView.focus(),this.element.remove()}},WebInspector.isBeingEdited=function(e){if(e.classList.contains("text-prompt")||"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)return!0;if(!WebInspector.__editingCount)return!1;for(;e;){if(e.__editing)return!0;e=e.parentElement}return!1},WebInspector.markBeingEdited=function(e,t){if(t){if(e.__editing)return!1;e.classList.add("being-edited"),e.__editing=!0,WebInspector.__editingCount=(WebInspector.__editingCount||0)+1}else{if(!e.__editing)return!1;e.classList.remove("being-edited"),delete e.__editing,--WebInspector.__editingCount}return!0},WebInspector.CSSNumberRegex=/^(-?(?:\d+(?:\.\d+)?|\.\d+))$/,WebInspector.StyleValueDelimiters="  \t\n\"':;,/()",WebInspector._valueModificationDirection=function(e){var t=null;return"mousewheel"===e.type?e.wheelDeltaY>0?t="Up":e.wheelDeltaY<0&&(t="Down"):"Up"===e.keyIdentifier||"PageUp"===e.keyIdentifier?t="Up":"Down"!==e.keyIdentifier&&"PageDown"!==e.keyIdentifier||(t="Down"),t},WebInspector._modifiedHexValue=function(e,t){var i=WebInspector._valueModificationDirection(t);if(!i)return e;var n=parseInt(e,16);if(isNaN(n)||!isFinite(n))return e;var r,s=Math.pow(16,e.length)-1;r="Up"===t.keyIdentifier||"Down"===t.keyIdentifier||"mousewheel"===t.type?"Up"===i?1:-1:"PageUp"===t.keyIdentifier?16:-16,t.shiftKey&&(r*=16);var o=n+r;if(o<0)o=0;else if(o>s)return e;for(var a=o.toString(16).toUpperCase(),c=0,l=e.length-a.length;c<l;++c)a="0"+a;return a},WebInspector._modifiedFloatNumber=function(e,t){var i=WebInspector._valueModificationDirection(t);if(!i)return e;var n="Up"===t.keyIdentifier||"Down"===t.keyIdentifier||"mousewheel"===t.type,r=1;t.shiftKey&&!n?r=100:t.shiftKey||!n?r=10:t.altKey&&(r=.1),"Down"===i&&(r*=-1);var s=Number((e+r).toFixed(6));return String(s).match(WebInspector.CSSNumberRegex)?s:null},WebInspector.handleElementValueModifications=function(e,t,i,n,r){var s="Up"===e.keyIdentifier||"Down"===e.keyIdentifier||"mousewheel"===e.type,o="PageUp"===e.keyIdentifier||"PageDown"===e.keyIdentifier;if(!s&&!o)return!1;var a=window.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0);if(!c.commonAncestorContainer.isSelfOrDescendant(t))return!1;var l,d,h,p,u,m=t.textContent,_=c.startContainer.rangeOfWord(c.startOffset,WebInspector.StyleValueDelimiters,t),g=_.toString();if(n&&n(g))return!1;if((u=/(.*#)([\da-fA-F]+)(.*)/.exec(g))&&u.length)d=u[1],h=u[3],p=WebInspector._modifiedHexValue(u[2],e),r&&(p=r(p)),l=d+p+h;else if((u=/(.*?)(-?(?:\d+(?:\.\d+)?|\.\d+))(.*)/.exec(g))&&u.length){if(d=u[1],h=u[3],null===(p=WebInspector._modifiedFloatNumber(parseFloat(u[2]),e)))return!1;r&&(p=r(p)),l=d+p+h}if(l){var b=document.createTextNode(l);_.deleteContents(),_.insertNode(b);var f=document.createRange();return f.setStart(b,0),f.setEnd(b,l.length),a.removeAllRanges(),a.addRange(f),e.handled=!0,e.preventDefault(),i&&i(m,l),!0}return!1},Number.preciseMillisToString=function(e,t){var i="%."+(t=t||0)+"f ms";return WebInspector.UIString(i,e)},Number.millisToString=function(e,t){if(!isFinite(e))return"-";if(0===e)return"0";if(t&&e<1e3)return WebInspector.UIString("%.3f ms",e);if(e<1e3)return WebInspector.UIString("%.0f ms",e);var i=e/1e3;if(i<60)return WebInspector.UIString("%.2f s",i);var n=i/60;if(n<60)return WebInspector.UIString("%.1f min",n);var r=n/60;if(r<24)return WebInspector.UIString("%.1f hrs",r);var s=r/24;return WebInspector.UIString("%.1f days",s)},Number.secondsToString=function(e,t){return isFinite(e)?Number.millisToString(1e3*e,t):"-"},Number.bytesToString=function(e){if(e<1024)return WebInspector.UIString("%.0f B",e);var t=e/1024;if(t<100)return WebInspector.UIString("%.1f KB",t);if(t<1024)return WebInspector.UIString("%.0f KB",t);var i=t/1024;return i<100?WebInspector.UIString("%.1f MB",i):WebInspector.UIString("%.0f MB",i)},Number.withThousandsSeparator=function(e){for(var t=e+"",i=/(\d+)(\d{3})/;t.match(i);)t=t.replace(i,"$1 $2");return t},WebInspector.useLowerCaseMenuTitles=function(){return"windows"===WebInspector.platform()},WebInspector.formatLocalized=function(e,t,i,n,r){return String.format(WebInspector.UIString(e),t,i,n,r)},WebInspector.openLinkExternallyLabel=function(){return WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open link in new tab":"Open Link in New Tab")},WebInspector.copyLinkAddressLabel=function(){return WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy link address":"Copy Link Address")},WebInspector.installPortStyles=function(){var e=WebInspector.platform();document.body.classList.add("platform-"+e);var t=WebInspector.platformFlavor();t&&document.body.classList.add("platform-"+t);var i=WebInspector.port();document.body.classList.add("port-"+i)},WebInspector._windowFocused=function(e){e.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.remove("inactive")},WebInspector._windowBlurred=function(e){e.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.add("inactive")},WebInspector.previousFocusElement=function(){return WebInspector._previousFocusElement},WebInspector.currentFocusElement=function(){return WebInspector._currentFocusElement},WebInspector._focusChanged=function(e){WebInspector.setCurrentFocusElement(e.target)},WebInspector._documentBlurred=function(e){e.relatedTarget||document.activeElement!==document.body||WebInspector.setCurrentFocusElement(null)},WebInspector._textInputTypes=["text","search","tel","url","email","password"].keySet(),WebInspector._isTextEditingElement=function(e){return e instanceof HTMLInputElement?e.type in WebInspector._textInputTypes:e instanceof HTMLTextAreaElement},WebInspector.setCurrentFocusElement=function(e){if(!WebInspector._glassPane||!e||WebInspector._glassPane.element.isAncestor(e))if(WebInspector._currentFocusElement!==e&&(WebInspector._previousFocusElement=WebInspector._currentFocusElement),WebInspector._currentFocusElement=e,WebInspector._currentFocusElement){WebInspector._currentFocusElement.focus();var t=window.getSelection();if(!WebInspector._isTextEditingElement(WebInspector._currentFocusElement)&&t.isCollapsed&&!WebInspector._currentFocusElement.isInsertionCaretInside()){var i=WebInspector._currentFocusElement.ownerDocument.createRange();i.setStart(WebInspector._currentFocusElement,0),i.setEnd(WebInspector._currentFocusElement,0),t.removeAllRanges(),t.addRange(i)}}else WebInspector._previousFocusElement&&WebInspector._previousFocusElement.blur()},WebInspector.restoreFocusFromElement=function(e){e&&e.isSelfOrAncestor(WebInspector.currentFocusElement())&&WebInspector.setCurrentFocusElement(WebInspector.previousFocusElement())},WebInspector.setToolbarColors=function(e,t){WebInspector._themeStyleElement||(WebInspector._themeStyleElement=document.createElement("style"),document.head.appendChild(WebInspector._themeStyleElement));var i=WebInspector.Color.parse(t),n=i?i.invert().setAlpha(.33).toString(WebInspector.Color.Format.RGBA):"white",r=WebInspector.isMac()?"body:not(.undocked)":"";WebInspector._themeStyleElement.textContent=String.sprintf("%s .toolbar-background {                 background-image: none !important;                 background-color: %s !important;                 color: %s !important;             }",r,e,t)+String.sprintf("%s .toolbar-background button.status-bar-item .glyph, %s .toolbar-background button.status-bar-item .long-click-glyph {                 background-color: %s;             }",r,r,t)+String.sprintf("%s .toolbar-background button.status-bar-item .glyph.shadow, %s .toolbar-background button.status-bar-item .long-click-glyph.shadow {                 background-color: %s;             }",r,r,n)},WebInspector.resetToolbarColors=function(){WebInspector._themeStyleElement&&(WebInspector._themeStyleElement.textContent="")},WebInspector.highlightSearchResult=function(e,t,i,n){var r=WebInspector.highlightSearchResults(e,[new WebInspector.SourceRange(t,i)],n);return r.length?r[0]:null},WebInspector.highlightSearchResults=function(e,t,i){return WebInspector.highlightRangesWithStyleClass(e,t,"highlighted-search-result",i)},WebInspector.runCSSAnimationOnce=function(e,t){e.classList.contains(t)&&e.classList.remove(t),e.addEventListener("animationend",function i(){e.classList.remove(t),e.removeEventListener("animationend",i,!1)},!1),e.classList.add(t)},WebInspector.highlightRangesWithStyleClass=function(e,t,i,n){n=n||[];var r=[],s=e.textContent,o=e.ownerDocument,a=o.evaluate(".//text()",e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),c=a.snapshotLength;if(0===c)return r;for(var l=[],d=0,h=0;h<c;++h){var p={};p.offset=d,p.length=a.snapshotItem(h).textContent.length,d=p.offset+p.length,l.push(p)}var u=0;for(h=0;h<t.length;++h){for(var m=t[h].offset,_=m+t[h].length;u<c&&l[u].offset+l[u].length<=m;)u++;for(var g=u;g<c&&l[g].offset+l[g].length<_;)g++;if(g===c)break;var b=o.createElement("span");b.className=i,b.textContent=s.substring(m,_);var f=a.snapshotItem(g),I=f.textContent;if(f.textContent=I.substring(_-l[g].offset),n.push({node:f,type:"changed",oldText:I,newText:f.textContent}),u===g){f.parentElement.insertBefore(b,f),n.push({node:b,type:"added",nextSibling:f,parent:f.parentElement}),r.push(b);var v=o.createTextNode(I.substring(0,m-l[u].offset));f.parentElement.insertBefore(v,b),n.push({node:v,type:"added",nextSibling:b,parent:f.parentElement})}else{var S=a.snapshotItem(u),y=S.textContent,C=S.nextSibling;S.parentElement.insertBefore(b,C),n.push({node:b,type:"added",nextSibling:C,parent:S.parentElement}),r.push(b),S.textContent=y.substring(0,m-l[u].offset),n.push({node:S,type:"changed",oldText:y,newText:S.textContent});for(var W=u+1;W<g;W++){var w=a.snapshotItem(W),E=w.textContent;w.textContent="",n.push({node:w,type:"changed",oldText:E,newText:w.textContent})}}l[u=g].offset=_,l[u].length=f.textContent.length}return r},WebInspector.applyDomChanges=function(e){for(var t=0,i=e.length;t<i;++t){var n=e[t];switch(n.type){case"added":n.parent.insertBefore(n.node,n.nextSibling);break;case"changed":n.node.textContent=n.newText}}},WebInspector.revertDomChanges=function(e){for(var t=e.length-1;t>=0;--t){var i=e[t];switch(i.type){case"added":i.node.remove();break;case"changed":i.node.textContent=i.oldText}}},WebInspector._coalescingLevel=0,WebInspector.startBatchUpdate=function(){WebInspector._coalescingLevel||(WebInspector._postUpdateHandlers=new GenericMap),WebInspector._coalescingLevel++},WebInspector.endBatchUpdate=function(){if(!--WebInspector._coalescingLevel){var e=WebInspector._postUpdateHandlers;delete WebInspector._postUpdateHandlers,window.requestAnimationFrame(function(){if(!WebInspector._coalescingLevel)for(var t=e.keys(),i=0;i<t.length;++i)for(var n=t[i],r=e.get(n).keys(),s=0;s<r.length;++s)r[s].call(n)})}},WebInspector.invokeOnceAfterBatchUpdate=function(e,t){if(WebInspector._coalescingLevel){var i=WebInspector._postUpdateHandlers.get(e);i||(i=new GenericMap,WebInspector._postUpdateHandlers.put(e,i)),i.put(t)}else window.requestAnimationFrame(function(){WebInspector._coalescingLevel||t.call(e)})},window.addEventListener("DOMContentLoaded",function e(){window.addEventListener("focus",WebInspector._windowFocused,!1),window.addEventListener("blur",WebInspector._windowBlurred,!1),document.addEventListener("focus",WebInspector._focusChanged,!0),document.addEventListener("blur",WebInspector._documentBlurred,!0),window.removeEventListener("DOMContentLoaded",e,!1)},!1),WebInspector.HelpScreen=function(e){if(WebInspector.VBox.call(this),this.markAsRoot(),this.registerRequiredCSS("helpScreen.css"),this.element.classList.add("help-window-outer"),this.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this.element.tabIndex=0,e){var t=this.element.createChild("div","help-window-main"),i=t.createChild("div","help-window-caption");i.appendChild(this._createCloseButton()),this.contentElement=t.createChild("div","help-content"),i.createChild("h1","help-window-title").textContent=e}},WebInspector.HelpScreen._visibleScreen=null,WebInspector.HelpScreen.isVisible=function(){return!!WebInspector.HelpScreen._visibleScreen},WebInspector.HelpScreen.focus=function(){WebInspector.HelpScreen._visibleScreen.element.focus()},WebInspector.HelpScreen.prototype={_createCloseButton:function(){var e=document.createElement("div");return e.className="help-close-button close-button-gray",e.addEventListener("click",this.hide.bind(this),!1),e},showModal:function(){var e=WebInspector.HelpScreen._visibleScreen;e!==this&&(e&&e.hide(),WebInspector.HelpScreen._visibleScreen=this,this.show(WebInspector.inspectorView.element),this.focus())},hide:function(){this.isShowing()&&(WebInspector.HelpScreen._visibleScreen=null,WebInspector.restoreFocusFromElement(this.element),this.detach())},isClosingKey:function(e){return[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code,WebInspector.KeyboardShortcut.Keys.Space.code].indexOf(e)>=0},_onKeyDown:function(e){this.isShowing()&&this.isClosingKey(e.keyCode)&&(this.hide(),e.consume())},__proto__:WebInspector.VBox.prototype},WebInspector.RemoteDebuggingTerminatedScreen=function(e){WebInspector.HelpScreen.call(this,WebInspector.UIString("Detached from the target"));var t=this.contentElement.createChild("p");t.classList.add("help-section"),t.createChild("span").textContent=WebInspector.UIString("Remote debugging has been terminated with reason: "),t.createChild("span","error-message").textContent=e,t.createChild("br"),t.createChild("span").textContent=WebInspector.UIString("Please re-attach to the new target.")},WebInspector.RemoteDebuggingTerminatedScreen.prototype={__proto__:WebInspector.HelpScreen.prototype},WebInspector.WorkerTerminatedScreen=function(){WebInspector.HelpScreen.call(this,WebInspector.UIString("Inspected worker terminated"));var e=this.contentElement.createChild("p");e.classList.add("help-section"),e.textContent=WebInspector.UIString("Inspected worker has terminated. Once it restarts we will attach to it automatically.")},WebInspector.WorkerTerminatedScreen.prototype={__proto__:WebInspector.HelpScreen.prototype},window.InspectorFrontendHost||(WebInspector.InspectorFrontendHostStub=function(){this.isStub=!0},WebInspector.InspectorFrontendHostStub.prototype={getSelectionBackgroundColor:function(){return"#6e86ff"},getSelectionForegroundColor:function(){return"#ffffff"},platform:function(){var e=navigator.userAgent.match(/Windows NT/);return e?"windows":(e=navigator.userAgent.match(/Mac OS X/))?"mac":"linux"},port:function(){return"unknown"},bringToFront:function(){this._windowVisible=!0},closeWindow:function(){this._windowVisible=!1},setIsDocked:function(e){},setContentsResizingStrategy:function(e,t){},inspectElementCompleted:function(){},moveWindowBy:function(e,t){},setInjectedScriptForOrigin:function(e,t){},inspectedURLChanged:function(e){},copyText:function(e){WebInspector.console.log("Clipboard is not enabled in hosted mode. Please inspect using chrome://inspect",WebInspector.ConsoleMessage.MessageLevel.Error,!0)},openInNewTab:function(e){},save:function(e,t,i){WebInspector.console.log("Saving files is not enabled in hosted mode. Please inspect using chrome://inspect",WebInspector.ConsoleMessage.MessageLevel.Error,!0),WebInspector.fileManager.canceledSaveURL(e)},append:function(e,t){WebInspector.console.log("Saving files is not enabled in hosted mode. Please inspect using chrome://inspect",WebInspector.ConsoleMessage.MessageLevel.Error,!0)},sendMessageToBackend:function(e){},sendMessageToEmbedder:function(e){},recordActionTaken:function(e){},recordPanelShown:function(e){},requestFileSystems:function(){},addFileSystem:function(){},removeFileSystem:function(e){},isolatedFileSystem:function(e,t){return null},upgradeDraggedFileSystemPermissions:function(e){},indexPath:function(e,t){},stopIndexing:function(e){},searchInPath:function(e,t,i){},setZoomFactor:function(e){},zoomFactor:function(){return 1},zoomIn:function(){},zoomOut:function(){},resetZoom:function(){},isUnderTest:function(){return!1}},InspectorFrontendHost=new WebInspector.InspectorFrontendHostStub),WebInspector.FileManager=function(){this._saveCallbacks={}},WebInspector.FileManager.EventTypes={SavedURL:"SavedURL",AppendedToURL:"AppendedToURL"},WebInspector.FileManager.prototype={canSave:function(){return!0},save:function(e,t,i,n){var r=WebInspector.settings.savedURLs.get();delete r[e],WebInspector.settings.savedURLs.set(r),this._saveCallbacks[e]=n||null,InspectorFrontendHost.save(e,t,i)},savedURL:function(e){var t=WebInspector.settings.savedURLs.get();t[e]=!0,WebInspector.settings.savedURLs.set(t),this.dispatchEventToListeners(WebInspector.FileManager.EventTypes.SavedURL,e),this._invokeSaveCallback(e,!0)},_invokeSaveCallback:function(e,t){var i=this._saveCallbacks[e];delete this._saveCallbacks[e],i&&i(t)},canceledSaveURL:function(e){this._invokeSaveCallback(e,!1)},isURLSaved:function(e){return WebInspector.settings.savedURLs.get()[e]},append:function(e,t){InspectorFrontendHost.append(e,t)},close:function(e){},appendedToURL:function(e){this.dispatchEventToListeners(WebInspector.FileManager.EventTypes.AppendedToURL,e)},__proto__:WebInspector.Object.prototype},WebInspector.fileManager=new WebInspector.FileManager,WebInspector.Checkbox=function(e,t,i){this.element=document.createElement("label"),this._inputElement=document.createElement("input"),this._inputElement.type="checkbox",this.element.className=t,this.element.appendChild(this._inputElement),this.element.appendChild(document.createTextNode(e)),i&&(this.element.title=i)},WebInspector.Checkbox.prototype={set checked(e){this._inputElement.checked=e},get checked(){return this._inputElement.checked},addEventListener:function(e){function t(t){return e&&e(t),t.consume(),!0}this._inputElement.addEventListener("click",t,!1),this.element.addEventListener("click",t,!1)}},WebInspector.ContextMenuItem=function(e,t,i,n,r){this._type=t,this._label=i,this._disabled=n,this._checked=r,this._contextMenu=e,"item"!==t&&"checkbox"!==t||(this._id=e.nextId())},WebInspector.ContextMenuItem.prototype={id:function(){return this._id},type:function(){return this._type},isEnabled:function(){return!this._disabled},setEnabled:function(e){this._disabled=!e},_buildDescriptor:function(){switch(this._type){case"item":return{type:"item",id:this._id,label:this._label,enabled:!this._disabled};case"separator":return{type:"separator"};case"checkbox":return{type:"checkbox",id:this._id,label:this._label,checked:!!this._checked,enabled:!this._disabled}}}},WebInspector.ContextSubMenuItem=function(e,t,i){WebInspector.ContextMenuItem.call(this,e,"subMenu",t,i),this._items=[]},WebInspector.ContextSubMenuItem.prototype={appendItem:function(e,t,i){var n=new WebInspector.ContextMenuItem(this._contextMenu,"item",e,i);return this._pushItem(n),this._contextMenu._setHandler(n.id(),t),n},appendSubMenuItem:function(e,t){var i=new WebInspector.ContextSubMenuItem(this._contextMenu,e,t);return this._pushItem(i),i},appendCheckboxItem:function(e,t,i,n){var r=new WebInspector.ContextMenuItem(this._contextMenu,"checkbox",e,n,i);return this._pushItem(r),this._contextMenu._setHandler(r.id(),t),r},appendSeparator:function(){this._items.length&&(this._pendingSeparator=!0)},_pushItem:function(e){this._pendingSeparator&&(this._items.push(new WebInspector.ContextMenuItem(this._contextMenu,"separator")),delete this._pendingSeparator),this._items.push(e)},isEmpty:function(){return!this._items.length},_buildDescriptor:function(){for(var e={type:"subMenu",label:this._label,enabled:!this._disabled,subItems:[]},t=0;t<this._items.length;++t)e.subItems.push(this._items[t]._buildDescriptor());return e},__proto__:WebInspector.ContextMenuItem.prototype},WebInspector.ContextMenu=function(e){WebInspector.ContextSubMenuItem.call(this,this,""),this._event=e,this._handlers={},this._id=0},WebInspector.ContextMenu.setUseSoftMenu=function(e){WebInspector.ContextMenu._useSoftMenu=e},WebInspector.ContextMenu.prototype={nextId:function(){return this._id++},show:function(){var e=this._buildDescriptor();e.length&&(WebInspector._contextMenu=this,WebInspector.ContextMenu._useSoftMenu?new WebInspector.SoftContextMenu(e).show(this._event):InspectorFrontendHost.showContextMenu(this._event,e),this._event.consume())},_setHandler:function(e,t){t&&(this._handlers[e]=t)},_buildDescriptor:function(){for(var e=[],t=0;t<this._items.length;++t)e.push(this._items[t]._buildDescriptor());return e},_itemSelected:function(e){this._handlers[e]&&this._handlers[e].call(this)},appendApplicableItems:function(e){WebInspector.moduleManager.extensions(WebInspector.ContextMenu.Provider,e).forEach(function(t){var i=t.instance();this.appendSeparator(),i.appendApplicableItems(this._event,this,e),this.appendSeparator()}.bind(this))},__proto__:WebInspector.ContextSubMenuItem.prototype},WebInspector.ContextMenu.Provider=function(){},WebInspector.ContextMenu.Provider.prototype={appendApplicableItems:function(e,t,i){}},WebInspector.contextMenuItemSelected=function(e){WebInspector._contextMenu&&WebInspector._contextMenu._itemSelected(e)},WebInspector.contextMenuCleared=function(){},WebInspector.SoftContextMenu=function(e,t){this._items=e,this._parentMenu=t},WebInspector.SoftContextMenu.prototype={show:function(e){this._x=e.x,this._y=e.y,this._time=(new Date).getTime();for(var t=e.pageX,i=e.pageY,n=e.target;n&&window!==n.ownerDocument.defaultView;){var r=n.ownerDocument.defaultView.frameElement;i+=r.totalOffsetTop(),t+=r.totalOffsetLeft(),n=r}this._contextMenuElement=document.createElement("div"),this._contextMenuElement.className="soft-context-menu",this._contextMenuElement.tabIndex=0,this._contextMenuElement.style.top=i+"px",this._contextMenuElement.style.left=t+"px",this._contextMenuElement.addEventListener("mouseup",consumeEvent,!1),this._contextMenuElement.addEventListener("keydown",this._menuKeyDown.bind(this),!1);for(var s=0;s<this._items.length;++s)this._contextMenuElement.appendChild(this._createMenuItem(this._items[s]));this._parentMenu?this._parentMenu._parentGlassPaneElement().appendChild(this._contextMenuElement):(this._glassPaneElement=document.createElement("div"),this._glassPaneElement.className="soft-context-menu-glass-pane",this._glassPaneElement.tabIndex=0,this._glassPaneElement.addEventListener("mouseup",this._glassPaneMouseUp.bind(this),!1),this._glassPaneElement.appendChild(this._contextMenuElement),document.body.appendChild(this._glassPaneElement),this._focus()),document.body.offsetWidth<this._contextMenuElement.offsetLeft+this._contextMenuElement.offsetWidth&&(this._contextMenuElement.style.left=t-this._contextMenuElement.offsetWidth+"px"),document.body.offsetHeight<this._contextMenuElement.offsetTop+this._contextMenuElement.offsetHeight&&(this._contextMenuElement.style.top=document.body.offsetHeight-this._contextMenuElement.offsetHeight+"px"),e.consume(!0)},_parentGlassPaneElement:function(){return this._glassPaneElement?this._glassPaneElement:this._parentMenu?this._parentMenu._parentGlassPaneElement():null},_createMenuItem:function(e){if("separator"===e.type)return this._createSeparator();if("subMenu"===e.type)return this._createSubMenu(e);var t=document.createElement("div");t.className="soft-context-menu-item";var i=document.createElement("span");return i.textContent="✓ ",i.className="soft-context-menu-item-checkmark",e.checked||(i.style.opacity="0"),t.appendChild(i),t.appendChild(document.createTextNode(e.label)),t.addEventListener("mousedown",this._menuItemMouseDown.bind(this),!1),t.addEventListener("mouseup",this._menuItemMouseUp.bind(this),!1),t.addEventListener("mouseover",this._menuItemMouseOver.bind(this),!1),t.addEventListener("mouseout",this._menuItemMouseOut.bind(this),!1),t._actionId=e.id,t},_createSubMenu:function(e){var t=document.createElement("div");t.className="soft-context-menu-item",t._subItems=e.subItems;var i=document.createElement("span");i.textContent="✓ ",i.className="soft-context-menu-item-checkmark",i.style.opacity="0",t.appendChild(i);var n=document.createElement("span");return n.textContent="▶",n.className="soft-context-menu-item-submenu-arrow",t.appendChild(document.createTextNode(e.label)),t.appendChild(n),t.addEventListener("mousedown",this._menuItemMouseDown.bind(this),!1),t.addEventListener("mouseup",this._menuItemMouseUp.bind(this),!1),t.addEventListener("mouseover",this._menuItemMouseOver.bind(this),!1),t.addEventListener("mouseout",this._menuItemMouseOut.bind(this),!1),t},_createSeparator:function(){var e=document.createElement("div");return e.className="soft-context-menu-separator",e._isSeparator=!0,e.addEventListener("mouseover",this._hideSubMenu.bind(this),!1),e.createChild("div","separator-line"),e},_menuItemMouseDown:function(e){e.consume(!0)},_menuItemMouseUp:function(e){this._triggerAction(e.target,e),e.consume()},_focus:function(){this._contextMenuElement.focus()},_triggerAction:function(e,t){if(!e._subItems)return this._discardMenu(!0,t),void(void 0!==e._actionId&&(WebInspector.contextMenuItemSelected(e._actionId),delete e._actionId));this._showSubMenu(e,t),t.consume()},_showSubMenu:function(e,t){e._subMenuTimer&&(clearTimeout(e._subMenuTimer),delete e._subMenuTimer),this._subMenu||(this._subMenu=new WebInspector.SoftContextMenu(e._subItems,this),this._subMenu.show(this._buildMouseEventForSubMenu(e)))},_buildMouseEventForSubMenu:function(e){var t=e.offsetWidth-3,i=e.offsetTop-1;return{x:this._x+t,y:this._y+i,pageX:parseInt(this._contextMenuElement.style.left,10)+t,pageY:parseInt(this._contextMenuElement.style.top,10)+i,consume:function(){}}},_hideSubMenu:function(){this._subMenu&&(this._subMenu._discardSubMenus(),this._focus())},_menuItemMouseOver:function(e){this._highlightMenuItem(e.target)},_menuItemMouseOut:function(e){if(this._subMenu&&e.relatedTarget){var t=e.relatedTarget;(this._contextMenuElement.isSelfOrAncestor(t)||t.classList.contains("soft-context-menu-glass-pane"))&&this._highlightMenuItem(null)}else this._highlightMenuItem(null)},_highlightMenuItem:function(e){this._highlightedMenuItemElement!==e&&(this._hideSubMenu(),this._highlightedMenuItemElement&&(this._highlightedMenuItemElement.classList.remove("soft-context-menu-item-mouse-over"),this._highlightedMenuItemElement._subItems&&this._highlightedMenuItemElement._subMenuTimer&&(clearTimeout(this._highlightedMenuItemElement._subMenuTimer),delete this._highlightedMenuItemElement._subMenuTimer)),this._highlightedMenuItemElement=e,this._highlightedMenuItemElement&&(this._highlightedMenuItemElement.classList.add("soft-context-menu-item-mouse-over"),this._contextMenuElement.focus(),this._highlightedMenuItemElement._subItems&&!this._highlightedMenuItemElement._subMenuTimer&&(this._highlightedMenuItemElement._subMenuTimer=setTimeout(this._showSubMenu.bind(this,this._highlightedMenuItemElement,this._buildMouseEventForSubMenu(this._highlightedMenuItemElement)),150))))},_highlightPrevious:function(){for(var e=this._highlightedMenuItemElement?this._highlightedMenuItemElement.previousSibling:this._contextMenuElement.lastChild;e&&e._isSeparator;)e=e.previousSibling;e&&this._highlightMenuItem(e)},_highlightNext:function(){for(var e=this._highlightedMenuItemElement?this._highlightedMenuItemElement.nextSibling:this._contextMenuElement.firstChild;e&&e._isSeparator;)e=e.nextSibling;e&&this._highlightMenuItem(e)},_menuKeyDown:function(e){switch(e.keyIdentifier){case"Up":this._highlightPrevious();break;case"Down":this._highlightNext();break;case"Left":this._parentMenu&&(this._highlightMenuItem(null),this._parentMenu._focus());break;case"Right":if(!this._highlightedMenuItemElement)break;this._highlightedMenuItemElement._subItems&&(this._showSubMenu(this._highlightedMenuItemElement,this._buildMouseEventForSubMenu(this._highlightedMenuItemElement)),this._subMenu._focus(),this._subMenu._highlightNext());break;case"U+001B":this._discardMenu(!0,e);break;case"Enter":if(!isEnterKey(e))break;case"U+0020":this._highlightedMenuItemElement&&this._triggerAction(this._highlightedMenuItemElement,e)}e.consume(!0)},_glassPaneMouseUp:function(e){e.x===this._x&&e.y===this._y&&(new Date).getTime()-this._time<300||(this._discardMenu(!0,e),e.consume())},_discardMenu:function(e,t){if(!this._subMenu||e)if(this._glassPaneElement){var i=this._glassPaneElement;delete this._glassPaneElement,document.body.removeChild(i),this._parentMenu&&(delete this._parentMenu._subMenu,e&&this._parentMenu._discardMenu(e,t)),t&&t.consume(!0)}else this._parentMenu&&this._contextMenuElement.parentElement&&(this._discardSubMenus(),e&&this._parentMenu._discardMenu(e,t),t&&t.consume(!0))},_discardSubMenus:function(){this._subMenu&&this._subMenu._discardSubMenus(),this._contextMenuElement.remove(),this._parentMenu&&delete this._parentMenu._subMenu}},InspectorFrontendHost.showContextMenu||(InspectorFrontendHost.showContextMenu=function(e,t){new WebInspector.SoftContextMenu(t).show(e)}),WebInspector.KeyboardShortcut=function(){},WebInspector.KeyboardShortcut.Modifiers={None:0,Shift:1,Ctrl:2,Alt:4,Meta:8,get CtrlOrMeta(){return WebInspector.isMac()?this.Meta:this.Ctrl}},WebInspector.KeyboardShortcut.Key,WebInspector.KeyboardShortcut.Keys={Backspace:{code:8,name:"↤"},Tab:{code:9,name:{mac:"⇥",other:"Tab"}},Enter:{code:13,name:{mac:"↩",other:"Enter"}},Ctrl:{code:17,name:"Ctrl"},Esc:{code:27,name:{mac:"⎋",other:"Esc"}},Space:{code:32,name:"Space"},PageUp:{code:33,name:{mac:"⇞",other:"PageUp"}},PageDown:{code:34,name:{mac:"⇟",other:"PageDown"}},End:{code:35,name:{mac:"↗",other:"End"}},Home:{code:36,name:{mac:"↖",other:"Home"}},Left:{code:37,name:"←"},Up:{code:38,name:"↑"},Right:{code:39,name:"→"},Down:{code:40,name:"↓"},Delete:{code:46,name:"Del"},Zero:{code:48,name:"0"},H:{code:72,name:"H"},Meta:{code:91,name:"Meta"},F1:{code:112,name:"F1"},F2:{code:113,name:"F2"},F3:{code:114,name:"F3"},F4:{code:115,name:"F4"},F5:{code:116,name:"F5"},F6:{code:117,name:"F6"},F7:{code:118,name:"F7"},F8:{code:119,name:"F8"},F9:{code:120,name:"F9"},F10:{code:121,name:"F10"},F11:{code:122,name:"F11"},F12:{code:123,name:"F12"},Semicolon:{code:186,name:";"},Plus:{code:187,name:"+"},Comma:{code:188,name:","},Minus:{code:189,name:"-"},Period:{code:190,name:"."},Slash:{code:191,name:"/"},QuestionMark:{code:191,name:"?"},Apostrophe:{code:192,name:"`"},Tilde:{code:192,name:"Tilde"},Backslash:{code:220,name:"\\"},SingleQuote:{code:222,name:"'"},get CtrlOrMeta(){return WebInspector.isMac()?this.Meta:this.Ctrl}},WebInspector.KeyboardShortcut.KeyBindings={},function(){for(var e in WebInspector.KeyboardShortcut.Keys){var t=WebInspector.KeyboardShortcut.Keys[e];if("object"==typeof t&&t.code){var i="string"==typeof t.name?t.name:e;WebInspector.KeyboardShortcut.KeyBindings[i]={code:t.code}}}}(),WebInspector.KeyboardShortcut.makeKey=function(e,t){return"string"==typeof e&&(e=e.charCodeAt(0)-(/^[a-z]/.test(e)?32:0)),t=t||WebInspector.KeyboardShortcut.Modifiers.None,WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers(e,t)},WebInspector.KeyboardShortcut.makeKeyFromEvent=function(e){var t=WebInspector.KeyboardShortcut.Modifiers.None;return e.shiftKey&&(t|=WebInspector.KeyboardShortcut.Modifiers.Shift),e.ctrlKey&&(t|=WebInspector.KeyboardShortcut.Modifiers.Ctrl),e.altKey&&(t|=WebInspector.KeyboardShortcut.Modifiers.Alt),e.metaKey&&(t|=WebInspector.KeyboardShortcut.Modifiers.Meta),WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers(function(e){return e.keyCode||e.__keyCode}(e),t)},WebInspector.KeyboardShortcut.eventHasCtrlOrMeta=function(e){return WebInspector.isMac()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey},WebInspector.KeyboardShortcut.hasNoModifiers=function(e){return!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)},WebInspector.KeyboardShortcut.Descriptor,WebInspector.KeyboardShortcut.makeDescriptor=function(e,t){return{key:WebInspector.KeyboardShortcut.makeKey("string"==typeof e?e:e.code,t),name:WebInspector.KeyboardShortcut.shortcutToString(e,t)}},WebInspector.KeyboardShortcut.makeKeyFromBindingShortcut=function(e){for(var t=e.split(/\+(?!$)/),i=0,n=0;n<t.length;++n){if(void 0===WebInspector.KeyboardShortcut.Modifiers[t[n]]){console.assert(n===t.length-1,"Modifiers-only shortcuts are not allowed (encountered <"+e+">)");var r=WebInspector.KeyboardShortcut.Keys[t[n]]||WebInspector.KeyboardShortcut.KeyBindings[t[n]];return r&&r.shiftKey&&(i|=WebInspector.KeyboardShortcut.Modifiers.Shift),WebInspector.KeyboardShortcut.makeKey(r?r.code:t[n].toLowerCase(),i)}i|=WebInspector.KeyboardShortcut.Modifiers[t[n]]}return console.assert(!1),0},WebInspector.KeyboardShortcut.shortcutToString=function(e,t){return WebInspector.KeyboardShortcut._modifiersToString(t)+WebInspector.KeyboardShortcut._keyName(e)},WebInspector.KeyboardShortcut._keyName=function(e){return"string"==typeof e?e.toUpperCase():"string"==typeof e.name?e.name:e.name[WebInspector.platform()]||e.name.other||""},WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers=function(e,t){return 255&e|t<<8},WebInspector.KeyboardShortcut._modifiersToString=function(e){var t=WebInspector.isMac(),i="";return e&WebInspector.KeyboardShortcut.Modifiers.Ctrl&&(i+=t?"⌃":"Ctrl + "),e&WebInspector.KeyboardShortcut.Modifiers.Alt&&(i+=t?"⌥":"Alt + "),e&WebInspector.KeyboardShortcut.Modifiers.Shift&&(i+=t?"⇧":"Shift + "),e&WebInspector.KeyboardShortcut.Modifiers.Meta&&(i+=t?"⌘":"Win + "),i},WebInspector.KeyboardShortcut.handleShortcut=function(e){var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),i=WebInspector.KeyboardShortcut._keysToActionExtensions[t];if(i)for(var n=0;n<i.length;++n){var r=e.keyIdentifier;if(!(/^F\d+|Control|Shift|Alt|Meta|Win|U\+001B$/.test(r)||e.ctrlKey||e.altKey||e.metaKey)){WebInspector.KeyboardShortcut._pendingActionTimer=setTimeout(s.bind(null,i[n]),0);break}if(s(i[n]))return}function s(t){var i=t.instance().handleAction(e);return i&&e.consume(!0),delete WebInspector.KeyboardShortcut._pendingActionTimer,i}},WebInspector.KeyboardShortcut.SelectAll=WebInspector.KeyboardShortcut.makeKey("a",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta),WebInspector.KeyboardShortcut._onKeyPress=function(e){WebInspector.KeyboardShortcut._pendingActionTimer&&(e.target,WebInspector.isBeingEdited(e.target)&&(clearTimeout(WebInspector.KeyboardShortcut._pendingActionTimer),delete WebInspector.KeyboardShortcut._pendingActionTimer))},WebInspector.KeyboardShortcut.registerActions=function(){function e(e,t){var i=WebInspector.KeyboardShortcut.makeKeyFromBindingShortcut(t);i&&(WebInspector.KeyboardShortcut._keysToActionExtensions[i]?WebInspector.KeyboardShortcut._keysToActionExtensions[i].push(e):WebInspector.KeyboardShortcut._keysToActionExtensions[i]=[e])}function t(e){if(!e)return!0;for(var t=e.split(","),i=!1,n=WebInspector.platform(),r=0;!i&&r<t.length;++r)i=t[r]===n;return i}document.addEventListener("keypress",WebInspector.KeyboardShortcut._onKeyPress,!0),WebInspector.KeyboardShortcut._keysToActionExtensions={},WebInspector.moduleManager.extensions(WebInspector.ActionDelegate).forEach(function(i){for(var n=i.descriptor().bindings,r=0;n&&r<n.length;++r)if(t(n[r].platform)){n[r].shortcut.split(/\s+/).forEach(e.bind(null,i))}})},WebInspector.SuggestBoxDelegate=function(){},WebInspector.SuggestBoxDelegate.prototype={applySuggestion:function(e,t){},acceptSuggestion:function(){}},WebInspector.SuggestBox=function(e,t,i,n){this._suggestBoxDelegate=e,this._anchorElement=t,this._length=0,this._selectedIndex=-1,this._selectedElement=null,this._maxItemsHeight=n,this._bodyElement=t.ownerDocument.body,this._element=t.ownerDocument.createElement("div"),this._element.className="suggest-box "+(i||""),this._element.addEventListener("mousedown",this._onBoxMouseDown.bind(this),!0),this.containerElement=this._element.createChild("div","container"),this.contentElement=this.containerElement.createChild("div","content")},WebInspector.SuggestBox.prototype={visible:function(){return!!this._element.parentElement},setPosition:function(e){this._updateBoxPosition(e)},_updateBoxPosition:function(e){this._anchorBox=e,e=e||this._anchorElement.boxInWindow(window);var t=WebInspector.Dialog.modalHostView().element;e=e.relativeToElement(t);var i=t.offsetWidth,n=t.offsetHeight;this.contentElement.style.display="inline-block",document.body.appendChild(this.contentElement),this.contentElement.positionAt(0,0);var r=this.contentElement.offsetWidth,s=this.contentElement.offsetHeight;this.contentElement.style.display="block",this.containerElement.appendChild(this.contentElement);var o,a=i-e.x-6,c=Math.min(r,a-21)+21,l=r+21,d=e.x;c<l&&(a=i-6,d=i-(c=Math.min(r,a-21)+21));var h=e.y,p=n-e.y-e.height,u=this._maxItemsHeight?s*this._maxItemsHeight/this._length:Math.max(p,h)-6,m=Math.min(s,u-2)+2;p>=h?(o=e.y+e.height,this._element.classList.remove("above-anchor"),this._element.classList.add("under-anchor")):(o=e.y-m,this._element.classList.remove("under-anchor"),this._element.classList.add("above-anchor")),this._element.positionAt(d,o,t),this._element.style.width=c+"px",this._element.style.height=m+"px"},_onBoxMouseDown:function(e){e.preventDefault()},hide:function(){this.visible()&&(this._element.remove(),delete this._selectedElement,this._selectedIndex=-1)},removeFromElement:function(){this.hide()},_applySuggestion:function(e){if(!this.visible()||!this._selectedElement)return!1;var t=this._selectedElement.textContent;return!!t&&(this._suggestBoxDelegate.applySuggestion(t,e),!0)},acceptSuggestion:function(){var e=this._applySuggestion();return this.hide(),!!e&&(this._suggestBoxDelegate.acceptSuggestion(),!0)},_selectClosest:function(e,t){if(!this._length)return!1;-1===this._selectedIndex&&e<0&&(e+=1);var i=this._selectedIndex+e;return i=t?(this._length+i)%this._length:Number.constrain(i,0,this._length-1),this._selectItem(i),this._applySuggestion(!0),!0},_onItemMouseDown:function(e){this._selectedElement=e.currentTarget,this.acceptSuggestion(),e.consume(!0)},_createItemElement:function(e,t){var i=document.createElement("div");return i.className="suggest-box-content-item source-code",i.tabIndex=-1,e&&e.length&&!t.indexOf(e)?(i.createChild("span","prefix").textContent=e,i.createChild("span","suffix").textContent=t.substring(e.length)):i.createChild("span","suffix").textContent=t,i.addEventListener("mousedown",this._onItemMouseDown.bind(this),!1),i},_updateItems:function(e,t,i){this._length=e.length,this.contentElement.removeChildren();for(var n=0;n<e.length;++n){var r=e[n],s=this._createItemElement(i,r);this.contentElement.appendChild(s)}this._selectedElement=null,"number"==typeof t&&this._selectItem(t)},_selectItem:function(e){this._selectedElement&&this._selectedElement.classList.remove("selected"),this._selectedIndex=e,e<0||(this._selectedElement=this.contentElement.children[e],this._selectedElement.classList.add("selected"),this._selectedElement.scrollIntoViewIfNeeded(!1))},_canShowBox:function(e,t,i){return!(!e||!e.length)&&(e.length>1||t&&e[0]!==i)},_rememberRowCountPerViewport:function(){this.contentElement.firstChild&&(this._rowCountPerViewport=Math.floor(this.containerElement.offsetHeight/this.contentElement.firstChild.offsetHeight))},updateSuggestions:function(e,t,i,n,r){this._canShowBox(t,n,r)?(this._updateItems(t,i,r),this._updateBoxPosition(e),this.visible()||this._bodyElement.appendChild(this._element),this._rememberRowCountPerViewport()):this.hide()},keyPressed:function(e){switch(e.keyIdentifier){case"Up":return this.upKeyPressed();case"Down":return this.downKeyPressed();case"PageUp":return this.pageUpKeyPressed();case"PageDown":return this.pageDownKeyPressed();case"Enter":return this.enterKeyPressed()}return!1},upKeyPressed:function(){return this._selectClosest(-1,!0)},downKeyPressed:function(){return this._selectClosest(1,!0)},pageUpKeyPressed:function(){return this._selectClosest(-this._rowCountPerViewport,!1)},pageDownKeyPressed:function(){return this._selectClosest(this._rowCountPerViewport,!1)},enterKeyPressed:function(){var e=!!this._selectedElement;return this.acceptSuggestion(),e}},WebInspector.TextPrompt=function(e,t){this._proxyElement,this._proxyElementDisplay="inline-block",this._loadCompletions=e,this._completionStopCharacters=t||" =:[({;,!+-*/&|^<>."},WebInspector.TextPrompt.Events={ItemApplied:"text-prompt-item-applied",ItemAccepted:"text-prompt-item-accepted"},WebInspector.TextPrompt.prototype={get proxyElement(){return this._proxyElement},setSuggestBoxEnabled:function(e){this._suggestBoxClassName=e},renderAsBlock:function(){this._proxyElementDisplay="block"},attach:function(e){return this._attachInternal(e)},attachAndStartEditing:function(e,t){return this._attachInternal(e),this._startEditing(t),this.proxyElement},_attachInternal:function(e){if(this.proxyElement)throw"Cannot attach an attached TextPrompt";return this._element=e,this._boundOnKeyDown=this.onKeyDown.bind(this),this._boundOnMouseWheel=this.onMouseWheel.bind(this),this._boundSelectStart=this._selectStart.bind(this),this._boundHideSuggestBox=this.hideSuggestBox.bind(this),this._proxyElement=e.ownerDocument.createElement("span"),this._proxyElement.style.display=this._proxyElementDisplay,e.parentElement.insertBefore(this.proxyElement,e),this.proxyElement.appendChild(e),this._element.classList.add("text-prompt"),this._element.addEventListener("keydown",this._boundOnKeyDown,!1),this._element.addEventListener("mousewheel",this._boundOnMouseWheel,!1),this._element.addEventListener("selectstart",this._boundSelectStart,!1),this._element.addEventListener("blur",this._boundHideSuggestBox,!1),"string"==typeof this._suggestBoxClassName&&(this._suggestBox=new WebInspector.SuggestBox(this,this._element,this._suggestBoxClassName)),this.proxyElement},detach:function(){this._removeFromElement(),this.proxyElement.parentElement.insertBefore(this._element,this.proxyElement),this.proxyElement.remove(),delete this._proxyElement,this._element.classList.remove("text-prompt"),this._element.removeEventListener("keydown",this._boundOnKeyDown,!1),this._element.removeEventListener("mousewheel",this._boundOnMouseWheel,!1),this._element.removeEventListener("selectstart",this._boundSelectStart,!1),WebInspector.restoreFocusFromElement(this._element)},get text(){return this._element.textContent},set text(e){this._removeSuggestionAids(),e?this._element.textContent=e:(this._element.removeChildren(),this._element.appendChild(document.createElement("br"))),this.moveCaretToEndOfPrompt(),this._element.scrollIntoView()},_removeFromElement:function(){this.clearAutoComplete(!0),this._element.removeEventListener("keydown",this._boundOnKeyDown,!1),this._element.removeEventListener("selectstart",this._boundSelectStart,!1),this._element.removeEventListener("blur",this._boundHideSuggestBox,!1),this._isEditing&&this._stopEditing(),this._suggestBox&&this._suggestBox.removeFromElement()},_startEditing:function(e){this._isEditing=!0,this._element.classList.add("editing"),e&&(this._blurListener=e,this._element.addEventListener("blur",this._blurListener,!1)),this._oldTabIndex=this._element.tabIndex,this._element.tabIndex<0&&(this._element.tabIndex=0),WebInspector.setCurrentFocusElement(this._element),this.text||this._updateAutoComplete()},_stopEditing:function(){this._element.tabIndex=this._oldTabIndex,this._blurListener&&this._element.removeEventListener("blur",this._blurListener,!1),this._element.classList.remove("editing"),delete this._isEditing},_removeSuggestionAids:function(){this.clearAutoComplete(),this.hideSuggestBox()},_selectStart:function(){this._selectionTimeout&&clearTimeout(this._selectionTimeout),this._removeSuggestionAids(),this._selectionTimeout=setTimeout(function(){delete this._selectionTimeout,!this.isCaretInsidePrompt()&&window.getSelection().isCollapsed&&(this.moveCaretToEndOfPrompt(),this.autoCompleteSoon())}.bind(this),100)},defaultKeyHandler:function(e,t){return this._updateAutoComplete(t),!1},_updateAutoComplete:function(e){this.clearAutoComplete(),this.autoCompleteSoon(e)},onMouseWheel:function(e){},onKeyDown:function(e){var t=!1,i=!0;switch(e.keyIdentifier){case"U+0009":t=this.tabKeyPressed(e);break;case"Left":case"Home":this._removeSuggestionAids(),i=!1;break;case"Right":case"End":this.isCaretAtEndOfPrompt()?t=this.acceptAutoComplete():this._removeSuggestionAids(),i=!1;break;case"U+001B":this.isSuggestBoxVisible()&&(this._removeSuggestionAids(),t=!0);break;case"U+0020":!e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.defaultKeyHandler(e,!0),t=!0);break;case"Alt":case"Meta":case"Shift":case"Control":i=!1}return!t&&this.isSuggestBoxVisible()&&(t=this._suggestBox.keyPressed(e)),!t&&i&&(t=this.defaultKeyHandler(e)),t&&e.consume(!0),t},acceptAutoComplete:function(){var e=!1;return this.isSuggestBoxVisible()&&(e=this._suggestBox.acceptSuggestion()),e||(e=this._acceptSuggestionInternal()),e},clearAutoComplete:function(e){if(e&&this._completeTimeout&&(clearTimeout(this._completeTimeout),delete this._completeTimeout),delete this._waitingForCompletions,this.autoCompleteElement&&(this.autoCompleteElement.remove(),delete this.autoCompleteElement,this._userEnteredRange&&this._userEnteredText)){this._userEnteredRange.deleteContents(),this._element.normalize();var t=document.createTextNode(this._userEnteredText);this._userEnteredRange.insertNode(t);var i=document.createRange();i.setStart(t,this._userEnteredText.length),i.setEnd(t,this._userEnteredText.length);var n=window.getSelection();n.removeAllRanges(),n.addRange(i),delete this._userEnteredRange,delete this._userEnteredText}},autoCompleteSoon:function(e){var t=this.isSuggestBoxVisible()||e;this._completeTimeout||(this._completeTimeout=setTimeout(this.complete.bind(this,e),t?0:250))},complete:function(e,t){this.clearAutoComplete(!0);var i=window.getSelection();if(i.rangeCount){var n,r=i.getRangeAt(0);if((e||this.isCaretAtEndOfPrompt()||this.isSuggestBoxVisible())&&i.isCollapsed?e||r.startContainer.rangeOfWord(r.endOffset,this._completionStopCharacters,this._element,"forward").toString().length&&(n=!0):n=!0,n)this.hideSuggestBox();else{var s=r.startContainer.rangeOfWord(r.startOffset,this._completionStopCharacters,this._element,"backward");this._waitingForCompletions=!0,this._loadCompletions(this.proxyElement,s,e,this._completionsReady.bind(this,i,s,!!t))}}},disableDefaultSuggestionForEmptyInput:function(){this._disableDefaultSuggestionForEmptyInput=!0},_boxForAnchorAtStart:function(e,t){var i=e.getRangeAt(0).cloneRange(),n=document.createElement("span");n.textContent="​",t.insertNode(n);var r=n.boxInWindow(window);return n.remove(),e.removeAllRanges(),e.addRange(i),r},_buildCommonPrefix:function(e,t){for(var i=e[0],n=0;n<e.length;++n)for(var r=e[n],s=Math.min(i.length,r.length),o=t;o<s;++o)if(i[o]!==r[o]){i=i.substr(0,o);break}return i},_completionsReady:function(e,t,i,n,r){if(this._waitingForCompletions&&n.length){delete this._waitingForCompletions;var s=e.getRangeAt(0),o=document.createRange();if(o.setStart(t.startContainer,t.startOffset),o.setEnd(s.endContainer,s.endOffset),t.toString()+s.toString()===o.toString()&&(r=this._disableDefaultSuggestionForEmptyInput&&!this.text?-1:r||0,this._userEnteredRange=o,this._userEnteredText=o.toString(),this._suggestBox&&this._suggestBox.updateSuggestions(this._boxForAnchorAtStart(e,o),n,r,!this.isCaretAtEndOfPrompt(),this._userEnteredText),-1!==r)){var a=t.toString().length;if(this._commonPrefix=this._buildCommonPrefix(n,a),this.isCaretAtEndOfPrompt()){this._userEnteredRange.deleteContents(),this._element.normalize();var c=document.createRange(),l=n[r],d=l.substring(0,a),h=l.substring(a),p=document.createTextNode(d);o.insertNode(p),this.autoCompleteElement=document.createElement("span"),this.autoCompleteElement.className="auto-complete-text",this.autoCompleteElement.textContent=h,p.parentNode.insertBefore(this.autoCompleteElement,p.nextSibling),c.setStart(p,a),c.setEnd(p,a),e.removeAllRanges(),e.addRange(c),this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemApplied)}}}else this.hideSuggestBox()},_completeCommonPrefix:function(){this.autoCompleteElement&&this._commonPrefix&&this._userEnteredText&&this._commonPrefix.startsWith(this._userEnteredText)&&(this.isSuggestBoxVisible()?(this.autoCompleteElement.textContent=this._commonPrefix.substring(this._userEnteredText.length),this._acceptSuggestionInternal(!0)):this.acceptAutoComplete())},applySuggestion:function(e,t){this._applySuggestion(e,t)},_applySuggestion:function(e,t,i){var n;n=i?i.toString().length:this._userEnteredText?this._userEnteredText.length:0,this._userEnteredRange.deleteContents(),this._element.normalize();var r=document.createRange(),s=document.createTextNode(e);this._userEnteredRange.insertNode(s),this.autoCompleteElement&&(this.autoCompleteElement.remove(),delete this.autoCompleteElement),t?r.setStart(s,n):r.setStart(s,e.length),r.setEnd(s,e.length);var o=window.getSelection();o.removeAllRanges(),o.addRange(r),t&&this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemApplied,{itemText:e})},acceptSuggestion:function(){this._acceptSuggestionInternal()},_acceptSuggestionInternal:function(e){if(this._isAcceptingSuggestion)return!1;if(!this.autoCompleteElement||!this.autoCompleteElement.parentNode)return!1;var t=this.autoCompleteElement.textContent,i=document.createTextNode(t);this.autoCompleteElement.parentNode.replaceChild(i,this.autoCompleteElement),delete this.autoCompleteElement;var n=document.createRange();n.setStart(i,t.length),n.setEnd(i,t.length);var r=window.getSelection();return r.removeAllRanges(),r.addRange(n),e?this.autoCompleteSoon(!0):(this.hideSuggestBox(),this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemAccepted)),!0},hideSuggestBox:function(){this.isSuggestBoxVisible()&&this._suggestBox.hide()},isSuggestBoxVisible:function(){return this._suggestBox&&this._suggestBox.visible()},isCaretInsidePrompt:function(){return this._element.isInsertionCaretInside()},isCaretAtEndOfPrompt:function(){var e=window.getSelection();if(!e.rangeCount||!e.isCollapsed)return!1;var t=e.getRangeAt(0),i=t.startContainer;if(!i.isSelfOrDescendant(this._element))return!1;if(i.nodeType===Node.TEXT_NODE&&t.startOffset<i.nodeValue.length)return!1;for(var n=!1;i;){if(i.nodeType===Node.TEXT_NODE&&i.nodeValue.length){if(n&&(!this.autoCompleteElement||!this.autoCompleteElement.isAncestor(i)))return!1;n=!0}i=i.traverseNextNode(this._element)}return!0},isCaretOnFirstLine:function(){var e=window.getSelection(),t=e.focusNode;if(!t||t.nodeType!==Node.TEXT_NODE||t.parentNode!==this._element)return!0;if(-1!==t.textContent.substring(0,e.focusOffset).indexOf("\n"))return!1;for(t=t.previousSibling;t;){if(t.nodeType!==Node.TEXT_NODE)return!0;if(-1!==t.textContent.indexOf("\n"))return!1;t=t.previousSibling}return!0},isCaretOnLastLine:function(){var e=window.getSelection(),t=e.focusNode;if(!t||t.nodeType!==Node.TEXT_NODE||t.parentNode!==this._element)return!0;if(-1!==t.textContent.substring(e.focusOffset).indexOf("\n"))return!1;for(t=t.nextSibling;t;){if(t.nodeType!==Node.TEXT_NODE)return!0;if(-1!==t.textContent.indexOf("\n"))return!1;t=t.nextSibling}return!0},moveCaretToEndOfPrompt:function(){var e=window.getSelection(),t=document.createRange(),i=this._element.childNodes.length;t.setStart(this._element,i),t.setEnd(this._element,i),e.removeAllRanges(),e.addRange(t)},tabKeyPressed:function(e){return this._completeCommonPrefix(),!0},__proto__:WebInspector.Object.prototype},WebInspector.TextPromptWithHistory=function(e,t){WebInspector.TextPrompt.call(this,e,t),this._data=[],this._historyOffset=1,this._coalesceHistoryDupes=!0},WebInspector.TextPromptWithHistory.prototype={get historyData(){return this._data},setCoalesceHistoryDupes:function(e){this._coalesceHistoryDupes=e},setHistoryData:function(e){this._data=[].concat(e),this._historyOffset=1},pushHistoryItem:function(e){this._uncommittedIsTop&&(this._data.pop(),delete this._uncommittedIsTop),this._historyOffset=1,this._coalesceHistoryDupes&&e===this._currentHistoryItem()||this._data.push(e)},_pushCurrentText:function(){this._uncommittedIsTop&&this._data.pop(),this._uncommittedIsTop=!0,this.clearAutoComplete(!0),this._data.push(this.text)},_previous:function(){if(!(this._historyOffset>this._data.length))return 1===this._historyOffset&&this._pushCurrentText(),++this._historyOffset,this._currentHistoryItem()},_next:function(){if(1!==this._historyOffset)return--this._historyOffset,this._currentHistoryItem()},_currentHistoryItem:function(){return this._data[this._data.length-this._historyOffset]},defaultKeyHandler:function(e,t){var i,n;switch(e.keyIdentifier){case"Up":if(!this.isCaretOnFirstLine())break;i=this._previous(),n=!0;break;case"Down":if(!this.isCaretOnLastLine())break;i=this._next();break;case"U+0050":!WebInspector.isMac()||!e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(i=this._previous(),n=!0);break;case"U+004E":!WebInspector.isMac()||!e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(i=this._next())}if(void 0!==i){if(e.consume(!0),this.text=i,n){var r=this.text.indexOf("\n");if(-1===r)this.moveCaretToEndOfPrompt();else{var s=window.getSelection(),o=document.createRange();o.setStart(this._element.firstChild,r),o.setEnd(this._element.firstChild,r),s.removeAllRanges(),s.addRange(o)}}return!0}return WebInspector.TextPrompt.prototype.defaultKeyHandler.apply(this,arguments)},__proto__:WebInspector.TextPrompt.prototype},WebInspector.Popover=function(e){WebInspector.View.call(this),this.markAsRoot(),this.element.className="popover custom-popup-vertical-scroll custom-popup-horizontal-scroll",this._popupArrowElement=document.createElement("div"),this._popupArrowElement.className="arrow",this.element.appendChild(this._popupArrowElement),this._contentDiv=document.createElement("div"),this._contentDiv.className="content",this.element.appendChild(this._contentDiv),this._popoverHelper=e},WebInspector.Popover.prototype={show:function(e,t,i,n,r){this._innerShow(null,e,t,i,n,r)},showView:function(e,t,i,n){this._innerShow(e,e.element,t,i,n)},_innerShow:function(e,t,i,n,r,s){if(!this._disposed){this.contentElement=t,WebInspector.Popover._popover&&WebInspector.Popover._popover.detach(),WebInspector.Popover._popover=this;var o=e?e.measurePreferredSize():this.contentElement.measurePreferredSize();n=n||o.width,r=r||o.height,WebInspector.View.prototype.show.call(this,document.body),e?e.show(this._contentDiv):this._contentDiv.appendChild(this.contentElement),this._positionElement(i,n,r,s),this._popoverHelper&&(this._contentDiv.addEventListener("mousemove",this._popoverHelper._killHidePopoverTimer.bind(this._popoverHelper),!0),this.element.addEventListener("mouseout",this._popoverHelper._popoverMouseOut.bind(this._popoverHelper),!0))}},hide:function(){this.detach(),delete WebInspector.Popover._popover},get disposed(){return this._disposed},dispose:function(){this.isShowing()&&this.hide(),this._disposed=!0},setCanShrink:function(e){this._hasFixedHeight=!e,this._contentDiv.classList.add("fixed-height")},_positionElement:function(e,t,i,n){const r=this._hasFixedHeight?0:11;t=Math.max(t,50);const s=WebInspector.Dialog.modalHostView().element,o=s.offsetWidth,a=s.offsetHeight;var c,l,d=e instanceof AnchorBox?e:e.boxInWindow(window),h={x:0,y:0,width:t+r,height:i};if((d=d.relativeToElement(s)).y>a-d.y-d.height||n===WebInspector.Popover.Orientation.Bottom?(d.y>h.height+15+10||n===WebInspector.Popover.Orientation.Bottom?h.y=d.y-h.height-15:(h.y=10,h.height=d.y-20-15,this._hasFixedHeight&&h.height<i&&(h.y=10,h.height=i)),c=WebInspector.Popover.Orientation.Bottom):(h.y=d.y+d.height+15,h.y+h.height+10>=a&&n!==WebInspector.Popover.Orientation.Top&&(h.height=a-10-h.y,this._hasFixedHeight&&h.height<i&&(h.y=a-i-10,h.height=i)),c=WebInspector.Popover.Orientation.Top),d.x+h.width<o)h.x=Math.max(10,d.x-10-10),l="left";else if(h.width+20<o){h.x=o-h.width-10,l="right";var p=Math.max(0,o-d.x-d.width-10-10);p+=d.width/2,p=Math.min(p,h.width-10-10),this._popupArrowElement.style.right=p+"px"}else h.x=10,h.width=o-20,h.height+=r,l="left",c===WebInspector.Popover.Orientation.Bottom&&(h.y-=r),this._popupArrowElement.style.left=Math.max(0,d.x-20-10)+"px",this._popupArrowElement.style.left+=d.width/2;this.element.className="popover custom-popup-vertical-scroll custom-popup-horizontal-scroll "+c+"-"+l+"-arrow",this.element.positionAt(h.x-25,h.y-25,s),this.element.style.width=h.width+50+"px",this.element.style.height=h.height+50+"px"},__proto__:WebInspector.View.prototype},WebInspector.PopoverHelper=function(e,t,i,n,r){this._panelElement=e,this._getAnchor=t,this._showPopover=i,this._onHide=n,this._disableOnClick=!!r,e.addEventListener("mousedown",this._mouseDown.bind(this),!1),e.addEventListener("mousemove",this._mouseMove.bind(this),!1),e.addEventListener("mouseout",this._mouseOut.bind(this),!1),this.setTimeout(1e3)},WebInspector.PopoverHelper.prototype={setTimeout:function(e){this._timeout=e},_eventInHoverElement:function(e){if(!this._hoverElement)return!1;var t=this._hoverElement instanceof AnchorBox?this._hoverElement:this._hoverElement.boxInWindow();return t.x<=e.clientX&&e.clientX<=t.x+t.width&&t.y<=e.clientY&&e.clientY<=t.y+t.height},_mouseDown:function(e){this._disableOnClick||!this._eventInHoverElement(e)?this.hidePopover():(this._killHidePopoverTimer(),this._handleMouseAction(e,!0))},_mouseMove:function(e){this._eventInHoverElement(e)||(this._startHidePopoverTimer(),this._handleMouseAction(e,!1))},_popoverMouseOut:function(e){this.isPopoverVisible()&&e.relatedTarget&&!e.relatedTarget.isSelfOrDescendant(this._popover._contentDiv)&&this._startHidePopoverTimer()},_mouseOut:function(e){this.isPopoverVisible()&&(this._eventInHoverElement(e)||this._startHidePopoverTimer())},_startHidePopoverTimer:function(){this._popover&&!this._hidePopoverTimer&&(this._hidePopoverTimer=setTimeout(function(){this._hidePopover(),delete this._hidePopoverTimer}.bind(this),this._timeout/2))},_handleMouseAction:function(e,t){if(this._resetHoverTimer(),e.which&&this._disableOnClick)return;if(this._hoverElement=this._getAnchor(e.target,e),!this._hoverElement)return;const i=t?0:this._popup?.6*this._timeout:this._timeout;this._hoverTimer=setTimeout(this._mouseHover.bind(this,this._hoverElement),i)},_resetHoverTimer:function(){this._hoverTimer&&(clearTimeout(this._hoverTimer),delete this._hoverTimer)},isPopoverVisible:function(){return!!this._popover},hidePopover:function(){this._resetHoverTimer(),this._hidePopover()},_hidePopover:function(){this._popover&&(this._onHide&&this._onHide(),this._popover.dispose(),delete this._popover,this._hoverElement=null)},_mouseHover:function(e){delete this._hoverTimer,this._hidePopover(),this._popover=new WebInspector.Popover(this),this._showPopover(e,this._popover)},_killHidePopoverTimer:function(){this._hidePopoverTimer&&(clearTimeout(this._hidePopoverTimer),delete this._hidePopoverTimer,this._resetHoverTimer())}},WebInspector.Popover.Orientation={Top:"top",Bottom:"bottom"},WebInspector.Placard=function(e,t){this.element=document.createElementWithClass("div","placard"),this.element.placard=this,this.subtitleElement=this.element.createChild("div","subtitle"),this.titleElement=this.element.createChild("div","title"),this.title=e,this.subtitle=t,this.selected=!1},WebInspector.Placard.prototype={get title(){return this._title},set title(e){this._title!==e&&(this._title=e,this.titleElement.textContent=e)},get subtitle(){return this._subtitle},set subtitle(e){this._subtitle!==e&&(this._subtitle=e,this.subtitleElement.textContent=e)},get selected(){return this._selected},set selected(e){e?this.select():this.deselect()},select:function(){this._selected||(this._selected=!0,this.element.classList.add("selected"))},deselect:function(){this._selected&&(this._selected=!1,this.element.classList.remove("selected"))},toggleSelected:function(){this.selected=!this.selected},discard:function(){}},WebInspector.TabbedPane=function(){WebInspector.VBox.call(this),this.element.classList.add("tabbed-pane"),this._headerElement=this.element.createChild("div","tabbed-pane-header"),this._headerContentsElement=this._headerElement.createChild("div","tabbed-pane-header-contents"),this._tabsElement=this._headerContentsElement.createChild("div","tabbed-pane-header-tabs"),this._contentElement=this.element.createChild("div","tabbed-pane-content scroll-target"),this._tabs=[],this._tabsHistory=[],this._tabsById={},this._dropDownButton=this._createDropDownButton()},WebInspector.TabbedPane.EventTypes={TabSelected:"TabSelected",TabClosed:"TabClosed"},WebInspector.TabbedPane.prototype={get visibleView(){return this._currentTab?this._currentTab.view:null},get selectedTabId(){return this._currentTab?this._currentTab.id:null},set shrinkableTabs(e){this._shrinkableTabs=e},set verticalTabLayout(e){this._verticalTabLayout=e,this.invalidateMinimumSize()},set closeableTabs(e){this._closeableTabs=e},setRetainTabOrder:function(e,t){this._retainTabOrder=e,this._tabOrderComparator=t},defaultFocusedElement:function(){return this.visibleView?this.visibleView.defaultFocusedElement():null},focus:function(){this.visibleView?this.visibleView.focus():WebInspector.View.prototype.focus.call(this)},headerElement:function(){return this._headerElement},isTabCloseable:function(e){var t=this._tabsById[e];return!!t&&t.isCloseable()},setTabDelegate:function(e){for(var t=this._tabs.slice(),i=0;i<t.length;++i)t[i].setDelegate(e);this._delegate=e},appendTab:function(e,t,i,n,r,s){s="boolean"==typeof s?s:this._closeableTabs;var o=new WebInspector.TabbedPaneTab(this,e,t,s,i,n);o.setDelegate(this._delegate),this._tabsById[e]=o,this._retainTabOrder&&this._tabOrderComparator?this._tabs.splice(insertionIndexForObjectInListSortedByFunction(o,this._tabs,function(e,t){return this._tabOrderComparator(e.id,t.id)}.bind(this)),0,o):this._tabs.push(o),this._tabsHistory.push(o),this._tabsHistory[0]===o&&this.isShowing()&&this.selectTab(o.id,r),this._updateTabElements()},closeTab:function(e,t){this.closeTabs([e],t)},closeTabs:function(e,t){for(var i=0;i<e.length;++i)this._innerCloseTab(e[i],t);this._updateTabElements(),this._tabsHistory.length&&this.selectTab(this._tabsHistory[0].id,!1)},_innerCloseTab:function(e,t){if(this._tabsById[e]&&(!t||this._tabsById[e]._closeable)){this._currentTab&&this._currentTab.id===e&&this._hideCurrentTab();var i=this._tabsById[e];delete this._tabsById[e],this._tabsHistory.splice(this._tabsHistory.indexOf(i),1),this._tabs.splice(this._tabs.indexOf(i),1),i._shown&&this._hideTabElement(i);var n={tabId:e,view:i.view,isUserGesture:t};return this.dispatchEventToListeners(WebInspector.TabbedPane.EventTypes.TabClosed,n),!0}},hasTab:function(e){return!!this._tabsById[e]},allTabs:function(){for(var e=[],t=this._tabs.slice(),i=0;i<t.length;++i)e.push(t[i].id);return e},otherTabs:function(e){for(var t=[],i=this._tabs.slice(),n=0;n<i.length;++n)i[n].id!==e&&t.push(i[n].id);return t},selectTab:function(e,t){var i=this._tabsById[e];if(i&&(!this._currentTab||this._currentTab.id!==e)){this._hideCurrentTab(),this._showTab(i),this._currentTab=i,this._tabsHistory.splice(this._tabsHistory.indexOf(i),1),this._tabsHistory.splice(0,0,i),this._updateTabElements();var n={tabId:e,view:i.view,isUserGesture:t};this.dispatchEventToListeners(WebInspector.TabbedPane.EventTypes.TabSelected,n)}},lastOpenedTabIds:function(e){return this._tabsHistory.slice(0,e).map(function(e){return e.id})},setTabIcon:function(e,t,i){this._tabsById[e]._setIconClass(t,i)&&this._updateTabElements()},changeTabTitle:function(e,t){var i=this._tabsById[e];i.title!==t&&(i.title=t,this._updateTabElements())},changeTabView:function(e,t){var i=this._tabsById[e];this._currentTab&&this._currentTab.id===i.id?(i.view!==t&&this._hideTab(i),i.view=t,this._showTab(i)):i.view=t},changeTabTooltip:function(e,t){this._tabsById[e].tooltip=t},onResize:function(){this._updateTabElements()},headerResized:function(){this._updateTabElements()},wasShown:function(){var e=this._currentTab||this._tabsHistory[0];e&&this.selectTab(e.id),this.invalidateMinimumSize()},calculateMinimumSize:function(){var e=WebInspector.VBox.prototype.calculateMinimumSize.call(this);return this._verticalTabLayout?e.width+=this._headerElement.offsetWidth:e.height+=this._headerElement.offsetHeight,e},_updateTabElements:function(){WebInspector.invokeOnceAfterBatchUpdate(this,this._innerUpdateTabElements)},setPlaceholderText:function(e){this._noTabsMessage=e},_innerUpdateTabElements:function(){this.isShowing()&&(this._tabs.length?(this._contentElement.classList.remove("has-no-tabs"),this._noTabsMessageElement&&(this._noTabsMessageElement.remove(),delete this._noTabsMessageElement)):(this._contentElement.classList.add("has-no-tabs"),this._noTabsMessage&&!this._noTabsMessageElement&&(this._noTabsMessageElement=this._contentElement.createChild("div","tabbed-pane-placeholder fill"),this._noTabsMessageElement.textContent=this._noTabsMessage)),this._measuredDropDownButtonWidth||this._measureDropDownButton(),this._updateWidths(),this._updateTabsDropDown())},_showTabElement:function(e,t){e>=this._tabsElement.children.length?this._tabsElement.appendChild(t.tabElement):this._tabsElement.insertBefore(t.tabElement,this._tabsElement.children[e]),t._shown=!0},_hideTabElement:function(e){this._tabsElement.removeChild(e.tabElement),e._shown=!1},_createDropDownButton:function(){var e=document.createElement("div");e.classList.add("tabbed-pane-header-tabs-drop-down-container");var t=e.createChild("div","tabbed-pane-header-tabs-drop-down");return t.appendChild(document.createTextNode("»")),this._dropDownMenu=new WebInspector.DropDownMenu,this._dropDownMenu.addEventListener(WebInspector.DropDownMenu.Events.ItemSelected,this._dropDownMenuItemSelected,this),t.appendChild(this._dropDownMenu.element),e},_dropDownMenuItemSelected:function(e){var t=e.data;this.selectTab(t,!0)},_totalWidth:function(){return this._headerContentsElement.getBoundingClientRect().width},_updateTabsDropDown:function(){for(var e=this._tabsToShowIndexes(this._tabs,this._tabsHistory,this._totalWidth(),this._measuredDropDownButtonWidth),t=0;t<this._tabs.length;++t)this._tabs[t]._shown&&-1===e.indexOf(t)&&this._hideTabElement(this._tabs[t]);for(t=0;t<e.length;++t){var i=this._tabs[e[t]];i._shown||this._showTabElement(t,i)}this._populateDropDownFromIndex()},_populateDropDownFromIndex:function(){this._dropDownButton.parentElement&&this._headerContentsElement.removeChild(this._dropDownButton),this._dropDownMenu.clear();for(var e=[],t=0;t<this._tabs.length;++t)this._tabs[t]._shown||e.push(this._tabs[t]);this._retainTabOrder||e.sort(function(e,t){return e.title.localeCompare(t.title)});var i=null;for(t=0;t<e.length;++t){var n=e[t];this._dropDownMenu.addItem(n.id,n.title),this._tabsHistory[0]===n&&(i=n.id)}e.length&&(this._headerContentsElement.appendChild(this._dropDownButton),this._dropDownMenu.selectItem(i))},_measureDropDownButton:function(){this._dropDownButton.classList.add("measuring"),this._headerContentsElement.appendChild(this._dropDownButton),this._measuredDropDownButtonWidth=this._dropDownButton.getBoundingClientRect().width,this._headerContentsElement.removeChild(this._dropDownButton),this._dropDownButton.classList.remove("measuring")},_updateWidths:function(){var e=this._measureWidths(),t=this._shrinkableTabs?this._calculateMaxWidth(e.slice(),this._totalWidth()):Number.MAX_VALUE,i=0;for(var n in this._tabs)this._tabs[n].setWidth(this._verticalTabLayout?-1:Math.min(t,e[i++]))},_measureWidths:function(){this._tabsElement.style.setProperty("width","2000px");var e=[];for(var t in this._tabs){var i=this._tabs[t];if("number"!=typeof i._measuredWidth){var n=i._createTabElement(!0);n.__tab=i,e.push(n),this._tabsElement.appendChild(n)}}for(var r=0;r<e.length;++r)e[r].__tab._measuredWidth=e[r].getBoundingClientRect().width;for(r=0;r<e.length;++r)e[r].remove();var s=[];for(var t in this._tabs)s.push(this._tabs[t]._measuredWidth);return this._tabsElement.style.removeProperty("width"),s},_calculateMaxWidth:function(e,t){if(!e.length)return 0;e.sort(function(e,t){return e-t});for(var i=0,n=0;n<e.length;++n)i+=e[n];if(t>=i)return e[e.length-1];var r=0;for(n=e.length-1;n>0;--n){var s=e[n]-e[n-1];if(t+(r+=(e.length-n)*s)>=i)return e[n-1]+(t+r-i)/(e.length-n)}return t/e.length},_tabsToShowIndexes:function(e,t,i,n){for(var r=[],s=0,o=e.length,a=0;a<o;++a){var c=this._retainTabOrder?e[a]:t[a],l=s+=c.width();if(a!==o-1&&(l+=n),!this._verticalTabLayout&&l>i)break;r.push(e.indexOf(c))}return r.sort(function(e,t){return e-t}),r},_hideCurrentTab:function(){this._currentTab&&(this._hideTab(this._currentTab),delete this._currentTab)},_showTab:function(e){e.tabElement.classList.add("selected"),e.view.show(this._contentElement)},_hideTab:function(e){e.tabElement.classList.remove("selected"),e.view.detach()},elementsToRestoreScrollPositionsFor:function(){return[this._contentElement]},_insertBefore:function(e,t){this._tabsElement.insertBefore(e._tabElement,this._tabsElement.childNodes[t]);var i=this._tabs.indexOf(e);this._tabs.splice(i,1),i<t&&--t,this._tabs.splice(t,0,e)},__proto__:WebInspector.VBox.prototype},WebInspector.TabbedPaneTab=function(e,t,i,n,r,s){this._closeable=n,this._tabbedPane=e,this._id=t,this._title=i,this._tooltip=s,this._view=r,this._shown=!1,this._measuredWidth,this._tabElement},WebInspector.TabbedPaneTab.prototype={get id(){return this._id},get title(){return this._title},set title(e){e!==this._title&&(this._title=e,this._titleElement&&(this._titleElement.textContent=e),delete this._measuredWidth)},iconClass:function(){return this._iconClass},isCloseable:function(){return this._closeable},_setIconClass:function(e,t){return(e!==this._iconClass||t!==this._iconTooltip)&&(this._iconClass=e,this._iconTooltip=t,this._iconElement&&this._iconElement.remove(),this._iconClass&&this._tabElement&&(this._iconElement=this._createIconElement(this._tabElement,this._titleElement)),delete this._measuredWidth,!0)},get view(){return this._view},set view(e){this._view=e},get tooltip(){return this._tooltip},set tooltip(e){this._tooltip=e,this._titleElement&&(this._titleElement.title=e||"")},get tabElement(){return this._tabElement||(this._tabElement=this._createTabElement(!1)),this._tabElement},width:function(){return this._width},setWidth:function(e){this.tabElement.style.width=-1===e?"":e+"px",this._width=e},setDelegate:function(e){this._delegate=e},_createIconElement:function(e,t){var i=document.createElement("span");return i.className="tabbed-pane-header-tab-icon "+this._iconClass,this._iconTooltip&&(i.title=this._iconTooltip),e.insertBefore(i,t),i},_createTabElement:function(e){var t=document.createElement("div");t.classList.add("tabbed-pane-header-tab"),t.id="tab-"+this._id,t.tabIndex=-1,t.selectTabForTest=this._tabbedPane.selectTab.bind(this._tabbedPane,this.id,!0);var i=t.createChild("span","tabbed-pane-header-tab-title");return i.textContent=this.title,i.title=this.tooltip||"",this._iconClass&&this._createIconElement(t,i),e||(this._titleElement=i),this._closeable&&t.createChild("div","close-button-gray"),e?t.classList.add("measuring"):(t.addEventListener("click",this._tabClicked.bind(this),!1),t.addEventListener("mousedown",this._tabMouseDown.bind(this),!1),t.addEventListener("mouseup",this._tabMouseUp.bind(this),!1),this._closeable&&(t.addEventListener("contextmenu",this._tabContextMenu.bind(this),!1),WebInspector.installDragHandle(t,this._startTabDragging.bind(this),this._tabDragging.bind(this),this._endTabDragging.bind(this),"pointer"))),t},_tabClicked:function(e){var t=1===e.button;this._closeable&&(t||e.target.classList.contains("close-button-gray"))?(this._closeTabs([this.id]),e.consume(!0)):this._tabbedPane.focus()},_tabMouseDown:function(e){e.target.classList.contains("close-button-gray")||1===e.button||this._tabbedPane.selectTab(this.id,!0)},_tabMouseUp:function(e){1===e.button&&e.consume(!0)},_closeTabs:function(e){this._delegate?this._delegate.closeTabs(this._tabbedPane,e):this._tabbedPane.closeTabs(e,!0)},_tabContextMenu:function(e){var t=new WebInspector.ContextMenu(e);t.appendItem(WebInspector.UIString("Close"),function(){this._closeTabs([this.id])}.bind(this)),t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Close others":"Close Others"),function(){this._closeTabs(this._tabbedPane.otherTabs(this.id))}.bind(this)),t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Close all":"Close All"),function(){this._closeTabs(this._tabbedPane.allTabs())}.bind(this)),t.show()},_startTabDragging:function(e){return!e.target.classList.contains("close-button-gray")&&(this._dragStartX=e.pageX,!0)},_tabDragging:function(e){for(var t=this._tabbedPane._tabsElement.childNodes,i=0;i<t.length;++i){var n=t[i];if(n!==this._tabElement&&n.offsetLeft+n.clientWidth>this._tabElement.offsetLeft&&this._tabElement.offsetLeft+this._tabElement.clientWidth>n.offsetLeft){if(Math.abs(e.pageX-this._dragStartX)<n.clientWidth/2+5)break;e.pageX-this._dragStartX>0&&(n=n.nextSibling,++i);var r=this._tabElement.offsetLeft;this._tabbedPane._insertBefore(this,i),this._dragStartX+=this._tabElement.offsetLeft-r;break}}!this._tabElement.previousSibling&&e.pageX-this._dragStartX<0?this._tabElement.style.setProperty("left","0px"):!this._tabElement.nextSibling&&e.pageX-this._dragStartX>0?this._tabElement.style.setProperty("left","0px"):(this._tabElement.style.setProperty("position","relative"),this._tabElement.style.setProperty("left",e.pageX-this._dragStartX+"px"))},_endTabDragging:function(e){this._tabElement.style.removeProperty("position"),this._tabElement.style.removeProperty("left"),delete this._dragStartX}},WebInspector.TabbedPaneTabDelegate=function(){},WebInspector.TabbedPaneTabDelegate.prototype={closeTabs:function(e,t){}},WebInspector.ExtensibleTabbedPaneController=function(e,t,i){this._tabbedPane=e,this._extensionPoint=t,this._viewCallback=i,this._tabbedPane.setRetainTabOrder(!0,WebInspector.moduleManager.orderComparator(t,"name","order")),this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),this._views=new StringMap,this._initialize()},WebInspector.ExtensibleTabbedPaneController.prototype={_initialize:function(){this._extensions={};for(var e=WebInspector.moduleManager.extensions(this._extensionPoint),t=0;t<e.length;++t){var i=e[t].descriptor(),n=i.name,r=WebInspector.UIString(i.title),s=i.setting,o=s?WebInspector.settings[s]:null;this._extensions[n]=e[t],o?(o.addChangeListener(this._toggleSettingBasedView.bind(this,n,r,o)),o.get()&&this._tabbedPane.appendTab(n,r,new WebInspector.View)):this._tabbedPane.appendTab(n,r,new WebInspector.View)}},_toggleSettingBasedView:function(e,t,i){this._tabbedPane.closeTab(e),i.get()&&this._tabbedPane.appendTab(e,t,new WebInspector.View)},_tabSelected:function(e){var t=this._tabbedPane.selectedTabId,i=this._viewForId(t);i&&this._tabbedPane.changeTabView(t,i)},_viewForId:function(e){if(this._views.contains(e))return this._views.get(e);var t=this._extensions[e]?this._extensions[e].instance():null;return this._views.put(e,t),this._viewCallback&&t&&this._viewCallback(e,t),t}},WebInspector.ViewportControl=function(e){this.element=document.createElement("div"),this.element.className="fill",this.element.style.overflow="auto",this._topGapElement=this.element.createChild("div"),this._contentElement=this.element.createChild("div"),this._bottomGapElement=this.element.createChild("div"),this._provider=e,this.element.addEventListener("scroll",this._onScroll.bind(this),!1),this._firstVisibleIndex=0,this._lastVisibleIndex=-1},WebInspector.ViewportControl.Provider=function(){},WebInspector.ViewportControl.Provider.prototype={itemCount:function(){return 0},itemElement:function(e){return null}},WebInspector.ViewportControl.prototype={contentElement:function(){return this._contentElement},refresh:function(){if(this.element.clientHeight){this._contentElement.style.setProperty("height","100000px"),this._contentElement.removeChildren();var e=this._provider.itemCount();if(!e)return this._firstVisibleIndex=-1,void(this._lastVisibleIndex=-1);if(!this._rowHeight){var t=this._provider.itemElement(0);this._rowHeight=t.measurePreferredSize(this._contentElement).height}var i=this.element.scrollTop,n=i+this.element.clientHeight;this._firstVisibleIndex=Math.floor(i/this._rowHeight),this._lastVisibleIndex=Math.min(Math.ceil(n/this._rowHeight),e)-1,this._topGapElement.style.height=this._rowHeight*this._firstVisibleIndex+"px",this._bottomGapElement.style.height=this._rowHeight*(e-this._lastVisibleIndex-1)+"px";for(var r=this._firstVisibleIndex;r<=this._lastVisibleIndex;++r)this._contentElement.appendChild(this._provider.itemElement(r));this._contentElement.style.removeProperty("height")}},_onScroll:function(e){this.refresh()},rowsPerViewport:function(){return Math.floor(this.element.clientHeight/this._rowHeight)},firstVisibleIndex:function(){return this._firstVisibleIndex},lastVisibleIndex:function(){return this._lastVisibleIndex},renderedElementAt:function(e){return e<this._firstVisibleIndex?null:e>this._lastVisibleIndex?null:this._contentElement.childNodes[e-this._firstVisibleIndex]},scrollItemIntoView:function(e,t){e>this._firstVisibleIndex&&e<this._lastVisibleIndex||(this.element.scrollTop=t?this._rowHeight*(e+1)-this.element.clientHeight:this._rowHeight*e)}},WebInspector.Drawer=function(e){WebInspector.VBox.call(this),this.element.id="drawer-contents",this._splitView=e,e.hideDefaultResizer(),this.show(e.sidebarElement()),this._drawerEditorSplitView=new WebInspector.SplitView(!0,!0,"editorInDrawerSplitViewState",.5,.5),this._drawerEditorSplitView.hideSidebar(),this._drawerEditorSplitView.addEventListener(WebInspector.SplitView.Events.ShowModeChanged,this._drawerEditorSplitViewShowModeChanged,this),this._drawerEditorShownSetting=WebInspector.settings.createSetting("drawerEditorShown",!0),this._drawerEditorSplitView.show(this.element),this._toggleDrawerButton=new WebInspector.StatusBarButton(WebInspector.UIString("Show drawer."),"console-status-bar-item"),this._toggleDrawerButton.addEventListener("click",this.toggle,this),this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.element.id="drawer-tabbed-pane",this._tabbedPane.closeableTabs=!1,this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),new WebInspector.ExtensibleTabbedPaneController(this._tabbedPane,"drawer-view"),this._toggleDrawerEditorButton=this._drawerEditorSplitView.createShowHideSidebarButton("editor in drawer","drawer-editor-show-hide-button"),this._tabbedPane.element.appendChild(this._toggleDrawerEditorButton.element),WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()||this.setDrawerEditorAvailable(!1),e.installResizer(this._tabbedPane.headerElement()),this._lastSelectedViewSetting=WebInspector.settings.createSetting("WebInspector.Drawer.lastSelectedView","console"),this._tabbedPane.show(this._drawerEditorSplitView.mainElement())},WebInspector.Drawer.prototype={toggleButtonElement:function(){return this._toggleDrawerButton.element},closeView:function(e){this._tabbedPane.closeTab(e)},showView:function(e,t){this._tabbedPane.hasTab(e)?(this._innerShow(t),this._tabbedPane.selectTab(e,!0),this._lastSelectedViewSetting.set(e)):this._innerShow(t)},showCloseableView:function(e,t,i){this._tabbedPane.hasTab(e)?(this._tabbedPane.changeTabView(e,i),this._tabbedPane.changeTabTitle(e,t)):this._tabbedPane.appendTab(e,t,i,void 0,!1,!0),this._innerShow(),this._tabbedPane.selectTab(e,!0)},showDrawer:function(){this.showView(this._lastSelectedViewSetting.get())},wasShown:function(){this.showView(this._lastSelectedViewSetting.get()),this._toggleDrawerButton.toggled=!0,this._toggleDrawerButton.title=WebInspector.UIString("Hide drawer."),this._ensureDrawerEditorExistsIfNeeded()},willHide:function(){this._toggleDrawerButton.toggled=!1,this._toggleDrawerButton.title=WebInspector.UIString("Show drawer.")},_innerShow:function(e){this.isShowing()||(this._splitView.showBoth(!e),this._visibleView()&&this._visibleView().focus())},closeDrawer:function(){this.isShowing()&&(WebInspector.restoreFocusFromElement(this.element),this._splitView.hideSidebar(!0))},_visibleView:function(){return this._tabbedPane.visibleView},_tabSelected:function(e){var t=this._tabbedPane.selectedTabId;e.data.isUserGesture&&!this._tabbedPane.isTabCloseable(t)&&this._lastSelectedViewSetting.set(t)},toggle:function(){this._toggleDrawerButton.toggled?this.closeDrawer():this.showDrawer()},visible:function(){return this._toggleDrawerButton.toggled},selectedViewId:function(){return this._tabbedPane.selectedTabId},_drawerEditorSplitViewShowModeChanged:function(e){var t=e.data===WebInspector.SplitView.ShowMode.Both;this._isHidingDrawerEditor||(this._drawerEditorShownSetting.set(t),t&&(this._ensureDrawerEditor(),this._drawerEditor.view().show(this._drawerEditorSplitView.sidebarElement())))},initialPanelShown:function(){this._initialPanelWasShown=!0,this._ensureDrawerEditorExistsIfNeeded()},_ensureDrawerEditorExistsIfNeeded:function(){this._initialPanelWasShown&&this.isShowing()&&this._drawerEditorShownSetting.get()&&WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()&&this._ensureDrawerEditor()},_ensureDrawerEditor:function(){this._drawerEditor||(this._drawerEditor=WebInspector.moduleManager.instance(WebInspector.DrawerEditor),this._drawerEditor.installedIntoDrawer())},setDrawerEditorAvailable:function(e){WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()||(e=!1),this._toggleDrawerEditorButton.element.classList.toggle("hidden",!e)},showDrawerEditor:function(){WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()&&(this._splitView.showBoth(),this._drawerEditorSplitView.showBoth())},hideDrawerEditor:function(){this._isHidingDrawerEditor=!0,this._drawerEditorSplitView.hideSidebar(),this._isHidingDrawerEditor=!1},isDrawerEditorShown:function(){return this._drawerEditorShownSetting.get()},__proto__:WebInspector.VBox.prototype},WebInspector.Drawer.ViewFactory=function(){},WebInspector.Drawer.ViewFactory.prototype={createView:function(){}},WebInspector.Drawer.SingletonViewFactory=function(e){this._constructor=e},WebInspector.Drawer.SingletonViewFactory.prototype={createView:function(){return this._instance||(this._instance=new this._constructor),this._instance}},WebInspector.DrawerEditor=function(){},WebInspector.DrawerEditor.prototype={view:function(){},installedIntoDrawer:function(){}},WebInspector.ConsoleModel=function(e){this.messages=[],this.warnings=0,this.errors=0,this._target=e,this._consoleAgent=e.consoleAgent(),e.registerConsoleDispatcher(new WebInspector.ConsoleDispatcher(this)),this._enableAgent()},WebInspector.ConsoleModel.Events={ConsoleCleared:"ConsoleCleared",MessageAdded:"MessageAdded",CommandEvaluated:"CommandEvaluated"},WebInspector.ConsoleModel.prototype={_enableAgent:function(){WebInspector.settings.monitoringXHREnabled.get()&&this._consoleAgent.setMonitoringXHREnabled(!0),this._enablingConsole=!0,this._consoleAgent.enable(function(){delete this._enablingConsole}.bind(this))},enablingConsole:function(){return!!this._enablingConsole},addMessage:function(e,t){t&&WebInspector.SourceMap.hasSourceMapRequestHeader(e.request)||(e.index=this.messages.length,this.messages.push(e),this._incrementErrorWarningCount(e),this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.MessageAdded,e))},evaluateCommand:function(e,t){this.show();var i=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.JS,null,e,WebInspector.ConsoleMessage.MessageType.Command);this.addMessage(i),this._target.runtimeModel.evaluate(e,"console",t,!1,!1,!0,function(t,n,r){t&&this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.CommandEvaluated,{result:t,wasThrown:n,text:e,commandMessage:i})}.bind(this)),WebInspector.userMetrics.ConsoleEvaluated.record()},show:function(){WebInspector.Revealer.reveal(this)},evaluate:function(e){this.evaluateCommand(e,!1)},log:function(e,t,i){var n=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.Other,t||WebInspector.ConsoleMessage.MessageLevel.Debug,e);this.addMessage(n),i&&this.show()},showErrorMessage:function(e){this.log(e,WebInspector.ConsoleMessage.MessageLevel.Error,!0)},_incrementErrorWarningCount:function(e){switch(e.level){case WebInspector.ConsoleMessage.MessageLevel.Warning:this.warnings++;break;case WebInspector.ConsoleMessage.MessageLevel.Error:this.errors++}},requestClearMessages:function(){this._consoleAgent.clearMessages(),this.clearMessages()},clearMessages:function(){this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.ConsoleCleared),this.messages=[],this.errors=0,this.warnings=0},__proto__:WebInspector.Object.prototype},WebInspector.ConsoleMessage=function(e,t,i,n,r,s,o,a,c,l,d,h){this.source=e,this.level=t,this.messageText=i,this.type=n||WebInspector.ConsoleMessage.MessageType.Log,this.url=r||null,this.line=s||0,this.column=o||0,this.parameters=c,this.stackTrace=l,this.timestamp=d||Date.now(),this.isOutdated=h,this.request=a?WebInspector.networkLog.requestForId(a):null},WebInspector.ConsoleMessage.prototype={isGroupMessage:function(){return this.type===WebInspector.ConsoleMessage.MessageType.StartGroup||this.type===WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed||this.type===WebInspector.ConsoleMessage.MessageType.EndGroup},isErrorOrWarning:function(){return this.level===WebInspector.ConsoleMessage.MessageLevel.Warning||this.level===WebInspector.ConsoleMessage.MessageLevel.Error},clone:function(){return new WebInspector.ConsoleMessage(this.source,this.level,this.messageText,this.type,this.url,this.line,this.column,this.request?this.request.requestId:void 0,this.parameters,this.stackTrace,this.timestamp,this.isOutdated)},isEqual:function(e){if(!e||WebInspector.settings.consoleTimestampsEnabled.get())return!1;if(this.stackTrace){if(!e.stackTrace||this.stackTrace.length!==e.stackTrace.length)return!1;for(var t=0;t<e.stackTrace.length;++t)if(this.stackTrace[t].url!==e.stackTrace[t].url||this.stackTrace[t].functionName!==e.stackTrace[t].functionName||this.stackTrace[t].lineNumber!==e.stackTrace[t].lineNumber||this.stackTrace[t].columnNumber!==e.stackTrace[t].columnNumber)return!1}if(this.parameters){if(!e.parameters||this.parameters.length!==e.parameters.length)return!1;for(t=0;t<e.parameters.length;++t)if(this.parameters[t].type!==e.parameters[t].type||"object"===e.parameters[t].type||this.parameters[t].value!==e.parameters[t].value)return!1}return this.source===e.source&&this.type===e.type&&this.level===e.level&&this.line===e.line&&this.url===e.url&&this.messageText===e.messageText&&this.request===e.request}},WebInspector.ConsoleMessage.MessageSource={XML:"xml",JS:"javascript",Network:"network",ConsoleAPI:"console-api",Storage:"storage",AppCache:"appcache",Rendering:"rendering",CSS:"css",Security:"security",Other:"other",Deprecation:"deprecation"},WebInspector.ConsoleMessage.MessageType={Log:"log",Dir:"dir",DirXML:"dirxml",Table:"table",Trace:"trace",Clear:"clear",StartGroup:"startGroup",StartGroupCollapsed:"startGroupCollapsed",EndGroup:"endGroup",Assert:"assert",Result:"result",Profile:"profile",ProfileEnd:"profileEnd",Command:"command"},WebInspector.ConsoleMessage.MessageLevel={Log:"log",Info:"info",Warning:"warning",Error:"error",Debug:"debug"},WebInspector.ConsoleDispatcher=function(e){this._console=e},WebInspector.ConsoleDispatcher.prototype={messageAdded:function(e){var t=new WebInspector.ConsoleMessage(e.source,e.level,e.text,e.type,e.url,e.line,e.column,e.networkRequestId,e.parameters,e.stackTrace,1e3*e.timestamp,this._console._enablingConsole);this._console.addMessage(t,!0)},messageRepeatCountUpdated:function(e){},messagesCleared:function(){WebInspector.settings.preserveConsoleLog.get()||this._console.clearMessages()}},WebInspector.console,WebInspector.Panel=function(e){WebInspector.VBox.call(this),WebInspector.panels[e]=this,this.element.classList.add("panel"),this.element.classList.add(e),this._panelName=e,this._shortcuts={}},WebInspector.Panel.counterRightMargin=25,WebInspector.Panel.prototype={get name(){return this._panelName},reset:function(){},defaultFocusedElement:function(){return this.element},searchableView:function(){return null},replaceSelectionWith:function(e){},replaceAllWith:function(e,t){},get statusBarItems(){},elementsToRestoreScrollPositionsFor:function(){return[]},handleShortcut:function(e){var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),i=this._shortcuts[t];if(i&&i(e))e.handled=!0;else{var n=this.searchableView();n&&(r(WebInspector.SearchableView.findShortcuts(),n.handleFindShortcut)?e.handled=!0:r(WebInspector.SearchableView.cancelSearchShortcuts(),n.handleCancelSearchShortcut)&&(e.handled=!0))}function r(e,i){for(var r=0;r<e.length;++r)if(e[r].key===t)return i.call(n);return!1}},registerShortcuts:function(e,t){for(var i=0;i<e.length;++i)this._shortcuts[e[i].key]=t},__proto__:WebInspector.VBox.prototype},WebInspector.PanelWithSidebarTree=function(e,t){WebInspector.Panel.call(this,e),this._panelSplitView=new WebInspector.SplitView(!0,!1,this._panelName+"PanelSplitViewState",t||200),this._panelSplitView.show(this.element);var i=new WebInspector.VBox;i.setMinimumSize(Preferences.minSidebarWidth,25),i.show(this._panelSplitView.sidebarElement()),this._sidebarElement=i.element,this._sidebarElement.classList.add("sidebar");var n=this._sidebarElement.createChild("ol","sidebar-tree");this.sidebarTree=new TreeOutline(n)},WebInspector.PanelWithSidebarTree.prototype={sidebarElement:function(){return this._sidebarElement},mainElement:function(){return this._panelSplitView.mainElement()},defaultFocusedElement:function(){return this.sidebarTree.element||this.element},__proto__:WebInspector.Panel.prototype},WebInspector.PanelDescriptor=function(){},WebInspector.PanelDescriptor.prototype={name:function(){},title:function(){},panel:function(){}},WebInspector.ModuleManagerExtensionPanelDescriptor=function(e){this._name=e.descriptor().name,this._title=WebInspector.UIString(e.descriptor().title),this._extension=e},WebInspector.ModuleManagerExtensionPanelDescriptor.prototype={name:function(){return this._name},title:function(){return this._title},panel:function(){return this._extension.instance()}},WebInspector.InspectorView=function(){WebInspector.VBox.call(this),WebInspector.Dialog.setModalHostView(this),this.setMinimumSize(180,72),this._drawerSplitView=new WebInspector.SplitView(!1,!0,"Inspector.drawerSplitViewState",200,200),this._drawerSplitView.hideSidebar(),this._drawerSplitView.enableShowModeSaving(),this._drawerSplitView.show(this.element),this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.setRetainTabOrder(!0,WebInspector.moduleManager.orderComparator(WebInspector.Panel,"name","order")),this._tabbedPane.show(this._drawerSplitView.mainElement()),this._drawer=new WebInspector.Drawer(this._drawerSplitView),this._toolbarElement=document.createElement("div"),this._toolbarElement.className="toolbar toolbar-background";var e=this._tabbedPane.headerElement();e.parentElement.insertBefore(this._toolbarElement,e),this._leftToolbarElement=this._toolbarElement.createChild("div","toolbar-controls-left"),this._toolbarElement.appendChild(e),this._rightToolbarElement=this._toolbarElement.createChild("div","toolbar-controls-right"),this._errorWarningCountElement=this._rightToolbarElement.createChild("div","hidden"),this._errorWarningCountElement.id="error-warning-count",this._closeButtonToolbarItem=document.createElementWithClass("div","toolbar-close-button-item"),this._closeButtonToolbarItem.createChild("div","close-button").addEventListener("click",InspectorFrontendHost.closeWindow.bind(InspectorFrontendHost),!0),this._rightToolbarElement.appendChild(this._closeButtonToolbarItem),this.appendToRightToolbar(this._drawer.toggleButtonElement()),this._history=[],this._historyIterator=-1,document.addEventListener("keydown",this._keyDown.bind(this),!1),document.addEventListener("keypress",this._keyPress.bind(this),!1),this._panelDescriptors={},this._openBracketIdentifiers=["U+005B","U+00DB"].keySet(),this._closeBracketIdentifiers=["U+005D","U+00DD"].keySet(),this._lastActivePanelSetting=WebInspector.settings.createSetting("lastActivePanel","elements"),this._loadPanelDesciptors()},WebInspector.InspectorView.prototype={_loadPanelDesciptors:function(){WebInspector.startBatchUpdate(),WebInspector.moduleManager.extensions(WebInspector.Panel).forEach(function(e){this.addPanel(new WebInspector.ModuleManagerExtensionPanelDescriptor(e))}.bind(this)),WebInspector.endBatchUpdate()},appendToLeftToolbar:function(e){this._leftToolbarElement.appendChild(e)},appendToRightToolbar:function(e){this._rightToolbarElement.insertBefore(e,this._closeButtonToolbarItem)},addPanel:function(e){var t=e.name();this._panelDescriptors[t]=e,this._tabbedPane.appendTab(t,e.title(),new WebInspector.View),this._lastActivePanelSetting.get()===t&&this._tabbedPane.selectTab(t)},panel:function(e){var t=this._panelDescriptors[e],i=this._tabbedPane.allTabs();return!t&&i.length&&(t=this._panelDescriptors[i[0]]),t?t.panel():null},showPanel:function(e){var t=this.panel(e);return t&&this.setCurrentPanel(t),t},currentPanel:function(){return this._currentPanel},showInitialPanel:function(){this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),this._tabSelected(),this._drawer.initialPanelShown()},showDrawerEditor:function(){this._drawer.showDrawerEditor()},isDrawerEditorShown:function(){return this._drawer.isDrawerEditorShown()},hideDrawerEditor:function(){this._drawer.hideDrawerEditor()},setDrawerEditorAvailable:function(e){this._drawer.setDrawerEditorAvailable(e)},_tabSelected:function(){var e=this._tabbedPane.selectedTabId,t=this._panelDescriptors[this._tabbedPane.selectedTabId].panel();this._tabbedPane.changeTabView(e,t),this._currentPanel=t,this._lastActivePanelSetting.set(t.name),this._pushToHistory(t.name),WebInspector.userMetrics.panelShown(t.name),t.focus()},setCurrentPanel:function(e){this._currentPanel!==e&&(this._tabbedPane.changeTabView(e.name,e),this._tabbedPane.selectTab(e.name))},closeViewInDrawer:function(e){this._drawer.closeView(e)},showCloseableViewInDrawer:function(e,t,i){this._drawer.showCloseableView(e,t,i)},showDrawer:function(){this._drawer.showDrawer()},drawerVisible:function(){return this._drawer.isShowing()},showViewInDrawer:function(e,t){this._drawer.showView(e,t)},selectedViewInDrawer:function(){return this._drawer.selectedViewId()},closeDrawer:function(){this._drawer.closeDrawer()},defaultFocusedElement:function(){return this._currentPanel?this._currentPanel.defaultFocusedElement():null},_keyPress:function(e){e.charCode<32&&WebInspector.isWin()||(clearTimeout(this._keyDownTimer),delete this._keyDownTimer)},_keyDown:function(e){if(WebInspector.KeyboardShortcut.eventHasCtrlOrMeta(e)){var t=e;if(WebInspector.settings.shortcutPanelSwitch.get()&&!e.shiftKey&&!e.altKey){var i=-1;if(e.keyCode>48&&e.keyCode<58?i=e.keyCode-49:e.keyCode>96&&e.keyCode<106&&t.location===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD&&(i=e.keyCode-97),-1!==i){var n=this._tabbedPane.allTabs()[i];return void(n&&(WebInspector.Dialog.currentInstance()||this.showPanel(n),e.consume(!0)))}}WebInspector.isWin()&&(this._openBracketIdentifiers[e.keyIdentifier]||this._closeBracketIdentifiers[e.keyIdentifier])?this._keyDownTimer=setTimeout(this._keyDownInternal.bind(this,e),0):this._keyDownInternal(e)}},_keyDownInternal:function(e){var t=0;if(this._openBracketIdentifiers[e.keyIdentifier]&&(t=-1),this._closeBracketIdentifiers[e.keyIdentifier]&&(t=1),t)return e.shiftKey||e.altKey?void(e.altKey&&this._moveInHistory(t)&&e.consume(!0)):(WebInspector.Dialog.currentInstance()||this._changePanelInDirection(t),void e.consume(!0))},_changePanelInDirection:function(e){var t=this._tabbedPane.allTabs(),i=t.indexOf(this.currentPanel().name);i=(i+t.length+e)%t.length,this.showPanel(t[i])},_moveInHistory:function(e){var t=this._historyIterator+e;return!(t>=this._history.length||t<0||(this._inHistory=!0,this._historyIterator=t,WebInspector.Dialog.currentInstance()||this.setCurrentPanel(WebInspector.panels[this._history[this._historyIterator]]),delete this._inHistory,0))},_pushToHistory:function(e){this._inHistory||(this._history.splice(this._historyIterator+1,this._history.length-this._historyIterator-1),this._history.length&&this._history[this._history.length-1]===e||this._history.push(e),this._historyIterator=this._history.length-1)},onResize:function(){WebInspector.Dialog.modalHostRepositioned()},topResizerElement:function(){return this._tabbedPane.headerElement()},_createImagedCounterElementIfNeeded:function(e,t,i){if(e){this._errorWarningCountElement.createChild("div",i);var n=this._errorWarningCountElement.createChild("span");n.id=t,n.textContent=e}},setErrorAndWarningCounts:function(e,t){if(this._errors!==e||this._warnings!==t){this._errors=e,this._warnings=t,this._errorWarningCountElement.classList.toggle("hidden",!e&&!t),this._errorWarningCountElement.removeChildren(),this._createImagedCounterElementIfNeeded(e,"error-count","error-icon-small"),this._createImagedCounterElementIfNeeded(t,"warning-count","warning-icon-small");var i=e?WebInspector.UIString("%d error%s",e,e>1?"s":""):"",n=t?WebInspector.UIString("%d warning%s",t,t>1?"s":""):"",r=e&&t?", ":"";this._errorWarningCountElement.title=i+r+n,this._tabbedPane.headerResized()}},__proto__:WebInspector.VBox.prototype},WebInspector.inspectorView,WebInspector.InspectorView.DrawerToggleActionDelegate=function(){},WebInspector.InspectorView.DrawerToggleActionDelegate.prototype={handleAction:function(){return WebInspector.inspectorView.drawerVisible()?(WebInspector.inspectorView.closeDrawer(),!0):!WebInspector.experimentsSettings.doNotOpenDrawerOnEsc.isEnabled()&&(WebInspector.inspectorView.showDrawer(),!0)}},WebInspector.RootView=function(e,t){this.id=e||!1,this.options=t||{},WebInspector.VBox.call(this),this.markAsRoot(),this.element.classList.add("root-view"),this.element.setAttribute("spellcheck",!1),window.addEventListener("resize",this.doResize.bind(this),!0),this._onScrollBound=this._onScroll.bind(this)},WebInspector.RootView.prototype={attachToBody:function(){this.doResize(),this.show(document.getElementById(this.id))},_onScroll:function(){0!==document.body.scrollTop&&(document.body.scrollTop=0),0!==document.body.scrollLeft&&(document.body.scrollLeft=0)},doResize:function(){var e=this.minimumSize(),t=Math.min(0,window.innerWidth-e.width);this.element.style.right=t+"px";var i=Math.min(0,window.innerHeight-e.height);this.element.style.bottom=i+"px",window.innerWidth<e.width||window.innerHeight<e.height?window.addEventListener("scroll",this._onScrollBound,!1):window.removeEventListener("scroll",this._onScrollBound,!1),WebInspector.VBox.prototype.doResize.call(this),this._onScroll()},__proto__:WebInspector.VBox.prototype},WebInspector.InspectedPagePlaceholder=function(){WebInspector.View.call(this),WebInspector.zoomManager.addEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this),this._margins={top:!1,right:!1,bottom:!1,left:!1},this.setMinimumSize(WebInspector.InspectedPagePlaceholder.Constraints.Width,WebInspector.InspectedPagePlaceholder.Constraints.Height)},WebInspector.InspectedPagePlaceholder.Constraints={Width:50,Height:50},WebInspector.InspectedPagePlaceholder.MarginValue=3,WebInspector.InspectedPagePlaceholder.prototype={_findMargins:function(){for(var e={top:!1,right:!1,bottom:!1,left:!1},t={top:!0,right:!0,bottom:!0,left:!0},i=this;i.parentView();){var n=i.parentView();if(n instanceof WebInspector.SplitView){var r=n.sidebarSide();t[r]&&!n.hasCustomResizer()&&(e[r]=!0),t[r]=!1}i=n}this._margins.top===e.top&&this._margins.left===e.left&&this._margins.right===e.right&&this._margins.bottom===e.bottom||(this._margins=e,this._updateMarginValue())},_updateMarginValue:function(){var e=Math.round(WebInspector.InspectedPagePlaceholder.MarginValue/WebInspector.zoomManager.zoomFactor())+"px ",t=this._margins.top?e:"0 ";t+=this._margins.right?e:"0 ",t+=this._margins.bottom?e:"0 ",t+=this._margins.left?e:"0 ",this.element.style.margin=t},_onZoomChanged:function(){this._updateMarginValue(),this._scheduleUpdate()},onResize:function(){this._findMargins(),this._scheduleUpdate()},_scheduleUpdate:function(){WebInspector.dockController.dockSide()!==WebInspector.DockController.State.Undocked&&(this._updateId&&window.cancelAnimationFrame(this._updateId),this._updateId=window.requestAnimationFrame(this._update.bind(this)))},_update:function(){delete this._updateId;for(var e=WebInspector.zoomManager.zoomFactor(),t=WebInspector.InspectedPagePlaceholder.MarginValue,i={top:this._margins.top?t:0,left:this._margins.left?t:0,right:this._margins.right?t:0,bottom:this._margins.bottom?t:0},n={width:WebInspector.InspectedPagePlaceholder.Constraints.Width-Math.round(i.left*e)-Math.round(i.right*e),height:WebInspector.InspectedPagePlaceholder.Constraints.Height-Math.round(i.top*e)-Math.round(i.bottom*e)},r=this;r;)r instanceof WebInspector.SplitView&&r.sidebarSide()&&(i[r.sidebarSide()]+=r.preferredSidebarSize()),r=r.parentView();var s={top:Math.ceil(i.top),left:Math.ceil(i.left),right:Math.ceil(i.right),bottom:Math.ceil(i.bottom)};InspectorFrontendHost.setContentsResizingStrategy(s,n)},__proto__:WebInspector.View.prototype},WebInspector.AdvancedSearchController=function(){this._shortcut=WebInspector.AdvancedSearchController.createShortcut(),this._searchId=0,WebInspector.settings.advancedSearchConfig=WebInspector.settings.createSetting("advancedSearchConfig",new WebInspector.SearchConfig("",!0,!1)),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,this._frameNavigated,this)},WebInspector.AdvancedSearchController.createShortcut=function(){return WebInspector.isMac()?WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.Meta|WebInspector.KeyboardShortcut.Modifiers.Alt):WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.Ctrl|WebInspector.KeyboardShortcut.Modifiers.Shift)},WebInspector.AdvancedSearchController.prototype={handleShortcut:function(e){return WebInspector.KeyboardShortcut.makeKeyFromEvent(e)===this._shortcut.key&&(this._searchView&&this._searchView.isShowing()&&this._searchView._search===document.activeElement?WebInspector.inspectorView.closeDrawer():(WebInspector.inspectorView.showPanel("sources"),this.show()),e.consume(!0),!0)},_frameNavigated:function(){this.resetSearch()},show:function(){var e,t=window.getSelection();t.rangeCount&&(e=t.toString().replace(/\r?\n.*/,"")),this._searchView&&this._searchView.isShowing()||WebInspector.inspectorView.showViewInDrawer("search"),e&&(this._searchView._search.value=e),this._searchView.focus(),this.startIndexing()},_onIndexingFinished:function(e){if(delete this._isIndexing,this._searchView.indexingFinished(e),e||delete this._pendingSearchConfig,this._pendingSearchConfig){var t=this._pendingSearchConfig;delete this._pendingSearchConfig,this._innerStartSearch(t)}},startIndexing:function(){this._isIndexing=!0,this._currentSearchScope=this._searchScopes()[0],this._progressIndicator&&this._progressIndicator.done(),this._progressIndicator=new WebInspector.ProgressIndicator,this._searchView.indexingStarted(this._progressIndicator),this._currentSearchScope.performIndexing(this._progressIndicator,this._onIndexingFinished.bind(this))},_onSearchResult:function(e,t){e===this._searchId&&(this._searchView.addSearchResult(t),t.searchMatches.length&&(this._searchResultsPane||(this._searchResultsPane=this._currentSearchScope.createSearchResultsPane(this._searchConfig)),this._searchView.resultsPane=this._searchResultsPane,this._searchResultsPane.addSearchResult(t)))},_onSearchFinished:function(e,t){e===this._searchId&&(this._searchResultsPane||this._searchView.nothingFound(),this._searchView.searchFinished(t),delete this._searchConfig)},startSearch:function(e){this.resetSearch(),++this._searchId,this._isIndexing||this.startIndexing(),this._pendingSearchConfig=e},_innerStartSearch:function(e){this._searchConfig=e,this._currentSearchScope=this._searchScopes()[0],this._progressIndicator&&this._progressIndicator.done(),this._progressIndicator=new WebInspector.ProgressIndicator,this._searchView.searchStarted(this._progressIndicator),this._currentSearchScope.performSearch(e,this._progressIndicator,this._onSearchResult.bind(this,this._searchId),this._onSearchFinished.bind(this,this._searchId))},resetSearch:function(){this.stopSearch(),this._searchResultsPane&&(this._searchView.resetResults(),delete this._searchResultsPane)},stopSearch:function(){this._progressIndicator&&this._progressIndicator.cancel(),this._currentSearchScope&&this._currentSearchScope.stopSearch(),delete this._searchConfig},_searchScopes:function(){return WebInspector.moduleManager.instances(WebInspector.SearchScope)}},WebInspector.SearchView=function(e){WebInspector.VBox.call(this),this._controller=WebInspector.advancedSearchController,WebInspector.advancedSearchController._searchView=this,this.element.classList.add("search-view"),this._searchPanelElement=this.element.createChild("div","search-drawer-header"),this._searchPanelElement.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._searchResultsElement=this.element.createChild("div"),this._searchResultsElement.className="search-results",this._search=this._searchPanelElement.createChild("input"),this._search.placeholder=WebInspector.UIString("Search sources"),this._search.setAttribute("type","text"),this._search.classList.add("search-config-search"),this._search.setAttribute("results","0"),this._search.setAttribute("size",30),this._ignoreCaseLabel=this._searchPanelElement.createChild("label"),this._ignoreCaseLabel.classList.add("search-config-label"),this._ignoreCaseCheckbox=this._ignoreCaseLabel.createChild("input"),this._ignoreCaseCheckbox.setAttribute("type","checkbox"),this._ignoreCaseCheckbox.classList.add("search-config-checkbox"),this._ignoreCaseLabel.appendChild(document.createTextNode(WebInspector.UIString("Ignore case"))),this._regexLabel=this._searchPanelElement.createChild("label"),this._regexLabel.classList.add("search-config-label"),this._regexCheckbox=this._regexLabel.createChild("input"),this._regexCheckbox.setAttribute("type","checkbox"),this._regexCheckbox.classList.add("search-config-checkbox"),this._regexLabel.appendChild(document.createTextNode(WebInspector.UIString("Regular expression"))),this._searchStatusBarElement=this.element.createChild("div","search-status-bar-summary"),this._searchMessageElement=this._searchStatusBarElement.createChild("span"),this._searchResultsMessageElement=document.createElement("span"),this._load()},WebInspector.SearchView.maxQueriesCount=20,WebInspector.SearchView.prototype={get searchConfig(){return new WebInspector.SearchConfig(this._search.value,this._ignoreCaseCheckbox.checked,this._regexCheckbox.checked)},set resultsPane(e){this.resetResults(),this._searchResultsElement.appendChild(e.element)},searchStarted:function(e){this.resetResults(),this._resetCounters(),this._searchMessageElement.textContent=WebInspector.UIString("Searching..."),e.show(this._searchStatusBarElement),this._updateSearchResultsMessage(),this._searchingView||(this._searchingView=new WebInspector.EmptyView(WebInspector.UIString("Searching..."))),this._searchingView.show(this._searchResultsElement)},indexingStarted:function(e){this._searchMessageElement.textContent=WebInspector.UIString("Indexing..."),e.show(this._searchStatusBarElement)},indexingFinished:function(e){this._searchMessageElement.textContent=e?"":WebInspector.UIString("Indexing interrupted.")},_updateSearchResultsMessage:function(){this._searchMatchesCount&&this._searchResultsCount?this._searchResultsMessageElement.textContent=WebInspector.UIString("Found %d matches in %d files.",this._searchMatchesCount,this._nonEmptySearchResultsCount):this._searchResultsMessageElement.textContent=""},resetResults:function(){this._searchingView&&this._searchingView.detach(),this._notFoundView&&this._notFoundView.detach(),this._searchResultsElement.removeChildren()},_resetCounters:function(){this._searchMatchesCount=0,this._searchResultsCount=0,this._nonEmptySearchResultsCount=0},nothingFound:function(){this.resetResults(),this._notFoundView||(this._notFoundView=new WebInspector.EmptyView(WebInspector.UIString("No matches found."))),this._notFoundView.show(this._searchResultsElement),this._searchResultsMessageElement.textContent=WebInspector.UIString("No matches found.")},addSearchResult:function(e){this._searchMatchesCount+=e.searchMatches.length,this._searchResultsCount++,e.searchMatches.length&&this._nonEmptySearchResultsCount++,this._updateSearchResultsMessage()},searchFinished:function(e){this._searchMessageElement.textContent=e?WebInspector.UIString("Search finished."):WebInspector.UIString("Search interrupted.")},focus:function(){WebInspector.setCurrentFocusElement(this._search),this._search.select()},willHide:function(){this._controller.stopSearch()},_onKeyDown:function(e){switch(e.keyCode){case WebInspector.KeyboardShortcut.Keys.Enter.code:this._onAction()}},_save:function(){WebInspector.settings.advancedSearchConfig.set(this.searchConfig)},_load:function(){var e=WebInspector.settings.advancedSearchConfig.get();this._search.value=e.query,this._ignoreCaseCheckbox.checked=e.ignoreCase,this._regexCheckbox.checked=e.isRegex},_onAction:function(){var e=this.searchConfig;e.query&&e.query.length&&(this._save(),this._controller.startSearch(e))},__proto__:WebInspector.VBox.prototype},WebInspector.SearchConfig=function(e,t,i){this.query=e,this.ignoreCase=t,this.isRegex=i,this._parse()},WebInspector.SearchConfig.prototype={_parse:function(){var e=new RegExp('(file:(([^\\\\ ]|\\\\.)+))|("(([^\\\\"]|\\\\.)+)")|((([^\\\\ ]|\\\\.)+))',"g"),t=this.query.match(e)||[];this._fileQueries=[],this._queries=[];for(var i=0;i<t.length;++i){var n=t[i];if(n)if(n.startsWith("file:"))this._fileQueries.push(this._parseFileQuery(n));else if(n.startsWith('"')){if(!n.endsWith('"'))continue;this._queries.push(this._parseQuotedQuery(n))}else this._queries.push(this._parseUnquotedQuery(n))}},fileQueries:function(){return this._fileQueries},queries:function(){return this._queries},_parseUnquotedQuery:function(e){return e.replace(/\\(.)/g,"$1")},_parseQuotedQuery:function(e){return e.substring(1,e.length-1).replace(/\\(.)/g,"$1")},_parseFileQuery:function(e){e=e.substr("file:".length);for(var t="",i=0;i<e.length;++i){var n=e[i];"*"===n?t+=".*":"\\"===n?" "===e[++i]&&(t+=" "):(-1!==String.regexSpecialCharacters().indexOf(e.charAt(i))&&(t+="\\"),t+=e.charAt(i))}return t}},WebInspector.SearchScope=function(){},WebInspector.SearchScope.prototype={performSearch:function(e,t,i,n){},performIndexing:function(e,t){},stopSearch:function(){},createSearchResultsPane:function(e){}},WebInspector.SearchResultsPane=function(e){this._searchConfig=e,this.element=document.createElement("div")},WebInspector.SearchResultsPane.prototype={get searchConfig(){return this._searchConfig},addSearchResult:function(e){}},WebInspector.FileBasedSearchResultsPane=function(e){WebInspector.SearchResultsPane.call(this,e),this._searchResults=[],this.element.id="search-results-pane-file-based",this._treeOutlineElement=document.createElement("ol"),this._treeOutlineElement.className="search-results-outline-disclosure",this.element.appendChild(this._treeOutlineElement),this._treeOutline=new TreeOutline(this._treeOutlineElement),this._matchesExpandedCount=0},WebInspector.FileBasedSearchResultsPane.matchesExpandedByDefaultCount=20,WebInspector.FileBasedSearchResultsPane.fileMatchesShownAtOnce=20,WebInspector.FileBasedSearchResultsPane.prototype={_createAnchor:function(e,t,i){return WebInspector.Linkifier.linkifyUsingRevealer(new WebInspector.UILocation(e,t,i),"",e.url,t)},addSearchResult:function(e){this._searchResults.push(e);var t=e.uiSourceCode;if(t){var i=e.searchMatches;this._addFileTreeElement(t.fullDisplayName(),i.length,this._searchResults.length-1)}},_fileTreeElementExpanded:function(e,t){if(!t._initialized){var i=Math.min(e.searchMatches.length,WebInspector.FileBasedSearchResultsPane.fileMatchesShownAtOnce);i<e.searchMatches.length?(this._appendSearchMatches(t,e,0,i-1),this._appendShowMoreMatchesElement(t,e,i-1)):this._appendSearchMatches(t,e,0,i),t._initialized=!0}},_appendSearchMatches:function(e,t,i,n){for(var r=t.uiSourceCode,s=t.searchMatches,o=this._searchConfig.queries(),a=[],c=0;c<o.length;++c)a.push(createSearchRegex(o[c],!this._searchConfig.ignoreCase,this._searchConfig.isRegex));for(c=i;c<n;++c){for(var l=s[c].lineNumber,d=s[c].lineContent,h=[],p=0;p<a.length;++p)h=h.concat(this._regexMatchRanges(d,a[p]));var u=this._createAnchor(r,l,h[0].offset),m=numberToStringWithSpacesPadding(l+1,4),_=document.createElement("span");_.classList.add("search-match-line-number"),_.textContent=m,u.appendChild(_);var g=this._createContentSpan(d,h);u.appendChild(g);var b=new TreeElement("");b.selectable=!1,e.appendChild(b),b.listItemElement.className="search-match source-code",b.listItemElement.appendChild(u)}},_appendShowMoreMatchesElement:function(e,t,i){var n=t.searchMatches.length-i,r=new TreeElement(WebInspector.UIString("Show all matches (%d more).",n));e.appendChild(r),r.listItemElement.classList.add("show-more-matches"),r.onselect=this._showMoreMatchesElementSelected.bind(this,t,i,r)},_showMoreMatchesElementSelected:function(e,t,i){var n=i.parent;return n.removeChild(i),this._appendSearchMatches(n,e,t,e.searchMatches.length),!1},_addFileTreeElement:function(e,t,i){var n=new TreeElement("",null,!0);n.toggleOnClick=!0,n.selectable=!1,this._treeOutline.appendChild(n),n.listItemElement.classList.add("search-result");var r=document.createElement("span");r.className="search-result-file-name",r.textContent=e,n.listItemElement.appendChild(r);var s=document.createElement("span");s.className="search-result-matches-count",s.textContent=1===t?WebInspector.UIString("(%d match)",t):WebInspector.UIString("(%d matches)",t),n.listItemElement.appendChild(s);var o=this._searchResults[i];return n.onexpand=this._fileTreeElementExpanded.bind(this,o,n),this._matchesExpandedCount<WebInspector.FileBasedSearchResultsPane.matchesExpandedByDefaultCount&&n.expand(),this._matchesExpandedCount+=o.searchMatches.length,n},_regexMatchRanges:function(e,t){var i;t.lastIndex=0;for(var n=[];t.lastIndex<e.length&&(i=t.exec(e));)n.push(new WebInspector.SourceRange(i.index,i[0].length));return n},_createContentSpan:function(e,t){var i=document.createElement("span");return i.className="search-match-content",i.textContent=e,WebInspector.highlightRangesWithStyleClass(i,t,"highlighted-match"),i},__proto__:WebInspector.SearchResultsPane.prototype},WebInspector.FileBasedSearchResultsPane.SearchResult=function(e,t){this.uiSourceCode=e,this.searchMatches=t},WebInspector.advancedSearchController,WebInspector.TimelineGrid=function(){this.element=document.createElement("div"),this._dividersElement=this.element.createChild("div","resources-dividers"),this._gridHeaderElement=document.createElement("div"),this._gridHeaderElement.id="timeline-grid-header",this._eventDividersElement=this._gridHeaderElement.createChild("div","resources-event-dividers"),this._dividersLabelBarElement=this._gridHeaderElement.createChild("div","resources-dividers-label-bar"),this.element.appendChild(this._gridHeaderElement),this._leftCurtainElement=this.element.createChild("div","timeline-cpu-curtain-left"),this._rightCurtainElement=this.element.createChild("div","timeline-cpu-curtain-right")},WebInspector.TimelineGrid.calculateDividerOffsets=function(e,t){var i=t/64,n=e.boundarySpan()/i,r=t/e.boundarySpan(),s=Math.ceil(Math.log(n)/Math.LN10);(n=Math.pow(10,s))*r>=320&&(n/=5),n*r>=128&&(n/=2);var o=Math.ceil((e.minimumBoundary()-e.zeroTime())/n)*n+e.zeroTime(),a=e.maximumBoundary();e.paddingLeft()>0&&(a+=64/r),i=Math.ceil((a-o)/n);var c=0===e.paddingLeft();n||(i=0);for(var l=[],d=0;d<i;++d){var h=e.computePosition(o+n*d);c&&h<50||l.push(o+n*d)}return{offsets:l,precision:Math.max(0,-Math.floor(Math.log(1.01*n)/Math.LN10))}},WebInspector.TimelineGrid.drawCanvasGrid=function(e,t,i){var n=e.getContext("2d");n.save();var r=window.devicePixelRatio;n.scale(r,r),n.translate(.5,.5);var s=!!i,o=e.width/window.devicePixelRatio,a=e.height/window.devicePixelRatio,c=0;if(!i){var l=WebInspector.TimelineGrid.calculateDividerOffsets(t,o);i=l.offsets,c=l.precision}n.fillStyle="#333",n.strokeStyle="rgba(0, 0, 0, 0.1)",n.textBaseline="hanging",n.font=(s?"italic bold 11px ":" 11px ")+WebInspector.fontFamily(),n.lineWidth=1;for(var d=0,h=0,p=0,u=0;u<i.length;++u){h=i[u];var m=t.computePosition(h);if(n.beginPath(),m-d>60&&(!s||0!==u)){var _=s?t.formatTime(t.zeroTime()+h-p):t.formatTime(h,c),g=n.measureText(_).width,b=s?(m+d-g)/2:m-g-4;n.fillText(_,b,3)}n.moveTo(m,0),n.lineTo(m,a),n.stroke(),p=h,d=m}n.restore()},WebInspector.TimelineGrid.prototype={get dividersElement(){return this._dividersElement},get dividersLabelBarElement(){return this._dividersLabelBarElement},removeDividers:function(){this._dividersElement.removeChildren(),this._dividersLabelBarElement.removeChildren()},updateDividers:function(e,t,i){var n=0;if(!t){var r=WebInspector.TimelineGrid.calculateDividerOffsets(e,this._dividersElement.clientWidth);t=r.offsets,n=r.precision,i=!1}for(var s=this._dividersElement.clientWidth,o=this._dividersElement.firstChild,a=this._dividersLabelBarElement.firstChild,c=0,l=0,d=0;d<t.length;++d){if(!o){(o=document.createElement("div")).className="resources-divider",this._dividersElement.appendChild(o),(a=document.createElement("div")).className="resources-divider";var h=document.createElement("div");h.className="resources-divider-label",a._labelElement=h,a.appendChild(h),this._dividersLabelBarElement.appendChild(a)}var p=t[d],u=e.computePosition(p);a._labelElement.textContent=u-c>60?i?e.formatTime(p-l):e.formatTime(p,n):"",i?a._labelElement.style.width=Math.ceil(u-c)+"px":a._labelElement.style.removeProperty("width"),c=u,l=p;var m=100*u/s;o.style.left=m+"%",a.style.left=m+"%",o=o.nextSibling,a=a.nextSibling}for(;o;){var _=o.nextSibling;this._dividersElement.removeChild(o),o=_}for(;a;)_=a.nextSibling,this._dividersLabelBarElement.removeChild(a),a=_;return!0},addEventDivider:function(e){this._eventDividersElement.appendChild(e)},addEventDividers:function(e){this._gridHeaderElement.removeChild(this._eventDividersElement);for(var t=0;t<e.length;++t)e[t]&&this._eventDividersElement.appendChild(e[t]);this._gridHeaderElement.appendChild(this._eventDividersElement)},removeEventDividers:function(){this._eventDividersElement.removeChildren()},hideEventDividers:function(){this._eventDividersElement.classList.add("hidden")},showEventDividers:function(){this._eventDividersElement.classList.remove("hidden")},hideDividers:function(){this._dividersElement.classList.add("hidden")},showDividers:function(){this._dividersElement.classList.remove("hidden")},hideCurtains:function(){this._leftCurtainElement.classList.add("hidden"),this._rightCurtainElement.classList.add("hidden")},showCurtains:function(e,t){this._leftCurtainElement.style.width=e+"px",this._leftCurtainElement.classList.remove("hidden"),this._rightCurtainElement.style.left=e+t+"px",this._rightCurtainElement.classList.remove("hidden")},setScrollAndDividerTop:function(e,t){this._dividersLabelBarElement.style.top=e+"px",this._eventDividersElement.style.top=e+"px",this._leftCurtainElement.style.top=e+"px",this._rightCurtainElement.style.top=e+"px"}},WebInspector.TimelineGrid.Calculator=function(){},WebInspector.TimelineGrid.Calculator.prototype={paddingLeft:function(){},computePosition:function(e){},formatTime:function(e,t){},minimumBoundary:function(){},zeroTime:function(){},maximumBoundary:function(){},boundarySpan:function(){}},WebInspector.OverviewGrid=function(e){this.element=document.createElement("div"),this.element.id=e+"-overview-container",this._grid=new WebInspector.TimelineGrid,this._grid.element.id=e+"-overview-grid",this._grid.setScrollAndDividerTop(0,0),this.element.appendChild(this._grid.element),this._window=new WebInspector.OverviewGrid.Window(this.element,this._grid.dividersLabelBarElement)},WebInspector.OverviewGrid.prototype={clientWidth:function(){return this.element.clientWidth},updateDividers:function(e){this._grid.updateDividers(e)},addEventDividers:function(e){this._grid.addEventDividers(e)},removeEventDividers:function(){this._grid.removeEventDividers()},setWindowPosition:function(e,t){this._window._setWindowPosition(e,t)},reset:function(){this._window.reset()},windowLeft:function(){return this._window.windowLeft},windowRight:function(){return this._window.windowRight},setWindow:function(e,t){this._window._setWindow(e,t)},addEventListener:function(e,t,i){this._window.addEventListener(e,t,i)},zoom:function(e,t){this._window._zoom(e,t)},setResizeEnabled:function(e){this._window._setEnabled(!!e)}},WebInspector.OverviewGrid.MinSelectableSize=14,WebInspector.OverviewGrid.WindowScrollSpeedFactor=.3,WebInspector.OverviewGrid.ResizerOffset=3.5,WebInspector.OverviewGrid.Window=function(e,t){this._parentElement=e,this._dividersLabelBarElement=t,WebInspector.installDragHandle(this._parentElement,this._startWindowSelectorDragging.bind(this),this._windowSelectorDragging.bind(this),this._endWindowSelectorDragging.bind(this),"ew-resize",null),WebInspector.installDragHandle(this._dividersLabelBarElement,this._startWindowDragging.bind(this),this._windowDragging.bind(this),null,"move"),this.windowLeft=0,this.windowRight=1,this._parentElement.addEventListener("mousewheel",this._onMouseWheel.bind(this),!0),this._parentElement.addEventListener("dblclick",this._resizeWindowMaximum.bind(this),!0),this._overviewWindowElement=e.createChild("div","overview-grid-window"),this._overviewWindowBordersElement=e.createChild("div","overview-grid-window-rulers"),e.createChild("div","overview-grid-dividers-background"),this._leftResizeElement=e.createChild("div","overview-grid-window-resizer"),this._leftResizeElement.style.left=0,WebInspector.installDragHandle(this._leftResizeElement,this._resizerElementStartDragging.bind(this),this._leftResizeElementDragging.bind(this),null,"ew-resize"),this._rightResizeElement=e.createChild("div","overview-grid-window-resizer overview-grid-window-resizer-right"),this._rightResizeElement.style.right=0,WebInspector.installDragHandle(this._rightResizeElement,this._resizerElementStartDragging.bind(this),this._rightResizeElementDragging.bind(this),null,"ew-resize"),this._setEnabled(!0)},WebInspector.OverviewGrid.Events={WindowChanged:"WindowChanged"},WebInspector.OverviewGrid.Window.prototype={reset:function(){this.windowLeft=0,this.windowRight=1,this._overviewWindowElement.style.left="0%",this._overviewWindowElement.style.width="100%",this._overviewWindowBordersElement.style.left="0%",this._overviewWindowBordersElement.style.right="0%",this._leftResizeElement.style.left="0%",this._rightResizeElement.style.left="100%",this._setEnabled(!0)},_setEnabled:function(e){e=!!e,this._enabled!==e&&(this._enabled=e)},_resizerElementStartDragging:function(e){return!!this._enabled&&(this._resizerParentOffsetLeft=e.pageX-e.offsetX-e.target.offsetLeft,e.preventDefault(),!0)},_leftResizeElementDragging:function(e){this._resizeWindowLeft(e.pageX-this._resizerParentOffsetLeft),e.preventDefault()},_rightResizeElementDragging:function(e){this._resizeWindowRight(e.pageX-this._resizerParentOffsetLeft),e.preventDefault()},_startWindowSelectorDragging:function(e){if(!this._enabled)return!1;this._offsetLeft=this._parentElement.totalOffsetLeft();var t=e.x-this._offsetLeft;return this._overviewWindowSelector=new WebInspector.OverviewGrid.WindowSelector(this._parentElement,t),!0},_windowSelectorDragging:function(e){this._overviewWindowSelector._updatePosition(e.x-this._offsetLeft),e.preventDefault()},_endWindowSelectorDragging:function(e){var t=this._overviewWindowSelector._close(e.x-this._offsetLeft);if(delete this._overviewWindowSelector,t.end===t.start){var i=t.end;t.start=Math.max(0,i-WebInspector.OverviewGrid.MinSelectableSize/2),t.end=Math.min(this._parentElement.clientWidth,i+WebInspector.OverviewGrid.MinSelectableSize/2)}else t.end-t.start<WebInspector.OverviewGrid.MinSelectableSize&&(this._parentElement.clientWidth-t.end>WebInspector.OverviewGrid.MinSelectableSize?t.end=t.start+WebInspector.OverviewGrid.MinSelectableSize:t.start=t.end-WebInspector.OverviewGrid.MinSelectableSize);this._setWindowPosition(t.start,t.end)},_startWindowDragging:function(e){return this._dragStartPoint=e.pageX,this._dragStartLeft=this.windowLeft,this._dragStartRight=this.windowRight,!0},_windowDragging:function(e){e.preventDefault();var t=(e.pageX-this._dragStartPoint)/this._parentElement.clientWidth;this._dragStartLeft+t<0&&(t=-this._dragStartLeft),this._dragStartRight+t>1&&(t=1-this._dragStartRight),this._setWindow(this._dragStartLeft+t,this._dragStartRight+t)},_resizeWindowLeft:function(e){e<10?e=0:e>this._rightResizeElement.offsetLeft-4&&(e=this._rightResizeElement.offsetLeft-4),this._setWindowPosition(e,null)},_resizeWindowRight:function(e){e>this._parentElement.clientWidth-10?e=this._parentElement.clientWidth:e<this._leftResizeElement.offsetLeft+WebInspector.OverviewGrid.MinSelectableSize&&(e=this._leftResizeElement.offsetLeft+WebInspector.OverviewGrid.MinSelectableSize),this._setWindowPosition(null,e)},_resizeWindowMaximum:function(){this._setWindowPosition(0,this._parentElement.clientWidth)},_setWindow:function(e,t){var i=e,n=t,r=t-e,s=r*this._parentElement.clientWidth,o=WebInspector.OverviewGrid.MinSelectableSize/2;if(s<o){var a=o/s;i=(t+e-r*a)/2,n=(t+e+r*a)/2}this.windowLeft=e,this._leftResizeElement.style.left=100*i+"%",this.windowRight=t,this._rightResizeElement.style.left=100*n+"%",this._overviewWindowElement.style.left=100*i+"%",this._overviewWindowBordersElement.style.left=100*i+"%",this._overviewWindowElement.style.width=100*(n-i)+"%",this._overviewWindowBordersElement.style.right=100*(1-n)+"%",this.dispatchEventToListeners(WebInspector.OverviewGrid.Events.WindowChanged)},_setWindowPosition:function(e,t){var i=this._parentElement.clientWidth,n="number"==typeof e?e/i:this.windowLeft,r="number"==typeof t?t/i:this.windowRight;this._setWindow(n,r)},_onMouseWheel:function(e){if("number"==typeof e.wheelDeltaY&&e.wheelDeltaY){const i=1.1,n=1/120;var t=e.offsetX/e.target.clientWidth;this._zoom(Math.pow(i,-e.wheelDeltaY*n),t)}if("number"==typeof e.wheelDeltaX&&e.wheelDeltaX){var i=Math.round(e.wheelDeltaX*WebInspector.OverviewGrid.WindowScrollSpeedFactor),n=this._leftResizeElement.offsetLeft+WebInspector.OverviewGrid.ResizerOffset,r=this._rightResizeElement.offsetLeft+WebInspector.OverviewGrid.ResizerOffset;n-i<0&&(i=n),r-i>this._parentElement.clientWidth&&(i=r-this._parentElement.clientWidth),this._setWindowPosition(n-i,r-i),e.preventDefault()}},_zoom:function(e,t){var i=this.windowLeft,n=this.windowRight,r=n-i,s=e*r;s>1&&(e=(s=1)/r),i=t+(i-t)*e,i=Number.constrain(i,0,1-s),n=t+(n-t)*e,n=Number.constrain(n,s,1),this._setWindow(i,n)},__proto__:WebInspector.Object.prototype},WebInspector.OverviewGrid.WindowSelector=function(e,t){this._startPosition=t,this._width=e.offsetWidth,this._windowSelector=document.createElement("div"),this._windowSelector.className="overview-grid-window-selector",this._windowSelector.style.left=this._startPosition+"px",this._windowSelector.style.right=this._width-this._startPosition+"px",e.appendChild(this._windowSelector)},WebInspector.OverviewGrid.WindowSelector.prototype={_close:function(e){return e=Math.max(0,Math.min(e,this._width)),this._windowSelector.remove(),this._startPosition<e?{start:this._startPosition,end:e}:{start:e,end:this._startPosition}},_updatePosition:function(e){(e=Math.max(0,Math.min(e,this._width)))<this._startPosition?(this._windowSelector.style.left=e+"px",this._windowSelector.style.right=this._width-this._startPosition+"px"):(this._windowSelector.style.left=this._startPosition+"px",this._windowSelector.style.right=this._width-e+"px")}},WebInspector.ContentProvider=function(){},WebInspector.ContentProvider.prototype={contentURL:function(){},contentType:function(){},requestContent:function(e){},searchInContent:function(e,t,i,n){}},WebInspector.ContentProvider.SearchMatch=function(e,t){this.lineNumber=e,this.lineContent=t},WebInspector.ContentProvider.performSearchInContent=function(e,t,i,n){for(var r=createSearchRegex(t,i,n),s=new String(e),o=[],a=0;a<s.lineCount();++a){var c=s.lineAt(a);r.lastIndex=0,r.exec(c)&&o.push(new WebInspector.ContentProvider.SearchMatch(a,c))}return o},WebInspector.Resource=function(e,t,i,n,r,s,o,a){this._request=e,this.url=t,this._documentURL=i,this._frameId=n,this._loaderId=r,this._type=s||WebInspector.resourceTypes.Other,this._mimeType=o,this._isHidden=a,this._content,this._contentEncoded,this._pendingContentCallbacks=[],this._request&&!this._request.finished&&this._request.addEventListener(WebInspector.NetworkRequest.Events.FinishedLoading,this._requestFinished,this)},WebInspector.Resource.Events={MessageAdded:"message-added",MessagesCleared:"messages-cleared"},WebInspector.Resource.prototype={get request(){return this._request},get url(){return this._url},set url(e){this._url=e,this._parsedURL=new WebInspector.ParsedURL(e)},get parsedURL(){return this._parsedURL},get documentURL(){return this._documentURL},get frameId(){return this._frameId},get loaderId(){return this._loaderId},get displayName(){return this._parsedURL.displayName},get type(){return this._request?this._request.type:this._type},get mimeType(){return this._request?this._request.mimeType:this._mimeType},get messages(){return this._messages||[]},addMessage:function(e){e.isErrorOrWarning()&&e.messageText&&(this._messages||(this._messages=[]),this._messages.push(e),this.dispatchEventToListeners(WebInspector.Resource.Events.MessageAdded,e))},get errors(){return this._errors||0},set errors(e){this._errors=e},get warnings(){return this._warnings||0},set warnings(e){this._warnings=e},clearErrorsAndWarnings:function(){this._messages=[],this._warnings=0,this._errors=0,this.dispatchEventToListeners(WebInspector.Resource.Events.MessagesCleared)},get content(){return this._content},get contentEncoded(){return this._contentEncoded},contentURL:function(){return this._url},contentType:function(){return this.type},requestContent:function(e){void 0===this._content?(this._pendingContentCallbacks.push(e),this._request&&!this._request.finished||this._innerRequestContent()):e(this._content)},canonicalMimeType:function(){return this.type.canonicalMimeType()||this.mimeType},searchInContent:function(e,t,i,n){this.type!==WebInspector.resourceTypes.Document&&this.frameId?PageAgent.searchInResource(this.frameId,this.url,e,t,i,function(e,t){n(t||[])}):n([])},populateImageSource:function(e){this.requestContent(function(t){var i=WebInspector.contentAsDataURL(this._content,this.mimeType,this._contentEncoded);null===i&&(i=this.url),e.src=i}.bind(this))},_requestFinished:function(){this._request.removeEventListener(WebInspector.NetworkRequest.Events.FinishedLoading,this._requestFinished,this),this._pendingContentCallbacks.length&&this._innerRequestContent()},_innerRequestContent:function(){function e(e,i,n){e||null===i?t.call(this,null,!1):t.call(this,i,n)}function t(e,t){this._content=e,this._contentEncoded=t;for(var i=this._pendingContentCallbacks.slice(),n=0;n<i.length;++n)i[n](this._content);this._pendingContentCallbacks.length=0,delete this._contentRequested}this._contentRequested||(this._contentRequested=!0,this.request?this.request.requestContent(function(t){e.call(this,null,t,this.request.contentEncoded)}.bind(this)):PageAgent.getResourceContent(this.frameId,this.url,function(t,i,n){e.call(this,t,i,n)}.bind(this)))},isHidden:function(){return!!this._isHidden},__proto__:WebInspector.Object.prototype},WebInspector.NetworkRequest=function(e,t,i,n,r){this._requestId=e,this.url=t,this._documentURL=i,this._frameId=n,this._loaderId=r,this._startTime=-1,this._endTime=-1,this.statusCode=0,this.statusText="",this.requestMethod="",this.requestTime=0,this._type=WebInspector.resourceTypes.Other,this._contentEncoded=!1,this._pendingContentCallbacks=[],this._frames=[],this._responseHeaderValues={},this._remoteAddress=""},WebInspector.NetworkRequest.Events={FinishedLoading:"FinishedLoading",TimingChanged:"TimingChanged",RemoteAddressChanged:"RemoteAddressChanged",RequestHeadersChanged:"RequestHeadersChanged",ResponseHeadersChanged:"ResponseHeadersChanged"},WebInspector.NetworkRequest.InitiatorType={Other:"other",Parser:"parser",Redirect:"redirect",Script:"script"},WebInspector.NetworkRequest.NameValue,WebInspector.NetworkRequest.prototype={get requestId(){return this._requestId},set requestId(e){this._requestId=e},get url(){return this._url},set url(e){this._url!==e&&(this._url=e,this._parsedURL=new WebInspector.ParsedURL(e),delete this._queryString,delete this._parsedQueryParameters,delete this._name,delete this._path)},get documentURL(){return this._documentURL},get parsedURL(){return this._parsedURL},get frameId(){return this._frameId},get loaderId(){return this._loaderId},setRemoteAddress:function(e,t){this._remoteAddress=e+":"+t,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.RemoteAddressChanged,this)},remoteAddress:function(){return this._remoteAddress},get startTime(){return this._startTime||-1},set startTime(e){this._startTime=e},get responseReceivedTime(){return this._responseReceivedTime||-1},set responseReceivedTime(e){this._responseReceivedTime=e},get endTime(){return this._endTime||-1},set endTime(e){this.timing&&this.timing.requestTime?this._endTime=Math.max(e,this.responseReceivedTime):(this._endTime=e,this._responseReceivedTime>e&&(this._responseReceivedTime=e)),this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.TimingChanged,this)},get duration(){return-1===this._endTime||-1===this._startTime?-1:this._endTime-this._startTime},get latency(){return-1===this._responseReceivedTime||-1===this._startTime?-1:this._responseReceivedTime-this._startTime},get resourceSize(){return this._resourceSize||0},set resourceSize(e){this._resourceSize=e},get transferSize(){return this._transferSize||0},increaseTransferSize:function(e){this._transferSize=(this._transferSize||0)+e},setTransferSize:function(e){this._transferSize=e},get finished(){return this._finished},set finished(e){this._finished!==e&&(this._finished=e,e&&(this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.FinishedLoading,this),this._pendingContentCallbacks.length&&this._innerRequestContent()))},get failed(){return this._failed},set failed(e){this._failed=e},get canceled(){return this._canceled},set canceled(e){this._canceled=e},get cached(){return!!this._cached&&!this._transferSize},set cached(e){this._cached=e,e&&delete this._timing},get timing(){return this._timing},set timing(e){e&&!this._cached&&(this._startTime=e.requestTime,this._responseReceivedTime=e.requestTime+e.receiveHeadersEnd/1e3,this._timing=e,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.TimingChanged,this))},get mimeType(){return this._mimeType},set mimeType(e){this._mimeType=e},get displayName(){return this._parsedURL.displayName},name:function(){return this._name?this._name:(this._parseNameAndPathFromURL(),this._name)},path:function(){return this._path?this._path:(this._parseNameAndPathFromURL(),this._path)},_parseNameAndPathFromURL:function(){this._parsedURL.isDataURL()?(this._name=this._parsedURL.dataURLDisplayName(),this._path=""):this._parsedURL.isAboutBlank()?(this._name=this._parsedURL.url,this._path=""):(this._path=this._parsedURL.host+this._parsedURL.folderPathComponents,this._path=this._path.trimURL(WebInspector.resourceTreeModel.inspectedPageDomain()),this._parsedURL.lastPathComponent||this._parsedURL.queryParams?this._name=this._parsedURL.lastPathComponent+(this._parsedURL.queryParams?"?"+this._parsedURL.queryParams:""):this._parsedURL.folderPathComponents?(this._name=this._parsedURL.folderPathComponents.substring(this._parsedURL.folderPathComponents.lastIndexOf("/")+1)+"/",this._path=this._path.substring(0,this._path.lastIndexOf("/"))):(this._name=this._parsedURL.host,this._path=""))},get folder(){var e=this._parsedURL.path,t=e.indexOf("?");-1!==t&&(e=e.substring(0,t));var i=e.lastIndexOf("/");return-1!==i?e.substring(0,i):""},get type(){return this._type},set type(e){this._type=e},get domain(){return this._parsedURL.host},get scheme(){return this._parsedURL.scheme},get redirectSource(){return this.redirects&&this.redirects.length>0?this.redirects[this.redirects.length-1]:this._redirectSource},set redirectSource(e){this._redirectSource=e,delete this._initiatorInfo},requestHeaders:function(){return this._requestHeaders||[]},setRequestHeaders:function(e){this._requestHeaders=e,delete this._requestCookies,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.RequestHeadersChanged)},requestHeadersText:function(){return this._requestHeadersText},setRequestHeadersText:function(e){this._requestHeadersText=e,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.RequestHeadersChanged)},requestHeaderValue:function(e){return this._headerValue(this.requestHeaders(),e)},get requestCookies(){return this._requestCookies||(this._requestCookies=WebInspector.CookieParser.parseCookie(this.requestHeaderValue("Cookie"))),this._requestCookies},get requestFormData(){return this._requestFormData},set requestFormData(e){this._requestFormData=e,delete this._parsedFormParameters},requestHttpVersion:function(){var e=this.requestHeadersText();if(!e)return this.requestHeaderValue(":version");var t=e.split(/\r\n/)[0].match(/(HTTP\/\d+\.\d+)$/);return t?t[1]:void 0},get responseHeaders(){return this._responseHeaders||[]},set responseHeaders(e){this._responseHeaders=e,delete this._sortedResponseHeaders,delete this._responseCookies,this._responseHeaderValues={},this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.ResponseHeadersChanged)},get responseHeadersText(){return this._responseHeadersText},set responseHeadersText(e){this._responseHeadersText=e,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.ResponseHeadersChanged)},get sortedResponseHeaders(){return void 0!==this._sortedResponseHeaders?this._sortedResponseHeaders:(this._sortedResponseHeaders=this.responseHeaders.slice(),this._sortedResponseHeaders.sort(function(e,t){return e.name.toLowerCase().compareTo(t.name.toLowerCase())}),this._sortedResponseHeaders)},responseHeaderValue:function(e){var t=this._responseHeaderValues[e];return void 0===t&&(t=this._headerValue(this.responseHeaders,e),this._responseHeaderValues[e]=void 0!==t?t:null),null!==t?t:void 0},get responseCookies(){return this._responseCookies||(this._responseCookies=WebInspector.CookieParser.parseSetCookie(this.responseHeaderValue("Set-Cookie"))),this._responseCookies},queryString:function(){if(void 0!==this._queryString)return this._queryString;var e=null,t=this.url,i=t.indexOf("?");if(-1!==i){var n=(e=t.substring(i+1)).indexOf("#");-1!==n&&(e=e.substring(0,n))}return this._queryString=e,this._queryString},get queryParameters(){if(this._parsedQueryParameters)return this._parsedQueryParameters;var e=this.queryString();return e?(this._parsedQueryParameters=this._parseParameters(e),this._parsedQueryParameters):null},get formParameters(){if(this._parsedFormParameters)return this._parsedFormParameters;if(!this.requestFormData)return null;var e=this.requestContentType();return e&&e.match(/^application\/x-www-form-urlencoded\s*(;.*)?$/i)?(this._parsedFormParameters=this._parseParameters(this.requestFormData),this._parsedFormParameters):null},get responseHttpVersion(){var e=this._responseHeadersText;if(!e)return this.responseHeaderValue(":version");var t=e.match(/^(HTTP\/\d+\.\d+)/);return t?t[1]:void 0},_parseParameters:function(e){return e.split("&").map(function(e){var t=e.split("=",2);return{name:t[0],value:t[1]||""}})},_headerValue:function(e,t){t=t.toLowerCase();for(var i=[],n=0;n<e.length;++n)e[n].name.toLowerCase()===t&&i.push(e[n].value);if(i.length)return"set-cookie"===t?i.join("\n"):i.join(", ")},get content(){return this._content},contentError:function(){return this._contentError},get contentEncoded(){return this._contentEncoded},contentURL:function(){return this._url},contentType:function(){return this._type},requestContent:function(e){this.type!==WebInspector.resourceTypes.WebSocket?void 0===this._content?(this._pendingContentCallbacks.push(e),this.finished&&this._innerRequestContent()):e(this.content||null):e(null)},searchInContent:function(e,t,i,n){n([])},isHttpFamily:function(){return!!this.url.match(/^https?:/i)},requestContentType:function(){return this.requestHeaderValue("Content-Type")},isPingRequest:function(){return"text/ping"===this.requestContentType()},hasErrorStatusCode:function(){return this.statusCode>=400},populateImageSource:function(e){this.requestContent(function(t){var i=this.asDataURL();null===i&&(i=this.url),e.src=i}.bind(this))},asDataURL:function(){return WebInspector.contentAsDataURL(this._content,this.mimeType,this._contentEncoded)},_innerRequestContent:function(){this._contentRequested||(this._contentRequested=!0,NetworkAgent.getResponseBody(this._requestId,function(e,t,i){this._content=e?null:t,this._contentError=e,this._contentEncoded=i;for(var n=this._pendingContentCallbacks.slice(),r=0;r<n.length;++r)n[r](this._content);this._pendingContentCallbacks.length=0,delete this._contentRequested}.bind(this)))},initiatorInfo:function(){if(this._initiatorInfo)return this._initiatorInfo;var e=WebInspector.NetworkRequest.InitiatorType.Other,t="",i=-1/0,n=-1/0;if(this.redirectSource)e=WebInspector.NetworkRequest.InitiatorType.Redirect,t=this.redirectSource.url;else if(this.initiator)if(this.initiator.type===NetworkAgent.InitiatorType.Parser)e=WebInspector.NetworkRequest.InitiatorType.Parser,t=this.initiator.url,i=this.initiator.lineNumber;else if(this.initiator.type===NetworkAgent.InitiatorType.Script){var r=this.initiator.stackTrace[0];r.url&&(e=WebInspector.NetworkRequest.InitiatorType.Script,t=r.url,i=r.lineNumber,n=r.columnNumber)}return this._initiatorInfo={type:e,url:t,source:WebInspector.displayNameForURL(t),lineNumber:i,columnNumber:n},this._initiatorInfo},frames:function(){return this._frames},frame:function(e){return this._frames[e]},addFrameError:function(e,t){this._pushFrame({errorMessage:e,time:t})},addFrame:function(e,t,i){e.time=t,i&&(e.sent=i),this._pushFrame(e)},_pushFrame:function(e){this._frames.length>=100&&this._frames.splice(0,10),this._frames.push(e)},__proto__:WebInspector.Object.prototype},WebInspector.UISourceCode=function(e,t,i,n,r,s,o){this._project=e,this._parentPath=t,this._name=i,this._originURL=n,this._url=r,this._contentType=s,this._isEditable=o,this._requestContentCallbacks=[],this._consoleMessages=[],this.history=[],this.isEditable()&&this._url&&this._restoreRevisionHistory()},WebInspector.UISourceCode.Events={WorkingCopyChanged:"WorkingCopyChanged",WorkingCopyCommitted:"WorkingCopyCommitted",TitleChanged:"TitleChanged",SavedStateUpdated:"SavedStateUpdated",ConsoleMessageAdded:"ConsoleMessageAdded",ConsoleMessageRemoved:"ConsoleMessageRemoved",ConsoleMessagesCleared:"ConsoleMessagesCleared",SourceMappingChanged:"SourceMappingChanged"},WebInspector.UISourceCode.prototype={get url(){return this._url},name:function(){return this._name},parentPath:function(){return this._parentPath},path:function(){return this._parentPath?this._parentPath+"/"+this._name:this._name},fullDisplayName:function(){return this._project.displayName()+"/"+(this._parentPath?this._parentPath+"/":"")+this.displayName(!0)},displayName:function(e){var t=this.name()||WebInspector.UIString("(index)");return e?t:t.trimEnd(100)},uri:function(){var e=this.path();return this._project.id()?e?this._project.id()+"/"+e:this._project.id():e},originURL:function(){return this._originURL},canRename:function(){return this._project.canRename()},rename:function(e,t){this._project.rename(this,e,function(e,i,n,r,s){e&&this._updateName(i,n,r,s),t(e)}.bind(this))},remove:function(){this._project.deleteFile(this.path())},_updateName:function(e,t,i,n){var r=this.uri();this._name=e,t&&(this._url=t),i&&(this._originURL=i),n&&(this._contentType=n),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.TitleChanged,r)},contentURL:function(){return this.originURL()},contentType:function(){return this._contentType},scriptFile:function(){return this._scriptFile},setScriptFile:function(e){this._scriptFile=e},project:function(){return this._project},requestMetadata:function(e){this._project.requestMetadata(this,e)},requestContent:function(e){this._content||this._contentLoaded?e(this._content):(this._requestContentCallbacks.push(e),1===this._requestContentCallbacks.length&&this._project.requestFileContent(this,this._fireContentAvailable.bind(this)))},checkContentUpdated:function(e){this._project.canSetFileContent()&&(this._checkingContent||(this._checkingContent=!0,this._project.requestFileContent(this,function(t){if(null===t){var i=this.workingCopy();return this._commitContent("",!1),this.setWorkingCopy(i),delete this._checkingContent,void(e&&e())}return"string"==typeof this._lastAcceptedContent&&this._lastAcceptedContent===t?(delete this._checkingContent,void(e&&e())):this._content===t?(delete this._lastAcceptedContent,delete this._checkingContent,void(e&&e())):this.isDirty()?(window.confirm(WebInspector.UIString("This file was changed externally. Would you like to reload it?"))?this._commitContent(t,!1):this._lastAcceptedContent=t,delete this._checkingContent,void(e&&e())):(this._commitContent(t,!1),delete this._checkingContent,void(e&&e()))}.bind(this))))},requestOriginalContent:function(e){this._project.requestFileContent(this,e)},_commitContent:function(e,t){delete this._lastAcceptedContent,this._content=e,this._contentLoaded=!0;var i=this.history.length?this.history[this.history.length-1]:null;if(!i||i._content!==this._content){var n=new WebInspector.Revision(this,this._content,new Date);this.history.push(n),n._persist()}this._innerResetWorkingCopy(),this._hasCommittedChanges=!0,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyCommitted),this._url&&WebInspector.fileManager.isURLSaved(this._url)&&this._saveURLWithFileManager(!1,this._content),t&&this._project.setFileContent(this,this._content,function(){})},_saveURLWithFileManager:function(e,t){WebInspector.fileManager.save(this._url,t,e,function(e){e&&(this._savedWithFileManager=!0,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.SavedStateUpdated))}.bind(this)),WebInspector.fileManager.close(this._url)},saveToFileSystem:function(e){if(this.isDirty())return this._saveURLWithFileManager(e,this.workingCopy()),void this.commitWorkingCopy(function(){});this.requestContent(this._saveURLWithFileManager.bind(this,e))},hasUnsavedCommittedChanges:function(){return!(this._savedWithFileManager||this.project().canSetFileContent()||!this._isEditable||this._project.workspace().hasResourceContentTrackingExtensions()||!this._hasCommittedChanges)},addRevision:function(e){this._commitContent(e,!0)},_restoreRevisionHistory:function(){if(Sfdc.hasLocalStorage()){var e=WebInspector.Revision._revisionHistoryRegistry()[this.url];if(e&&(e=e.filter(function(e){return!!WebInspector.resourceTreeModel.mainFrame&&e.loaderId===WebInspector.resourceTreeModel.mainFrame.loaderId})).length){for(var t=0;t<e.length;++t){var i=window.localStorage[e[t].key],n=new Date(e[t].timestamp),r=new WebInspector.Revision(this,i,n);this.history.push(r)}this._content=this.history[this.history.length-1].content,this._hasCommittedChanges=!0,this._contentLoaded=!0}}},_clearRevisionHistory:function(){if(Sfdc.hasLocalStorage()){for(var e=WebInspector.Revision._revisionHistoryRegistry(),t=e[this.url],i=0;t&&i<t.length;++i)delete window.localStorage[t[i].key];delete e[this.url],window.localStorage["revision-history"]=JSON.stringify(e)}},revertToOriginal:function(){this.requestOriginalContent(function(e){"string"==typeof e&&this.addRevision(e)}.bind(this)),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.ApplyOriginalContent,url:this.url})},revertAndClearHistory:function(e){this.requestOriginalContent(function(t){"string"==typeof t&&(this.addRevision(t),this._clearRevisionHistory(),this.history=[],e(this))}.bind(this)),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.RevertRevision,url:this.url})},isEditable:function(){return this._isEditable},workingCopy:function(){return this._workingCopyGetter&&(this._workingCopy=this._workingCopyGetter(),delete this._workingCopyGetter),this.isDirty()?this._workingCopy:this._content},resetWorkingCopy:function(){this._innerResetWorkingCopy(),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyChanged)},_innerResetWorkingCopy:function(){delete this._workingCopy,delete this._workingCopyGetter},setWorkingCopy:function(e){this._workingCopy=e,delete this._workingCopyGetter,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyChanged)},setWorkingCopyGetter:function(e){this._workingCopyGetter=e,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyChanged)},removeWorkingCopyGetter:function(){this._workingCopyGetter&&(this._workingCopy=this._workingCopyGetter(),delete this._workingCopyGetter)},commitWorkingCopy:function(e){this.isDirty()?(this._commitContent(this.workingCopy(),!0),e(null),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.FileSaved,url:this.url})):e(null)},isDirty:function(){return void 0!==this._workingCopy||void 0!==this._workingCopyGetter},highlighterType:function(){var e=this._name.lastIndexOf("."),t=-1!==e?this._name.substr(e+1):"",i=t.indexOf("?");return-1!==i&&(t=t.substr(0,i)),WebInspector.ResourceType.mimeTypesForExtensions[t.toLowerCase()]||this.contentType().canonicalMimeType()},content:function(){return this._content},searchInContent:function(e,t,i,n){var r=this.content();r?new WebInspector.StaticContentProvider(this.contentType(),r).searchInContent(e,t,i,n):this._project.searchInFileContent(this,e,t,i,n)},_fireContentAvailable:function(e){this._contentLoaded=!0,this._content=e;var t=this._requestContentCallbacks.slice();this._requestContentCallbacks=[];for(var i=0;i<t.length;++i)t[i](e)},contentLoaded:function(){return this._contentLoaded},uiLocationToRawLocation:function(e,t){return this._sourceMapping?this._sourceMapping.uiLocationToRawLocation(this,e,t):null},consoleMessages:function(){return this._consoleMessages},consoleMessageAdded:function(e){this._consoleMessages.push(e),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.ConsoleMessageAdded,e)},consoleMessageRemoved:function(e){this._consoleMessages.remove(e),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.ConsoleMessageRemoved,e)},consoleMessagesCleared:function(){this._consoleMessages=[],this.dispatchEventToListeners(WebInspector.UISourceCode.Events.ConsoleMessagesCleared)},hasSourceMapping:function(){return!!this._sourceMapping},setSourceMapping:function(e){if(this._sourceMapping!==e){this._sourceMapping=e;var t={};t.isIdentity=this._sourceMapping&&this._sourceMapping.isIdentity(),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.SourceMappingChanged,t)}},__proto__:WebInspector.Object.prototype},WebInspector.UILocation=function(e,t,i){this.uiSourceCode=e,this.lineNumber=t,this.columnNumber=i},WebInspector.UILocation.prototype={uiLocationToRawLocation:function(){return this.uiSourceCode.uiLocationToRawLocation(this.lineNumber,this.columnNumber)},url:function(){return this.uiSourceCode.contentURL()},linkText:function(){var e=this.uiSourceCode.displayName();return"number"==typeof this.lineNumber&&(e+=":"+(this.lineNumber+1)),e}},WebInspector.RawLocation=function(){},WebInspector.LiveLocation=function(e,t){this._rawLocation=e,this._updateDelegate=t},WebInspector.LiveLocation.prototype={update:function(){var e=this.uiLocation();e&&this._updateDelegate(e)&&this.dispose()},rawLocation:function(){return this._rawLocation},uiLocation:function(){throw"Not implemented"},dispose:function(){}},WebInspector.Revision=function(e,t,i){this._uiSourceCode=e,this._content=t,this._timestamp=i},WebInspector.Revision._revisionHistoryRegistry=function(){if(!WebInspector.Revision._revisionHistoryRegistryObject)if(Sfdc.hasLocalStorage()){var e=window.localStorage["revision-history"];try{WebInspector.Revision._revisionHistoryRegistryObject=e?JSON.parse(e):{}}catch(e){WebInspector.Revision._revisionHistoryRegistryObject={}}}else WebInspector.Revision._revisionHistoryRegistryObject={};return WebInspector.Revision._revisionHistoryRegistryObject},WebInspector.Revision.filterOutStaleRevisions=function(){if(Sfdc.hasLocalStorage()){var e=WebInspector.Revision._revisionHistoryRegistry(),t={};for(var i in e)for(var n=e[i],r=[],s=0;n&&s<n.length;++s){var o=n[s];o.loaderId===WebInspector.resourceTreeModel.mainFrame.loaderId?(r.push(o),t[i]=r):delete window.localStorage[o.key]}WebInspector.Revision._revisionHistoryRegistryObject=t,setTimeout(function(){window.localStorage["revision-history"]=JSON.stringify(t)},0)}},WebInspector.Revision.prototype={get uiSourceCode(){return this._uiSourceCode},get timestamp(){return this._timestamp},get content(){return this._content||null},revertToThis:function(){this.requestContent(function(e){this._uiSourceCode._content!==e&&this._uiSourceCode.addRevision(e)}.bind(this))},contentURL:function(){return this._uiSourceCode.originURL()},contentType:function(){return this._uiSourceCode.contentType()},requestContent:function(e){e(this._content||"")},searchInContent:function(e,t,i,n){n([])},_persist:function(){if(this._uiSourceCode.project().type()!==WebInspector.projectTypes.FileSystem&&Sfdc.hasLocalStorage()){var e=this.contentURL();if(e&&!e.startsWith("inspector://")){var t=WebInspector.resourceTreeModel.mainFrame.loaderId,i=this.timestamp.getTime(),n="revision-history|"+e+"|"+t+"|"+i,r=WebInspector.Revision._revisionHistoryRegistry(),s=r[e];s||(s=[],r[e]=s),s.push({url:e,loaderId:t,timestamp:i,key:n}),setTimeout(function(){window.localStorage[n]=this._content,window.localStorage["revision-history"]=JSON.stringify(r)}.bind(this),0)}}}},WebInspector.CSSStyleModel=function(e){this._workspace=e,this._pendingCommandsMajorState=[],this._styleLoader=new WebInspector.CSSStyleModel.ComputedStyleLoader(this),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.UndoRedoRequested,this._undoRedoRequested,this),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.UndoRedoCompleted,this._undoRedoCompleted,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,this._mainFrameCreatedOrNavigated,this),InspectorBackend.registerCSSDispatcher(new WebInspector.CSSDispatcher(this)),CSSAgent.enable(this._wasEnabled.bind(this)),this._resetStyleSheets()},WebInspector.CSSStyleModel.parseRuleMatchArrayPayload=function(e){if(!e)return[];for(var t=[],i=0;i<e.length;++i)t.push(WebInspector.CSSRule.parsePayload(e[i].rule,e[i].matchingSelectors));return t},WebInspector.CSSStyleModel.Events={ModelWasEnabled:"ModelWasEnabled",StyleSheetAdded:"StyleSheetAdded",StyleSheetChanged:"StyleSheetChanged",StyleSheetRemoved:"StyleSheetRemoved",MediaQueryResultChanged:"MediaQueryResultChanged"},WebInspector.CSSStyleModel.MediaTypes=["all","braille","embossed","handheld","print","projection","screen","speech","tty","tv"],WebInspector.CSSStyleModel.prototype={isEnabled:function(){return this._isEnabled},_wasEnabled:function(){this._isEnabled=!0,this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.ModelWasEnabled)},getMatchedStylesAsync:function(e,t,i,n){CSSAgent.getMatchedStylesForNode(e,t,i,function(e,t,i,n,r){if(t)e&&e(null);else{var s={};if(s.matchedCSSRules=WebInspector.CSSStyleModel.parseRuleMatchArrayPayload(i),s.pseudoElements=[],n)for(var o=0;o<n.length;++o){var a=n[o];s.pseudoElements.push({pseudoId:a.pseudoId,rules:WebInspector.CSSStyleModel.parseRuleMatchArrayPayload(a.matches)})}if(s.inherited=[],r)for(o=0;o<r.length;++o){var c={};(a=r[o]).inlineStyle&&(c.inlineStyle=WebInspector.CSSStyleDeclaration.parsePayload(a.inlineStyle)),a.matchedCSSRules&&(c.matchedCSSRules=WebInspector.CSSStyleModel.parseRuleMatchArrayPayload(a.matchedCSSRules)),s.inherited.push(c)}e&&e(s)}}.bind(null,n))},getComputedStyleAsync:function(e,t){this._styleLoader.getComputedStyle(e,t)},getPlatformFontsForNode:function(e,t){CSSAgent.getPlatformFontsForNode(e,function(e,i,n){e?t(null,null):t(i,n)})},allStyleSheets:function(){var e=Object.values(this._styleSheetIdToHeader);return e.sort(function(e,t){return e.sourceURL<t.sourceURL?-1:e.sourceURL>t.sourceURL?1:e.startLine-t.startLine||e.startColumn-t.startColumn}),e},getInlineStylesAsync:function(e,t){CSSAgent.getInlineStylesForNode(e,function(e,t,i,n){t||!i?e(null,null):e(WebInspector.CSSStyleDeclaration.parsePayload(i),n?WebInspector.CSSStyleDeclaration.parsePayload(n):null)}.bind(null,t))},forcePseudoState:function(e,t,i){CSSAgent.forcePseudoState(e,t||[],i)},setRuleSelector:function(e,t,i,n,r){this._pendingCommandsMajorState.push(!0),CSSAgent.setRuleSelector(e,i,function(e,t,i,n,r,s){this._pendingCommandsMajorState.pop(),r?i():(WebInspector.domModel.markUndoableState(),this._computeMatchingSelectors(s,e,t,i))}.bind(this,t,n,r,i))},_computeMatchingSelectors:function(e,t,i,n){var r=this._ownerDocumentId(t);if(r){for(var s=WebInspector.CSSRule.parsePayload(e),o=[],a=new CallbackBarrier,c=0;c<s.selectors.length;++c){var l=s.selectors[c],d=a.createCallback(h.bind(null,c,t,o));WebInspector.domModel.querySelectorAll(r,l.value,d)}a.callWhenDone(function(){s.matchingSelectors=o,i(s)})}else n();function h(e,t,i,n){n&&-1!==n.indexOf(t)&&i.push(e)}},addRule:function(e,t,i,n,r){this._pendingCommandsMajorState.push(!0),CSSAgent.addRule(e,i,function(e,i){this._pendingCommandsMajorState.pop(),e?r():(WebInspector.domModel.markUndoableState(),this._computeMatchingSelectors(i,t.id,n,r))}.bind(this))},requestViaInspectorStylesheet:function(e,t){var i=e.frameId()||WebInspector.resourceTreeModel.mainFrame.id;for(var n in this._styleSheetIdToHeader){var r=this._styleSheetIdToHeader[n];if(r.frameId===i&&r.isViaInspector())return void t(r)}CSSAgent.createStyleSheet(i,function(e,i){e&&(console.error(e),t(null)),t(this._styleSheetIdToHeader[i])}.bind(this))},mediaQueryResultChanged:function(){this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.MediaQueryResultChanged)},styleSheetHeaderForId:function(e){return this._styleSheetIdToHeader[e]},styleSheetHeaders:function(){return Object.values(this._styleSheetIdToHeader)},_ownerDocumentId:function(e){var t=WebInspector.domModel.nodeForId(e);return t&&t.ownerDocument?t.ownerDocument.id:null},_fireStyleSheetChanged:function(e){if(this._pendingCommandsMajorState.length){var t=this._pendingCommandsMajorState[this._pendingCommandsMajorState.length-1];e&&this.hasEventListeners(WebInspector.CSSStyleModel.Events.StyleSheetChanged)&&this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.StyleSheetChanged,{styleSheetId:e,majorChange:t})}},_styleSheetAdded:function(e){console.assert(!this._styleSheetIdToHeader[e.styleSheetId]);var t=new WebInspector.CSSStyleSheetHeader(e);this._styleSheetIdToHeader[e.styleSheetId]=t;var i=t.resourceURL();this._styleSheetIdsForURL[i]||(this._styleSheetIdsForURL[i]={});var n=this._styleSheetIdsForURL[i],r=n[t.frameId];r||(r=[],n[t.frameId]=r),r.push(t.id),this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.StyleSheetAdded,t)},_styleSheetRemoved:function(e){var t=this._styleSheetIdToHeader[e];if(console.assert(t),t){delete this._styleSheetIdToHeader[e];var i=t.resourceURL(),n=this._styleSheetIdsForURL[i];n[t.frameId].remove(e),n[t.frameId].length||(delete n[t.frameId],Object.keys(this._styleSheetIdsForURL[i]).length||delete this._styleSheetIdsForURL[i]),this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,t)}},styleSheetIdsForURL:function(e){var t=this._styleSheetIdsForURL[e];if(!t)return[];var i=[];for(var n in t)i=i.concat(t[n]);return i},styleSheetIdsByFrameIdForURL:function(e){return this._styleSheetIdsForURL[e]||{}},setStyleSheetText:function(e,t,i,n){var r=this._styleSheetIdToHeader[e];console.assert(r),this._pendingCommandsMajorState.push(i),r.setContent(t,function(e){this._pendingCommandsMajorState.pop(),!e&&i&&WebInspector.domModel.markUndoableState(),!e&&n&&n(e)}.bind(this))},_undoRedoRequested:function(){this._pendingCommandsMajorState.push(!0)},_undoRedoCompleted:function(){this._pendingCommandsMajorState.pop()},_mainFrameCreatedOrNavigated:function(){this._resetStyleSheets()},_resetStyleSheets:function(){this._styleSheetIdsForURL={},this._styleSheetIdToHeader={}},updateLocations:function(){for(var e=Object.values(this._styleSheetIdToHeader),t=0;t<e.length;++t)e[t].updateLocations()},createLiveLocation:function(e,t,i){if(!t)return null;var n=e?this.styleSheetHeaderForId(e):null;return new WebInspector.CSSStyleModel.LiveLocation(this,n,t,i)},rawLocationToUILocation:function(e){var t=this._styleSheetIdsForURL[e.url];if(!t)return null;var i,n=[];for(var r in t)n=n.concat(t[r]);for(var s=0;!i&&s<n.length;++s){var o=this.styleSheetHeaderForId(n[s]);console.assert(o),i=o.rawLocationToUILocation(e.lineNumber,e.columnNumber)}return i||null},__proto__:WebInspector.Object.prototype},WebInspector.CSSStyleModel.LiveLocation=function(e,t,i,n){WebInspector.LiveLocation.call(this,i,n),this._model=e,t?this._setStyleSheet(t):this._clearStyleSheet()},WebInspector.CSSStyleModel.LiveLocation.prototype={_styleSheetAdded:function(e){console.assert(!this._header);var t=e.data;t.sourceURL&&t.sourceURL===this.rawLocation().url&&this._setStyleSheet(t)},_styleSheetRemoved:function(e){console.assert(this._header);var t=e.data;this._header===t&&(this._header._removeLocation(this),this._clearStyleSheet())},_setStyleSheet:function(e){this._header=e,this._header.addLiveLocation(this),this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._model.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)},_clearStyleSheet:function(){delete this._header,this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this),this._model.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this)},uiLocation:function(){var e=this.rawLocation();if(this._header)return this._header.rawLocationToUILocation(e.lineNumber,e.columnNumber);var t=WebInspector.workspace.uiSourceCodeForURL(e.url);return t?new WebInspector.UILocation(t,e.lineNumber,e.columnNumber):null},dispose:function(){WebInspector.LiveLocation.prototype.dispose.call(this),this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)},__proto__:WebInspector.LiveLocation.prototype},WebInspector.CSSLocation=function(e,t,i){this.url=e,this.lineNumber=t,this.columnNumber=i||0},WebInspector.CSSStyleDeclaration=function(e){this.id=e.styleId,this.width=e.width,this.height=e.height,this.range=e.range,this._shorthandValues=WebInspector.CSSStyleDeclaration.buildShorthandValueMap(e.shorthandEntries),this._livePropertyMap={},this._allProperties=[],this.__disabledProperties={};for(var t=e.cssProperties.length,i=0;i<t;++i){var n=WebInspector.CSSProperty.parsePayload(this,i,e.cssProperties[i]);this._allProperties.push(n)}this._computeActiveProperties();var r=0;for(i=0;i<this._allProperties.length;++i)if((n=this._allProperties[i]).disabled&&(this.__disabledProperties[i]=n),n.active||n.styleBased){var s=n.name;this[r]=s,this._livePropertyMap[s]=n,++r}this.length=r,"cssText"in e&&(this.cssText=e.cssText)},WebInspector.CSSStyleDeclaration.buildShorthandValueMap=function(e){for(var t={},i=0;i<e.length;++i)t[e[i].name]=e[i].value;return t},WebInspector.CSSStyleDeclaration.parsePayload=function(e){return new WebInspector.CSSStyleDeclaration(e)},WebInspector.CSSStyleDeclaration.parseComputedStylePayload=function(e){var t={cssProperties:[],shorthandEntries:[],width:"",height:""};return e&&(t.cssProperties=e),new WebInspector.CSSStyleDeclaration(t)},WebInspector.CSSStyleDeclaration.prototype={_computeActiveProperties:function(){for(var e={},t=this._allProperties.length-1;t>=0;--t)if(!(s=this._allProperties[t]).styleBased&&!s.disabled&&(s._setActive(!1),s.parsedOk)){var i=WebInspector.CSSMetadata.canonicalPropertyName(s.name),n=e[i];(!n||!n.important&&s.important)&&(e[i]=s)}for(var r in e){var s;(s=e[r])._setActive(!0)}},get allProperties(){return this._allProperties},getLiveProperty:function(e){return this._livePropertyMap[e]||null},getPropertyValue:function(e){var t=this._livePropertyMap[e];return t?t.value:""},isPropertyImplicit:function(e){var t=this._livePropertyMap[e];return t?t.implicit:""},longhandProperties:function(e){for(var t=WebInspector.CSSMetadata.cssPropertiesMetainfo.longhands(e),i=[],n=0;t&&n<t.length;++n){var r=this._livePropertyMap[t[n]];r&&i.push(r)}return i},shorthandValue:function(e){return this._shorthandValues[e]},propertyAt:function(e){return e<this.allProperties.length?this.allProperties[e]:null},pastLastSourcePropertyIndex:function(){for(var e=this.allProperties.length-1;e>=0;--e)if(this.allProperties[e].range)return e+1;return 0},newBlankProperty:function(e){e=void 0===e?this.pastLastSourcePropertyIndex():e;var t=new WebInspector.CSSProperty(this,e,"","",!1,!1,!0,!1,"");return t._setActive(!0),t},insertPropertyAt:function(e,t,i,n){if(!this.id)throw"No style id";WebInspector.cssModel._pendingCommandsMajorState.push(!0),CSSAgent.setPropertyText(this.id,e,t+": "+i+";",!1,function(e,t){WebInspector.cssModel._pendingCommandsMajorState.pop(),n&&(e?(console.error(e),n(null)):n(WebInspector.CSSStyleDeclaration.parsePayload(t)))})},appendProperty:function(e,t,i){this.insertPropertyAt(this.allProperties.length,e,t,i)}},WebInspector.CSSRule=function(e,t){this.id=e.ruleId,t&&(this.matchingSelectors=t),this.selectors=e.selectorList.selectors,this.selectorText=this.selectors.select("value").join(", ");var i=this.selectors[0].range;if(i){var n=this.selectors.peekLast().range;this.selectorRange=new WebInspector.TextRange(i.startLine,i.startColumn,n.endLine,n.endColumn)}this.sourceURL=e.sourceURL,this.origin=e.origin,this.style=WebInspector.CSSStyleDeclaration.parsePayload(e.style),this.style.parentRule=this,e.media&&(this.media=WebInspector.CSSMedia.parseMediaArrayPayload(e.media)),this._setRawLocationAndFrameId()},WebInspector.CSSRule.parsePayload=function(e,t){return new WebInspector.CSSRule(e,t)},WebInspector.CSSRule.prototype={_setRawLocationAndFrameId:function(){if(this.id){var e=WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId);this.frameId=e.frameId;var t=e.resourceURL();t&&(this.rawLocation=new WebInspector.CSSLocation(t,this.lineNumberInSource(0),this.columnNumberInSource(0)))}},resourceURL:function(){return this.id?WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId).resourceURL():""},lineNumberInSource:function(e){var t=this.selectors[e];return t&&t.range?WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId).lineNumberInSource(t.range.startLine):0},columnNumberInSource:function(e){var t=this.selectors[e];if(t&&t.range){var i=WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId);return console.assert(i),i.columnNumberInSource(t.range.startLine,t.range.startColumn)}},get isUserAgent(){return"user-agent"===this.origin},get isUser(){return"user"===this.origin},get isViaInspector(){return"inspector"===this.origin},get isRegular(){return"regular"===this.origin}},WebInspector.CSSProperty=function(e,t,i,n,r,s,o,a,c,l){this.ownerStyle=e,this.index=t,this.name=i,this.value=n,this.important=r,this.disabled=s,this.parsedOk=o,this.implicit=a,this.text=c,this.range=l},WebInspector.CSSProperty.parsePayload=function(e,t,i){return new WebInspector.CSSProperty(e,t,i.name,i.value,i.important||!1,i.disabled||!1,!("parsedOk"in i&&!i.parsedOk),!!i.implicit,i.text,i.range)},WebInspector.CSSProperty.prototype={_setActive:function(e){this._active=e},get propertyText(){return void 0!==this.text?this.text:""===this.name?"":this.name+": "+this.value+(this.important?" !important":"")+";"},get isLive(){return this.active||this.styleBased},get active(){return"boolean"==typeof this._active&&this._active},get styleBased(){return!this.range},get inactive(){return"boolean"==typeof this._active&&!this._active},setText:function(e,t,i,n){function r(e){n&&n(e)}if(!this.ownerStyle)throw"No ownerStyle for property";if(!this.ownerStyle.id)throw"No owner style id";WebInspector.cssModel._pendingCommandsMajorState.push(t),CSSAgent.setPropertyText(this.ownerStyle.id,this.index,e,i,function(i,s){if(WebInspector.cssModel._pendingCommandsMajorState.pop(),i)n&&n(null);else{t&&WebInspector.domModel.markUndoableState();var o=WebInspector.CSSStyleDeclaration.parsePayload(s),a=o.allProperties[this.index];if(a&&this.disabled&&!e.match(/^\s*$/))return void a.setDisabled(!1,r);n&&n(o)}}.bind(this))},setValue:function(e,t,i,n){var r=this.name+": "+e+(this.important?" !important":"")+";";this.setText(r,t,i,n)},setDisabled:function(e,t){!this.ownerStyle&&t&&t(null),e!==this.disabled?e?this.setText("/* "+this.text+" */",!0,!0,t):this.setText(this.text.substring(2,this.text.length-2).trim(),!0,!0,t):t&&t(this.ownerStyle)},uiLocation:function(e){if(!this.range||!this.ownerStyle||!this.ownerStyle.parentRule)return null;var t=this.ownerStyle.parentRule.resourceURL();if(!t)return null;var i=this.range,n=e?i.startLine:i.endLine,r=e?i.startColumn:i.endColumn-(this.text&&this.text.endsWith(";")?2:1),s=new WebInspector.CSSLocation(t,n,r);return WebInspector.cssModel.rawLocationToUILocation(s)}},WebInspector.CSSMedia=function(e){this.text=e.text,this.source=e.source,this.sourceURL=e.sourceURL||"",this.range=e.range?WebInspector.TextRange.fromObject(e.range):null,this.parentStyleSheetId=e.parentStyleSheetId},WebInspector.CSSMedia.Source={LINKED_SHEET:"linkedSheet",INLINE_SHEET:"inlineSheet",MEDIA_RULE:"mediaRule",IMPORT_RULE:"importRule"},WebInspector.CSSMedia.parsePayload=function(e){return new WebInspector.CSSMedia(e)},WebInspector.CSSMedia.parseMediaArrayPayload=function(e){for(var t=[],i=0;i<e.length;++i)t.push(WebInspector.CSSMedia.parsePayload(e[i]));return t},WebInspector.CSSMedia.prototype={lineNumberInSource:function(){if(this.range){var e=this.header();if(e)return e.lineNumberInSource(this.range.startLine)}},columnNumberInSource:function(){if(this.range){var e=this.header();if(e)return e.columnNumberInSource(this.range.startLine,this.range.startColumn)}},header:function(){return this.parentStyleSheetId?WebInspector.cssModel.styleSheetHeaderForId(this.parentStyleSheetId):null}},WebInspector.CSSStyleSheetHeader=function(e){this.id=e.styleSheetId,this.frameId=e.frameId,this.sourceURL=e.sourceURL,this.hasSourceURL=!!e.hasSourceURL,this.sourceMapURL=e.sourceMapURL,this.origin=e.origin,this.title=e.title,this.disabled=e.disabled,this.isInline=e.isInline,this.startLine=e.startLine,this.startColumn=e.startColumn,this._locations=new GenericSet,this._sourceMappings=[]},WebInspector.CSSStyleSheetHeader.prototype={resourceURL:function(){return this.isViaInspector()?this._viaInspectorResourceURL():this.sourceURL},addLiveLocation:function(e){this._locations.add(e),e.update()},updateLocations:function(){for(var e=this._locations.items(),t=0;t<e.length;++t)e[t].update()},_removeLocation:function(e){this._locations.remove(e)},rawLocationToUILocation:function(e,t){for(var i=null,n=new WebInspector.CSSLocation(this.resourceURL(),e,t),r=this._sourceMappings.length-1;!i&&r>=0;--r)i=this._sourceMappings[r].rawLocationToUILocation(n);return i},pushSourceMapping:function(e){this._sourceMappings.push(e),this.updateLocations()},_viaInspectorResourceURL:function(){var e=WebInspector.resourceTreeModel.frameForId(this.frameId);console.assert(e);var t=new WebInspector.ParsedURL(e.url),i="inspector://"+t.host+t.folderPathComponents;return i.endsWith("/")||(i+="/"),i+"inspector-stylesheet"},lineNumberInSource:function(e){return this.startLine+e},columnNumberInSource:function(e,t){return(e?0:this.startColumn)+t},contentURL:function(){return this.resourceURL()},contentType:function(){return WebInspector.resourceTypes.Stylesheet},_trimSourceURL:function(e){return e.replace(/\n[\040\t]*\/\*[#@][\040\t]sourceURL=[\040\t]*([^\s]*)[\040\t]*\*\/[\040\t]*$/gm,"")},requestContent:function(e){CSSAgent.getStyleSheetText(this.id,function(t,i){t&&(WebInspector.console.log("Failed to get text for stylesheet "+this.id+": "+t),i=""),i=this._trimSourceURL(i),e(i)}.bind(this))},searchInContent:function(e,t,i,n){this.requestContent(function(r){n(WebInspector.ContentProvider.performSearchInContent(r,e,t,i))})},setContent:function(e,t){e=this._trimSourceURL(e),this.hasSourceURL&&(e+="\n/*# sourceURL="+this.sourceURL+" */"),CSSAgent.setStyleSheetText(this.id,e,t)},isViaInspector:function(){return"inspector"===this.origin}},WebInspector.CSSDispatcher=function(e){this._cssModel=e},WebInspector.CSSDispatcher.prototype={mediaQueryResultChanged:function(){this._cssModel.mediaQueryResultChanged()},styleSheetChanged:function(e){this._cssModel._fireStyleSheetChanged(e)},styleSheetAdded:function(e){this._cssModel._styleSheetAdded(e)},styleSheetRemoved:function(e){this._cssModel._styleSheetRemoved(e)}},WebInspector.CSSStyleModel.ComputedStyleLoader=function(e){this._cssModel=e,this._nodeIdToCallbackData={}},WebInspector.CSSStyleModel.ComputedStyleLoader.prototype={getComputedStyle:function(e,t){this._nodeIdToCallbackData[e]?this._nodeIdToCallbackData[e].push(t):(this._nodeIdToCallbackData[e]=[t],CSSAgent.getComputedStyleForNode(e,function(e,t,i){var n=t||!i?null:WebInspector.CSSStyleDeclaration.parseComputedStylePayload(i),r=this._nodeIdToCallbackData[e];if(r){delete this._nodeIdToCallbackData[e];for(var s=0;s<r.length;++s)r[s](n)}}.bind(this,e)))}},WebInspector.cssModel,WebInspector.CSSParser=function(){this._worker=new Worker("ScriptFormatterWorker.js"),this._worker.onmessage=this._onRuleChunk.bind(this),this._rules=[]},WebInspector.CSSParser.Events={RulesParsed:"RulesParsed"},WebInspector.CSSParser.prototype={fetchAndParse:function(e,t){this._lock(),this._finishedCallback=t,e.requestContent(this._innerParse.bind(this))},parse:function(e,t){this._lock(),this._finishedCallback=t,this._innerParse(e)},dispose:function(){this._worker&&(this._worker.terminate(),delete this._worker)},rules:function(){return this._rules},_lock:function(){console.assert(!this._parsingStyleSheet,"Received request to parse stylesheet before previous was completed."),this._parsingStyleSheet=!0},_unlock:function(){delete this._parsingStyleSheet},_innerParse:function(e){this._rules=[],this._worker.postMessage({method:"parseCSS",params:{content:e}})},_onRuleChunk:function(e){for(var t=e.data,i=t.chunk,n=0;n<i.length;++n)this._rules.push(i[n]);t.isLastChunk&&this._onFinishedParsing(),this.dispatchEventToListeners(WebInspector.CSSParser.Events.RulesParsed)},_onFinishedParsing:function(){this._unlock(),this._finishedCallback&&this._finishedCallback(this._rules)},__proto__:WebInspector.Object.prototype},WebInspector.CSSParser.DataChunk,WebInspector.CSSParser.StyleRule,WebInspector.CSSParser.AtRule,WebInspector.CSSParser.Rule,WebInspector.CSSParser.Property,WebInspector.NetworkManager=function(e){WebInspector.Object.call(this),this._dispatcher=new WebInspector.NetworkDispatcher(this),this._target=e,this._networkAgent=e.networkAgent(),e.registerNetworkDispatcher(this._dispatcher),WebInspector.settings.cacheDisabled.get()&&this._networkAgent.setCacheDisabled(!0),this._networkAgent.enable(),WebInspector.settings.cacheDisabled.addChangeListener(this._cacheDisabledSettingChanged,this)},WebInspector.NetworkManager.EventTypes={RequestStarted:"RequestStarted",RequestUpdated:"RequestUpdated",RequestFinished:"RequestFinished",RequestUpdateDropped:"RequestUpdateDropped"},WebInspector.NetworkManager._MIMETypes={"text/html":{document:!0},"text/xml":{document:!0},"text/plain":{document:!0},"application/xhtml+xml":{document:!0},"text/css":{stylesheet:!0},"text/xsl":{stylesheet:!0},"image/jpg":{image:!0},"image/jpeg":{image:!0},"image/pjpeg":{image:!0},"image/png":{image:!0},"image/gif":{image:!0},"image/bmp":{image:!0},"image/svg+xml":{image:!0,font:!0,document:!0},"image/vnd.microsoft.icon":{image:!0},"image/webp":{image:!0},"image/x-icon":{image:!0},"image/x-xbitmap":{image:!0},"font/ttf":{font:!0},"font/otf":{font:!0},"font/woff":{font:!0},"font/woff2":{font:!0},"font/truetype":{font:!0},"font/opentype":{font:!0},"application/octet-stream":{font:!0,image:!0},"application/font-woff":{font:!0},"application/x-font-woff":{font:!0},"application/x-font-type1":{font:!0},"application/x-font-ttf":{font:!0},"application/x-truetype-font":{font:!0},"text/javascript":{script:!0},"text/ecmascript":{script:!0},"application/javascript":{script:!0},"application/ecmascript":{script:!0},"application/x-javascript":{script:!0},"application/json":{script:!0},"text/javascript1.1":{script:!0},"text/javascript1.2":{script:!0},"text/javascript1.3":{script:!0},"text/jscript":{script:!0},"text/livescript":{script:!0}},WebInspector.NetworkManager.prototype={inflightRequestForURL:function(e){return this._dispatcher._inflightRequestsByURL[e]},_cacheDisabledSettingChanged:function(e){var t=e.data;this._networkAgent.setCacheDisabled(t)},__proto__:WebInspector.Object.prototype},WebInspector.NetworkDispatcher=function(e){this._manager=e,this._inflightRequestsById={},this._inflightRequestsByURL={}},WebInspector.NetworkDispatcher.prototype={_headersMapToHeadersArray:function(e){var t=[];for(var i in e)for(var n=e[i].split("\n"),r=0;r<n.length;++r)t.push({name:i,value:n[r]});return t},_updateNetworkRequestWithRequest:function(e,t){e.requestMethod=t.method,e.setRequestHeaders(this._headersMapToHeadersArray(t.headers)),e.requestFormData=t.postData},_updateNetworkRequestWithResponse:function(e,t){t&&(t.url&&e.url!==t.url&&(e.url=t.url),e.mimeType=t.mimeType,e.statusCode=t.status,e.statusText=t.statusText,e.responseHeaders=this._headersMapToHeadersArray(t.headers),t.encodedDataLength>=0&&e.setTransferSize(t.encodedDataLength),t.headersText&&(e.responseHeadersText=t.headersText),t.requestHeaders&&(e.setRequestHeaders(this._headersMapToHeadersArray(t.requestHeaders)),e.setRequestHeadersText(t.requestHeadersText||"")),e.connectionReused=t.connectionReused,e.connectionId=t.connectionId,t.remoteIPAddress&&e.setRemoteAddress(t.remoteIPAddress,t.remotePort||-1),t.fromDiskCache?e.cached=!0:e.timing=t.timing,this._mimeTypeIsConsistentWithType(e)||this._manager._target.consoleModel.addMessage(new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.Network,WebInspector.ConsoleMessage.MessageLevel.Log,WebInspector.UIString('Resource interpreted as %s but transferred with MIME type %s: "%s".',e.type.title(),e.mimeType,e.url),WebInspector.ConsoleMessage.MessageType.Log,"",0,0,e.requestId)))},_mimeTypeIsConsistentWithType:function(e){return!(!e.hasErrorStatusCode()&&304!==e.statusCode&&204!==e.statusCode)||void 0===e.type||e.type===WebInspector.resourceTypes.Other||e.type===WebInspector.resourceTypes.XHR||e.type===WebInspector.resourceTypes.WebSocket||!e.mimeType||e.mimeType in WebInspector.NetworkManager._MIMETypes&&e.type.name()in WebInspector.NetworkManager._MIMETypes[e.mimeType]},_isNull:function(e){return!e||!(e.status||e.mimeType||e.headers&&Object.keys(e.headers).length)},requestWillBeSent:function(e,t,i,n,r,s,o,a){var c=this._inflightRequestsById[e];if(c){if(!a)return;this.responseReceived(e,t,i,s,PageAgent.ResourceType.Other,a),c=this._appendRedirect(e,s,r.url)}else c=this._createNetworkRequest(e,t,i,r.url,n,o);c.hasNetworkData=!0,this._updateNetworkRequestWithRequest(c,r),c.startTime=s,this._startNetworkRequest(c)},requestServedFromCache:function(e){var t=this._inflightRequestsById[e];t&&(t.cached=!0)},responseReceived:function(e,t,i,n,r,s){if(!this._isNull(s)){var o=this._inflightRequestsById[e];if(!o){var a={};return a.url=s.url,a.frameId=t,a.loaderId=i,a.resourceType=r,a.mimeType=s.mimeType,void this._manager.dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestUpdateDropped,a)}o.responseReceivedTime=n,o.type=WebInspector.resourceTypes[r],this._updateNetworkRequestWithResponse(o,s),this._updateNetworkRequest(o)}},dataReceived:function(e,t,i,n){var r=this._inflightRequestsById[e];r&&(r.resourceSize+=i,-1!=n&&r.increaseTransferSize(n),r.endTime=t,this._updateNetworkRequest(r))},loadingFinished:function(e,t,i){var n=this._inflightRequestsById[e];n&&this._finishNetworkRequest(n,t,i)},loadingFailed:function(e,t,i,n){var r=this._inflightRequestsById[e];r&&(r.failed=!0,r.canceled=n,r.localizedFailDescription=i,this._finishNetworkRequest(r,t,-1))},webSocketCreated:function(e,t){var i=new WebInspector.NetworkRequest(e,t,"","","");i.type=WebInspector.resourceTypes.WebSocket,this._startNetworkRequest(i)},webSocketWillSendHandshakeRequest:function(e,t,i){var n=this._inflightRequestsById[e];n&&(n.requestMethod="GET",n.setRequestHeaders(this._headersMapToHeadersArray(i.headers)),n.startTime=t,this._updateNetworkRequest(n))},webSocketHandshakeResponseReceived:function(e,t,i){var n=this._inflightRequestsById[e];n&&(n.statusCode=i.status,n.statusText=i.statusText,n.responseHeaders=this._headersMapToHeadersArray(i.headers),n.responseHeadersText=i.headersText,i.requestHeaders&&n.setRequestHeaders(this._headersMapToHeadersArray(i.requestHeaders)),i.requestHeadersText&&n.setRequestHeadersText(i.requestHeadersText),n.responseReceivedTime=t,this._updateNetworkRequest(n))},webSocketFrameReceived:function(e,t,i){var n=this._inflightRequestsById[e];n&&(n.addFrame(i,t),n.responseReceivedTime=t,this._updateNetworkRequest(n))},webSocketFrameSent:function(e,t,i){var n=this._inflightRequestsById[e];n&&(n.addFrame(i,t,!0),n.responseReceivedTime=t,this._updateNetworkRequest(n))},webSocketFrameError:function(e,t,i){var n=this._inflightRequestsById[e];n&&(n.addFrameError(i,t),n.responseReceivedTime=t,this._updateNetworkRequest(n))},webSocketClosed:function(e,t){var i=this._inflightRequestsById[e];i&&this._finishNetworkRequest(i,t,-1)},_appendRedirect:function(e,t,i){var n=this._inflightRequestsById[e],r=n.redirects||[];n.requestId="redirected:"+e+"."+r.length,delete n.redirects,r.length>0&&(n.redirectSource=r[r.length-1]),this._finishNetworkRequest(n,t,-1);var s=this._createNetworkRequest(e,n.frameId,n.loaderId,i,n.documentURL,n.initiator);return s.redirects=r.concat(n),s},_startNetworkRequest:function(e){this._inflightRequestsById[e.requestId]=e,this._inflightRequestsByURL[e.url]=e,this._dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestStarted,e)},_updateNetworkRequest:function(e){this._dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestUpdated,e)},_finishNetworkRequest:function(e,t,i){e.endTime=t,e.finished=!0,i>=0&&e.setTransferSize(i),this._dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestFinished,e),delete this._inflightRequestsById[e.requestId],delete this._inflightRequestsByURL[e.url]},_dispatchEventToListeners:function(e,t){this._manager.dispatchEventToListeners(e,t)},_createNetworkRequest:function(e,t,i,n,r,s){var o=new WebInspector.NetworkRequest(e,n,r,t,i);return o.initiator=s,o}},WebInspector.networkManager,WebInspector.NetworkLog=function(){this._requests=[],this._requestForId={},WebInspector.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestStarted,this._onRequestStarted,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._onMainFrameNavigated,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.Load,this._onLoad,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.DOMContentLoaded,this._onDOMContentLoaded,this)},WebInspector.NetworkLog.prototype={get requests(){return this._requests},requestForURL:function(e){for(var t=0;t<this._requests.length;++t)if(this._requests[t].url===e)return this._requests[t];return null},pageLoadForRequest:function(e){return e.__page},_onMainFrameNavigated:function(e){var t=e.data;this._currentPageLoad=null;var i=this._requests.splice(0,this._requests.length);this._requestForId={};for(var n=0;n<i.length;++n){var r=i[n];r.loaderId===t.loaderId&&(this._currentPageLoad||(this._currentPageLoad=new WebInspector.PageLoad(r)),this._requests.push(r),this._requestForId[r.requestId]=r,r.__page=this._currentPageLoad)}},_onRequestStarted:function(e){var t=e.data;this._requests.push(t),this._requestForId[t.requestId]=t,t.__page=this._currentPageLoad},_onDOMContentLoaded:function(e){this._currentPageLoad&&(this._currentPageLoad.contentLoadTime=e.data)},_onLoad:function(e){this._currentPageLoad&&(this._currentPageLoad.loadTime=e.data)},requestForId:function(e){return this._requestForId[e]}},WebInspector.networkLog,WebInspector.PageLoad=function(e){this.id=++WebInspector.PageLoad._lastIdentifier,this.url=e.url,this.startTime=e.startTime},WebInspector.PageLoad._lastIdentifier=0,WebInspector.ResourceTreeModel=function(e){e.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestFinished,this._onRequestFinished,this),e.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestUpdateDropped,this._onRequestUpdateDropped,this),e.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._consoleMessageAdded,this),e.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this),this._agent=e.pageAgent(),this._agent.enable(),this._fetchResourceTree(),e.registerPageDispatcher(new WebInspector.PageDispatcher(this)),this._pendingConsoleMessages={},this._securityOriginFrameCount={},this._inspectedPageURL=""},WebInspector.ResourceTreeModel.EventTypes={FrameAdded:"FrameAdded",FrameNavigated:"FrameNavigated",FrameDetached:"FrameDetached",FrameResized:"FrameResized",MainFrameNavigated:"MainFrameNavigated",MainFrameCreatedOrNavigated:"MainFrameCreatedOrNavigated",ResourceAdded:"ResourceAdded",WillLoadCachedResources:"WillLoadCachedResources",CachedResourcesLoaded:"CachedResourcesLoaded",DOMContentLoaded:"DOMContentLoaded",Load:"Load",WillReloadPage:"WillReloadPage",InspectedURLChanged:"InspectedURLChanged",SecurityOriginAdded:"SecurityOriginAdded",SecurityOriginRemoved:"SecurityOriginRemoved",ScreencastFrame:"ScreencastFrame",ScreencastVisibilityChanged:"ScreencastVisibilityChanged"},WebInspector.ResourceTreeModel.prototype={_fetchResourceTree:function(){this._frames={},delete this._cachedResourcesProcessed,this._agent.getResourceTree(this._processCachedResources.bind(this))},_processCachedResources:function(e,t){e?console.error(JSON.stringify(e)):(this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.WillLoadCachedResources),this._addFramesRecursively(null,t),this._dispatchInspectedURLChanged(),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded),this._cachedResourcesProcessed=!0)},inspectedPageURL:function(){return this._inspectedPageURL},inspectedPageDomain:function(){var e=this._inspectedPageURL?this._inspectedPageURL.asParsedURL():null;return e?e.host:""},cachedResourcesLoaded:function(){return this._cachedResourcesProcessed},_dispatchInspectedURLChanged:function(){InspectorFrontendHost.inspectedURLChanged(this._inspectedPageURL),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._inspectedPageURL)},_addFrame:function(e,t){this._frames[e.id]=e,e.isMainFrame()&&(this.mainFrame=e),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameAdded,e),t||this._addSecurityOrigin(e.securityOrigin),e.isMainFrame()&&this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,e)},_addSecurityOrigin:function(e){if(!this._securityOriginFrameCount[e])return this._securityOriginFrameCount[e]=1,void this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,e);this._securityOriginFrameCount[e]+=1},_removeSecurityOrigin:function(e){if(void 0!==e)return 1===this._securityOriginFrameCount[e]?(delete this._securityOriginFrameCount[e],void this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,e)):void(this._securityOriginFrameCount[e]-=1)},securityOrigins:function(){return Object.keys(this._securityOriginFrameCount)},_handleMainFrameDetached:function(e){(function e(t){for(var i=0;i<t.childFrames.length;++i)e.call(this,t.childFrames[i]);t.isMainFrame()||this._removeSecurityOrigin(t.securityOrigin)}).call(this,WebInspector.resourceTreeModel.mainFrame)},_frameAttached:function(e,t){if(!this._cachedResourcesProcessed)return null;if(this._frames[e])return null;var i=t?this._frames[t]:null,n=new WebInspector.ResourceTreeFrame(this,i,e);return n.isMainFrame()&&this.mainFrame&&(this._handleMainFrameDetached(this.mainFrame),this._frameDetached(this.mainFrame.id)),this._addFrame(n,!0),n},_frameNavigated:function(e){if(this._cachedResourcesProcessed){var t=this._frames[e.id];t||(console.assert(!e.parentId,"Main frame shouldn't have parent frame id."),t=this._frameAttached(e.id,e.parentId||""),console.assert(t)),this._removeSecurityOrigin(t.securityOrigin),t._navigate(e);var i=t.securityOrigin;t.isMainFrame()&&(this._inspectedPageURL=t.url),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,t),t.isMainFrame()&&(this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,t),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,t)),i&&this._addSecurityOrigin(i);for(var n=t.resources(),r=0;r<n.length;++r)this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,n[r]);t.isMainFrame()&&this._dispatchInspectedURLChanged()}},_frameDetached:function(e){if(this._cachedResourcesProcessed){var t=this._frames[e];t&&(this._removeSecurityOrigin(t.securityOrigin),t.parentFrame?t.parentFrame._removeChildFrame(t):t._remove())}},_onRequestFinished:function(e){if(this._cachedResourcesProcessed){var t=e.data;if(!t.failed&&t.type!==WebInspector.resourceTypes.XHR){var i=this._frames[t.frameId];if(i){var n=i._addRequest(t);this._addPendingConsoleMessagesToResource(n)}}}},_onRequestUpdateDropped:function(e){if(this._cachedResourcesProcessed){var t=e.data.frameId,i=this._frames[t];if(i){var n=e.data.url;if(!i._resourcesMap[n]){var r=new WebInspector.Resource(null,n,i.url,t,e.data.loaderId,WebInspector.resourceTypes[e.data.resourceType],e.data.mimeType);i.addResource(r)}}}},frameForId:function(e){return this._frames[e]},forAllResources:function(e){return!!this.mainFrame&&this.mainFrame._callForFrameResources(e)},frames:function(){return Object.values(this._frames)},_consoleMessageAdded:function(e){var t=e.data,i=t.url?this.resourceForURL(t.url):null;i?this._addConsoleMessageToResource(t,i):this._addPendingConsoleMessage(t)},_addPendingConsoleMessage:function(e){e.url&&(this._pendingConsoleMessages[e.url]||(this._pendingConsoleMessages[e.url]=[]),this._pendingConsoleMessages[e.url].push(e))},_addPendingConsoleMessagesToResource:function(e){var t=this._pendingConsoleMessages[e.url];if(t){for(var i=0;i<t.length;i++)this._addConsoleMessageToResource(t[i],e);delete this._pendingConsoleMessages[e.url]}},_addConsoleMessageToResource:function(e,t){switch(e.level){case WebInspector.ConsoleMessage.MessageLevel.Warning:t.warnings++;break;case WebInspector.ConsoleMessage.MessageLevel.Error:t.errors++}t.addMessage(e)},_consoleCleared:function(){this._pendingConsoleMessages={},this.forAllResources(function(e){e.clearErrorsAndWarnings()})},resourceForURL:function(e){return this.mainFrame?this.mainFrame.resourceForURL(e):null},_addFramesRecursively:function(e,t){},_createResourceFromFramePayload:function(e,t,i,n){return new WebInspector.Resource(null,t,e.url,e.id,e.loaderId,i,n)},reloadPage:function(e,t,i){this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.WillReloadPage),this._agent.reload(e,t,i)},__proto__:WebInspector.Object.prototype},WebInspector.ResourceTreeFrame=function(e,t,i,n){this._model=e,this._parentFrame=t,this._id=i,this._url="",n&&(this._loaderId=n.loaderId,this._name=n.name,this._url=n.url,this._securityOrigin=n.securityOrigin,this._mimeType=n.mimeType),this._childFrames=[],this._resourcesMap={},this._parentFrame&&this._parentFrame._childFrames.push(this)},WebInspector.ResourceTreeFrame.prototype={get id(){return this._id},get name(){return this._name||""},get url(){return this._url},get securityOrigin(){return this._securityOrigin},get loaderId(){return this._loaderId},get parentFrame(){return this._parentFrame},get childFrames(){return this._childFrames},isMainFrame:function(){return!this._parentFrame},_navigate:function(e){this._loaderId=e.loaderId,this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._mimeType=e.mimeType;var t=this._resourcesMap[this._url];this._resourcesMap={},this._removeChildFrames(),t&&t.loaderId===this._loaderId&&this.addResource(t)},get mainResource(){return this._resourcesMap[this._url]},_removeChildFrame:function(e){this._childFrames.remove(e),e._remove()},_removeChildFrames:function(){var e=this._childFrames;this._childFrames=[];for(var t=0;t<e.length;++t)e[t]._remove()},_remove:function(){this._removeChildFrames(),delete this._model._frames[this.id],this._model.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this)},addResource:function(e){this._resourcesMap[e.url]!==e&&(this._resourcesMap[e.url]=e,this._model.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,e))},_addRequest:function(e){var t=this._resourcesMap[e.url];return t&&t.request===e?t:(t=new WebInspector.Resource(e,e.url,e.documentURL,e.frameId,e.loaderId,e.type,e.mimeType),this._resourcesMap[t.url]=t,this._model.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,t),t)},resources:function(){var e=[];for(var t in this._resourcesMap)e.push(this._resourcesMap[t]);return e},resourceForURL:function(e){var t;return this._callForFrameResources(function(i){if(i.url===e)return t=i,!0}),t||null},_callForFrameResources:function(e){for(var t in this._resourcesMap)if(e(this._resourcesMap[t]))return!0;for(var i=0;i<this._childFrames.length;++i)if(this._childFrames[i]._callForFrameResources(e))return!0;return!1},displayName:function(){if(!this._parentFrame)return WebInspector.UIString("<top frame>");var e=new WebInspector.ParsedURL(this._url).displayName;return e?this._name?this._name+"( "+e+" )":e:WebInspector.UIString("<iframe>")}},WebInspector.PageDispatcher=function(e){this._resourceTreeModel=e},WebInspector.PageDispatcher.prototype={domContentEventFired:function(e){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.DOMContentLoaded,e)},loadEventFired:function(e){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.Load,e)},frameAttached:function(e,t){this._resourceTreeModel._frameAttached(e,t)},frameNavigated:function(e){this._resourceTreeModel._frameNavigated(e)},frameDetached:function(e){this._resourceTreeModel._frameDetached(e)},frameStartedLoading:function(e){},frameStoppedLoading:function(e){},frameScheduledNavigation:function(e,t){},frameClearedScheduledNavigation:function(e){},frameResized:function(){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameResized,null)},javascriptDialogOpening:function(e){},javascriptDialogClosed:function(){},scriptsEnabled:function(e){WebInspector.settings.javaScriptDisabled.set(!e)},screencastFrame:function(e,t){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ScreencastFrame,{data:e,metadata:t})},screencastVisibilityChanged:function(e){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ScreencastVisibilityChanged,{visible:e})}},WebInspector.resourceTreeModel,WebInspector.ParsedURL=function(e){this.isValid=!1,this.url=e,this.scheme="",this.host="",this.port="",this.path="",this.queryParams="",this.fragment="",this.folderPathComponents="",this.lastPathComponent="";var t=e.match(/^([A-Za-z][A-Za-z0-9+.-]*):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i);if(t)this.isValid=!0,this.scheme=t[1].toLowerCase(),this.host=t[2],this.port=t[3],this.path=t[4]||"/",this.fragment=t[5];else{if(this.url.startsWith("data:"))return void(this.scheme="data");if("about:blank"===this.url)return void(this.scheme="about");this.path=this.url}var i=this.path,n=i.indexOf("?");-1!==n&&(this.queryParams=i.substring(n+1),i=i.substring(0,n));var r=i.lastIndexOf("/");-1!==r?(this.folderPathComponents=i.substring(0,r),this.lastPathComponent=i.substring(r+1)):this.lastPathComponent=i},WebInspector.ParsedURL.splitURL=function(e){var t,i,n,r=new WebInspector.ParsedURL(e);r.isValid?(t=r.scheme+"://"+r.host,r.port&&(t+=":"+r.port),i=r.folderPathComponents,n=r.lastPathComponent,r.queryParams&&(n+="?"+r.queryParams)):(t="",i="",n=e);for(var s=[t],o=i.split("/"),a=1;a<o.length;++a)s.push(o[a]);return s.push(n),s},WebInspector.ParsedURL.normalizePath=function(e){if(-1===e.indexOf("..")&&-1===e.indexOf("."))return e;for(var t=[],i=e.split("/"),n=0;n<i.length;n++){var r=i[n];"."!==r&&(".."===r?t.pop():r&&t.push(r))}var s=t.join("/");return"/"===s[s.length-1]?s:("/"===e[0]&&s&&(s="/"+s),"/"!==e[e.length-1]&&"."!==i[i.length-1]&&".."!==i[i.length-1]||(s+="/"),s)},WebInspector.ParsedURL.completeURL=function(e,t){if(!t)return e;var i=t.trim();if(i.startsWith("data:")||i.startsWith("blob:")||i.startsWith("javascript:"))return t;var n=i.asParsedURL();if(n&&n.scheme)return i;var r=e.asParsedURL();if(r){if(r.isDataURL())return t;var s=t,o=s.indexOf("?"),a="";if(-1!==o)a=s.substring(o),s=s.substring(0,o);else{var c=s.indexOf("#");-1!==c&&(a=s.substring(c),s=s.substring(0,c))}if(!s){var l=r.path;if("?"===a.charAt(0)){var d=r.path.indexOf("?");-1!==d&&(l=l.substring(0,d))}return r.scheme+"://"+r.host+(r.port?":"+r.port:"")+l+a}if("/"!==s.charAt(0)){var h=r.path,p=h.indexOf("?");-1!==p&&(h=h.substring(0,p)),s=(h=h.substring(0,h.lastIndexOf("/"))+"/")+s}else if(s.length>1&&"/"===s.charAt(1))return r.scheme+":"+s+a;return r.scheme+"://"+r.host+(r.port?":"+r.port:"")+WebInspector.ParsedURL.normalizePath(s)+a}return null},WebInspector.ParsedURL.prototype={get displayName(){return this._displayName?this._displayName:this.isDataURL()?this.dataURLDisplayName():this.isAboutBlank()?this.url:(this._displayName=this.lastPathComponent,this._displayName||(this._displayName=(this.host||"")+"/"),"/"===this._displayName&&(this._displayName=this.url),this._displayName)},dataURLDisplayName:function(){return this._dataURLDisplayName?this._dataURLDisplayName:this.isDataURL()?(this._dataURLDisplayName=this.url.trimEnd(20),this._dataURLDisplayName):""},isAboutBlank:function(){return"about:blank"===this.url},isDataURL:function(){return"data"===this.scheme}},String.prototype.asParsedURL=function(){var e=new WebInspector.ParsedURL(this.toString());return e.isValid?e:null},WebInspector.resourceForURL=function(e){return WebInspector.resourceTreeModel.resourceForURL(e)},WebInspector.forAllResources=function(e){WebInspector.resourceTreeModel.forAllResources(e)},WebInspector.displayNameForURL=function(e){if(!e)return"";var t=WebInspector.resourceForURL(e);if(t)return t.displayName;var i=WebInspector.workspace.uiSourceCodeForURL(e);if(i)return i.displayName();if(!WebInspector.resourceTreeModel.inspectedPageURL())return e.trimURL("");var n=WebInspector.resourceTreeModel.inspectedPageURL().asParsedURL(),r=n?n.lastPathComponent:n,s=WebInspector.resourceTreeModel.inspectedPageURL().indexOf(r);if(-1!==s&&s+r.length===WebInspector.resourceTreeModel.inspectedPageURL().length){var o=WebInspector.resourceTreeModel.inspectedPageURL().substring(0,s);if(e.startsWith(o))return e.substring(s)}if(!n)return e;var a=e.trimURL(n.host);return"/"===a?n.host+"/":a},WebInspector.linkifyStringAsFragmentWithCustomLinkifier=function(e,t){for(var i=document.createDocumentFragment(),n=/(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\/\/|data:|www\.)[\w$\-_+*'=\|\/\\(){}[\]^%@&#~,:;.!?]{2,}[\w$\-_+*=\|\/\\({^%@&#~]/,r=/:(\d+)(:(\d+))?$/;e;){var s=n.exec(e);if(!s)break;s=s[0];var o=e.indexOf(s),a=e.substring(0,o);i.appendChild(document.createTextNode(a));var c,l,d=s,h=s.startsWith("www.")?"http://"+s:s,p=r.exec(h);p&&(h=h.substring(0,h.length-p[0].length),c=parseInt(p[1],10),c=isNaN(c)?void 0:c-1,"string"==typeof p[3]&&(l=parseInt(p[3],10),l=isNaN(l)?void 0:l-1));var u=t(d,h,c,l);i.appendChild(u),e=e.substring(o+s.length,e.length)}return e&&i.appendChild(document.createTextNode(e)),i},WebInspector.linkifyStringAsFragment=function(e){return WebInspector.linkifyStringAsFragmentWithCustomLinkifier(e,function(e,t,i,n){var r=!WebInspector.resourceForURL(t)&&!WebInspector.workspace.uiSourceCodeForURL(t),s=WebInspector.linkifyURLAsNode(t,e,void 0,r);return void 0!==i&&(s.lineNumber=i,void 0!==n&&(s.columnNumber=n)),s})},WebInspector.linkifyURLAsNode=function(e,t,i,n,r){t||(t=e),i=i?i+" ":"",i+=n?"webkit-html-external-link":"webkit-html-resource-link";var s=document.createElement("a"),o=sanitizeHref(e);return null!==o&&(s.href=o),s.className=i,void 0===r?s.title=e:("string"!=typeof r||r.length)&&(s.title=r),s.textContent=t.trimMiddle(WebInspector.Linkifier.MaxLengthForDisplayedURLs),n&&s.setAttribute("target","_blank"),s},WebInspector.formatLinkText=function(e,t){var i=e?WebInspector.displayNameForURL(e):WebInspector.UIString("(program)");return"number"==typeof t&&(i+=":"+(t+1)),i},WebInspector.linkifyResourceAsNode=function(e,t,i,n){var r=WebInspector.formatLinkText(e,t),s=WebInspector.linkifyURLAsNode(e,r,i,!1,n);return s.lineNumber=t,s},WebInspector.linkifyRequestAsNode=function(e){var t=WebInspector.linkifyURLAsNode(e.url);return t.requestId=e.requestId,t},WebInspector.contentAsDataURL=function(e,t,i){return null===e||e.length>1048576?null:"data:"+t+(i?";base64,":",")+e},WebInspector.ResourceType=function(e,t,i,n,r){this._name=e,this._title=t,this._categoryTitle=i,this._color=n,this._isTextType=r},WebInspector.ResourceType.prototype={name:function(){return this._name},title:function(){return this._title},categoryTitle:function(){return this._categoryTitle},color:function(){return this._color},isTextType:function(){return this._isTextType},toString:function(){return this._name},canonicalMimeType:function(){return this===WebInspector.resourceTypes.Document?"text/html":this===WebInspector.resourceTypes.Script?"text/javascript":this===WebInspector.resourceTypes.Stylesheet?"text/css":""}},WebInspector.resourceTypes={Document:new WebInspector.ResourceType("document","Document","Documents","rgb(47,102,236)",!0),Stylesheet:new WebInspector.ResourceType("stylesheet","Stylesheet","Stylesheets","rgb(157,231,119)",!0),Image:new WebInspector.ResourceType("image","Image","Images","rgb(164,60,255)",!1),Script:new WebInspector.ResourceType("script","Script","Scripts","rgb(255,121,0)",!0),XHR:new WebInspector.ResourceType("xhr","XHR","XHR","rgb(231,231,10)",!0),Font:new WebInspector.ResourceType("font","Font","Fonts","rgb(255,82,62)",!1),WebSocket:new WebInspector.ResourceType("websocket","WebSocket","WebSockets","rgb(186,186,186)",!1),Other:new WebInspector.ResourceType("other","Other","Other","rgb(186,186,186)",!1)},WebInspector.ResourceType.mimeTypesForExtensions={js:"text/javascript",css:"text/css",html:"text/html",htm:"text/html",xml:"application/xml",xsl:"application/xml",asp:"application/x-aspx",aspx:"application/x-aspx",jsp:"application/x-jsp",c:"text/x-c++src",cc:"text/x-c++src",cpp:"text/x-c++src",h:"text/x-c++src",m:"text/x-c++src",mm:"text/x-c++src",coffee:"text/x-coffeescript",dart:"text/javascript",ts:"text/typescript",json:"application/json",gyp:"application/json",gypi:"application/json",cs:"text/x-csharp",java:"text/x-java",php:"text/x-php",phtml:"application/x-httpd-php",py:"text/x-python",sh:"text/x-sh",scss:"text/x-scss"},WebInspector.TimelineManager=function(){WebInspector.Object.call(this),this._dispatcher=new WebInspector.TimelineDispatcher(this),this._enablementCount=0,TimelineAgent.enable()},WebInspector.TimelineManager.EventTypes={TimelineStarted:"TimelineStarted",TimelineStopped:"TimelineStopped",TimelineEventRecorded:"TimelineEventRecorded",TimelineProgress:"TimelineProgress"},WebInspector.TimelineManager.prototype={isStarted:function(){return this._dispatcher.isStarted()},start:function(e,t,i,n,r,s){this._enablementCount++,1===this._enablementCount?TimelineAgent.start(e,t,i,n,r,s):s&&s(null)},stop:function(e){this._enablementCount--,this._enablementCount<0?console.error("WebInspector.TimelineManager start/stop calls are unbalanced "+(new Error).stack):this._enablementCount?e&&e(null):TimelineAgent.stop(e)},__proto__:WebInspector.Object.prototype},WebInspector.TimelineDispatcher=function(e){this._manager=e,InspectorBackend.registerTimelineDispatcher(this)},WebInspector.TimelineDispatcher.prototype={eventRecorded:function(e){this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineEventRecorded,e)},isStarted:function(){return!!this._started},started:function(e){e&&WebInspector.moduleManager.loadModule("timeline"),this._started=!0,this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineStarted,e)},stopped:function(e){this._started=!1,this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineStopped,e)},progress:function(e){this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineProgress,e)}},WebInspector.timelineManager,WebInspector.PowerProfiler=function(){WebInspector.Object.call(this),this._dispatcher=new WebInspector.PowerDispatcher(this)},WebInspector.PowerProfiler.EventTypes={PowerEventRecorded:"PowerEventRecorded"},WebInspector.PowerProfiler.prototype={startProfile:function(){PowerAgent.start()},stopProfile:function(){PowerAgent.end()},__proto__:WebInspector.Object.prototype},WebInspector.PowerDispatcher=function(e){this._profiler=e,InspectorBackend.registerPowerDispatcher(this)},WebInspector.PowerDispatcher.prototype={dataAvailable:function(e){for(var t=0;t<e.length;++t)this._profiler.dispatchEventToListeners(WebInspector.PowerProfiler.EventTypes.PowerEventRecorded,e[t])}},WebInspector.powerProfiler,WebInspector.OverridesSupport=function(){WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._onMainFrameNavigated.bind(this),this),this._deviceMetricsOverrideEnabled=!1,this._emulateViewportEnabled=!1,this._userAgent="",this.maybeHasActiveOverridesChanged(),WebInspector.settings.overrideUserAgent.addChangeListener(this._userAgentChanged,this),WebInspector.settings.userAgent.addChangeListener(this._userAgentChanged,this),WebInspector.settings.overrideDeviceMetrics.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.deviceMetrics.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.emulateViewport.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.deviceFitWindow.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.overrideGeolocation.addChangeListener(this._geolocationPositionChanged,this),WebInspector.settings.geolocationOverride.addChangeListener(this._geolocationPositionChanged,this),WebInspector.settings.overrideDeviceOrientation.addChangeListener(this._deviceOrientationChanged,this),WebInspector.settings.deviceOrientationOverride.addChangeListener(this._deviceOrientationChanged,this),WebInspector.settings.emulateTouchEvents.addChangeListener(this._emulateTouchEventsChanged,this),WebInspector.settings.overrideCSSMedia.addChangeListener(this._cssMediaChanged,this),WebInspector.settings.emulatedCSSMedia.addChangeListener(this._cssMediaChanged,this)},WebInspector.OverridesSupport.isInspectingDevice=function(){return!!WebInspector.queryParam("remoteFrontend")},WebInspector.OverridesSupport.Events={OverridesWarningUpdated:"OverridesWarningUpdated",HasActiveOverridesChanged:"HasActiveOverridesChanged"},WebInspector.OverridesSupport.DeviceMetrics=function(e,t,i,n){this.width=e,this.height=t,this.deviceScaleFactor=i,this.textAutosizing=n},WebInspector.OverridesSupport.DeviceMetrics.parseSetting=function(e){var t=0,i=0,n=1,r=!0;if(e){var s=e.split("x");s.length>=3&&(t=parseInt(s[0],10),i=parseInt(s[1],10),n=parseFloat(s[2]),4==s.length&&(r=1==s[3]))}return new WebInspector.OverridesSupport.DeviceMetrics(t,i,n,r)},WebInspector.OverridesSupport.DeviceMetrics.parseUserInput=function(e,t,i,n){function r(e,t){return!e||(t?/^[0]*[1-9][\d]*$/.test(e):/^[0]*([1-9][\d]*(\.\d+)?|\.\d+)$/.test(e))}if(!e^!t)return null;var s=r(e,!0),o=r(t,!0),a=r(i,!1);if(!s&&!o&&!a)return null;var c=s?parseInt(e||"0",10):-1,l=o?parseInt(t||"0",10):-1,d=a?parseFloat(i):-1;return new WebInspector.OverridesSupport.DeviceMetrics(c,l,d,n)},WebInspector.OverridesSupport.DeviceMetrics.prototype={isValid:function(){return this.isWidthValid()&&this.isHeightValid()&&this.isDeviceScaleFactorValid()},isWidthValid:function(){return this.width>=0},isHeightValid:function(){return this.height>=0},isDeviceScaleFactorValid:function(){return this.deviceScaleFactor>0},toSetting:function(){return this.isValid()&&this.width&&this.height?this.width+"x"+this.height+"x"+this.deviceScaleFactor+"x"+(this.textAutosizing?"1":"0"):""},widthToInput:function(){return this.isWidthValid()&&this.width?String(this.width):""},heightToInput:function(){return this.isHeightValid()&&this.height?String(this.height):""},deviceScaleFactorToInput:function(){return this.isDeviceScaleFactorValid()&&this.deviceScaleFactor?String(this.deviceScaleFactor):""},fontScaleFactor:function(){if(this.isValid()){var e=Math.min(this.width,this.height)/this.deviceScaleFactor;return e<=320?1.05:e>=800?1.3:(e-320)/480*.25+1.05}return 1}},WebInspector.OverridesSupport.GeolocationPosition=function(e,t,i){this.latitude=e,this.longitude=t,this.error=i},WebInspector.OverridesSupport.GeolocationPosition.prototype={toSetting:function(){return"number"==typeof this.latitude&&"number"==typeof this.longitude&&"string"==typeof this.error?this.latitude+"@"+this.longitude+":"+this.error:""}},WebInspector.OverridesSupport.GeolocationPosition.parseSetting=function(e){if(e){var t=e.split(":");if(2===t.length){var i=t[0].split("@");if(2===i.length)return new WebInspector.OverridesSupport.GeolocationPosition(parseFloat(i[0]),parseFloat(i[1]),t[1])}}return new WebInspector.OverridesSupport.GeolocationPosition(0,0,"")},WebInspector.OverridesSupport.GeolocationPosition.parseUserInput=function(e,t,i){function n(e){return!e||/^[-]?[0-9]*[.]?[0-9]*$/.test(e)}if(!e^!e)return null;var r=n(e),s=n(t);if(!r&&!s)return null;var o=r?parseFloat(e):-1,a=s?parseFloat(t):-1;return new WebInspector.OverridesSupport.GeolocationPosition(o,a,i?"PositionUnavailable":"")},WebInspector.OverridesSupport.GeolocationPosition.clearGeolocationOverride=function(){GeolocationAgent.clearGeolocationOverride()},WebInspector.OverridesSupport.DeviceOrientation=function(e,t,i){this.alpha=e,this.beta=t,this.gamma=i},WebInspector.OverridesSupport.DeviceOrientation.prototype={toSetting:function(){return JSON.stringify(this)}},WebInspector.OverridesSupport.DeviceOrientation.parseSetting=function(e){if(e){var t=JSON.parse(e);return new WebInspector.OverridesSupport.DeviceOrientation(t.alpha,t.beta,t.gamma)}return new WebInspector.OverridesSupport.DeviceOrientation(0,0,0)},WebInspector.OverridesSupport.DeviceOrientation.parseUserInput=function(e,t,i){function n(e){return!e||/^[-]?[0-9]*[.]?[0-9]*$/.test(e)}if(!e^!t^!i)return null;var r=n(e),s=n(t),o=n(i);if(!r&&!s&&!o)return null;var a=r?parseFloat(e):-1,c=s?parseFloat(t):-1,l=o?parseFloat(i):-1;return new WebInspector.OverridesSupport.DeviceOrientation(a,c,l)},WebInspector.OverridesSupport.DeviceOrientation.clearDeviceOrientationOverride=function(){PageAgent.clearDeviceOrientationOverride()},WebInspector.OverridesSupport.prototype={emulateDevice:function(e,t){this._deviceMetricsChangedListenerMuted=!0,this._userAgentChangedListenerMuted=!0,WebInspector.settings.deviceMetrics.set(e),WebInspector.settings.userAgent.set(t),WebInspector.settings.overrideDeviceMetrics.set(!0),WebInspector.settings.overrideUserAgent.set(!0),WebInspector.settings.emulateTouchEvents.set(!0),WebInspector.settings.emulateViewport.set(!0),delete this._deviceMetricsChangedListenerMuted,delete this._userAgentChangedListenerMuted,this._deviceMetricsChanged(),this._userAgentChanged()},reset:function(){this._deviceMetricsChangedListenerMuted=!0,this._userAgentChangedListenerMuted=!0,WebInspector.settings.overrideDeviceMetrics.set(!1),WebInspector.settings.overrideUserAgent.set(!1),WebInspector.settings.emulateTouchEvents.set(!1),WebInspector.settings.overrideDeviceOrientation.set(!1),WebInspector.settings.overrideGeolocation.set(!1),WebInspector.settings.overrideCSSMedia.set(!1),WebInspector.settings.emulateViewport.set(!1),WebInspector.settings.deviceMetrics.set(""),delete this._deviceMetricsChangedListenerMuted,delete this._userAgentChangedListenerMuted,this._deviceMetricsChanged(),this._userAgentChanged()},applyInitialOverrides:function(){WebInspector.settings.overrideDeviceOrientation.get()&&this._deviceOrientationChanged(),WebInspector.settings.overrideGeolocation.get()&&this._geolocationPositionChanged(),WebInspector.settings.emulateTouchEvents.get()&&this._emulateTouchEventsChanged(),WebInspector.settings.overrideCSSMedia.get()&&this._cssMediaChanged(),WebInspector.settings.overrideDeviceMetrics.get()&&this._deviceMetricsChanged(),WebInspector.settings.overrideUserAgent.get()&&this._userAgentChanged()},_userAgentChanged:function(){if(!WebInspector.OverridesSupport.isInspectingDevice()&&!this._userAgentChangedListenerMuted){var e=WebInspector.settings.overrideUserAgent.get()?WebInspector.settings.userAgent.get():"";NetworkAgent.setUserAgentOverride(e),this._updateUserAgentWarningMessage(this._userAgent!==e?WebInspector.UIString("You might need to reload the page for proper user agent spoofing and viewport rendering."):""),this._userAgent=e,this.maybeHasActiveOverridesChanged()}},_deviceMetricsChanged:function(){if(!this._deviceMetricsChangedListenerMuted){var e=WebInspector.OverridesSupport.DeviceMetrics.parseSetting(WebInspector.settings.overrideDeviceMetrics.get()?WebInspector.settings.deviceMetrics.get():"");if(e.isValid()){var t=Math.round(e.width/e.deviceScaleFactor),i=Math.round(e.height/e.deviceScaleFactor),n=!(!t||!i);n&&WebInspector.OverridesSupport.isInspectingDevice()?this._updateDeviceMetricsWarningMessage(WebInspector.UIString("Screen emulation on the device is not available.")):(PageAgent.setDeviceMetricsOverride(t,i,n?e.deviceScaleFactor:0,WebInspector.settings.emulateViewport.get(),WebInspector.settings.deviceFitWindow.get(),e.textAutosizing,e.fontScaleFactor(),function(e){if(e)this._updateDeviceMetricsWarningMessage(WebInspector.UIString("Screen emulation is not available on this page."));else{var t=WebInspector.settings.emulateViewport.get();this._updateDeviceMetricsWarningMessage(this._deviceMetricsOverrideEnabled!==n||n&&this._emulateViewportEnabled!=t?WebInspector.UIString("You might need to reload the page for proper user agent spoofing and viewport rendering."):""),this._deviceMetricsOverrideEnabled=n,this._emulateViewportEnabled=t,this._deviceMetricsOverrideAppliedForTest()}}.bind(this)),this.maybeHasActiveOverridesChanged())}}},_deviceMetricsOverrideAppliedForTest:function(){},_geolocationPositionChanged:function(){if(WebInspector.settings.overrideGeolocation.get()){var e=WebInspector.OverridesSupport.GeolocationPosition.parseSetting(WebInspector.settings.geolocationOverride.get());e.error?GeolocationAgent.setGeolocationOverride():GeolocationAgent.setGeolocationOverride(e.latitude,e.longitude,150),this.maybeHasActiveOverridesChanged()}else GeolocationAgent.clearGeolocationOverride()},_deviceOrientationChanged:function(){if(WebInspector.settings.overrideDeviceOrientation.get()){var e=WebInspector.OverridesSupport.DeviceOrientation.parseSetting(WebInspector.settings.deviceOrientationOverride.get());PageAgent.setDeviceOrientationOverride(e.alpha,e.beta,e.gamma),this.maybeHasActiveOverridesChanged()}else PageAgent.clearDeviceOrientationOverride()},_emulateTouchEventsChanged:function(){WebInspector.OverridesSupport.isInspectingDevice()&&WebInspector.settings.emulateTouchEvents.get()||(WebInspector.domModel.emulateTouchEventObjects(WebInspector.settings.emulateTouchEvents.get()),this.maybeHasActiveOverridesChanged())},_cssMediaChanged:function(){PageAgent.setEmulatedMedia(WebInspector.settings.overrideCSSMedia.get()?WebInspector.settings.emulatedCSSMedia.get():""),WebInspector.cssModel.mediaQueryResultChanged(),this.maybeHasActiveOverridesChanged()},hasActiveOverrides:function(){return this._hasActiveOverrides},maybeHasActiveOverridesChanged:function(){var e=WebInspector.settings.overrideUserAgent.get()||WebInspector.settings.overrideDeviceMetrics.get()||WebInspector.settings.overrideGeolocation.get()||WebInspector.settings.overrideDeviceOrientation.get()||WebInspector.settings.emulateTouchEvents.get()||WebInspector.settings.overrideCSSMedia.get();this._hasActiveOverrides!==e&&(this._hasActiveOverrides=e,this.dispatchEventToListeners(WebInspector.OverridesSupport.Events.HasActiveOverridesChanged))},_onMainFrameNavigated:function(){this._deviceMetricsChanged(),this._updateUserAgentWarningMessage("")},_updateDeviceMetricsWarningMessage:function(e){this._deviceMetricsWarningMessage=e,this.dispatchEventToListeners(WebInspector.OverridesSupport.Events.OverridesWarningUpdated)},_updateUserAgentWarningMessage:function(e){this._userAgentWarningMessage=e,this.dispatchEventToListeners(WebInspector.OverridesSupport.Events.OverridesWarningUpdated)},warningMessage:function(){return this._deviceMetricsWarningMessage||this._userAgentWarningMessage||""},__proto__:WebInspector.Object.prototype},WebInspector.overridesSupport,WebInspector.Database=function(e,t,i,n,r){this._model=e,this._id=t,this._domain=i,this._name=n,this._version=r},WebInspector.Database.prototype={get id(){return this._id},get name(){return this._name},set name(e){this._name=e},get version(){return this._version},set version(e){this._version=e},get domain(){return this._domain},set domain(e){this._domain=e},getTableNames:function(e){DatabaseAgent.getDatabaseTableNames(this._id,function(t,i){t||e(i.sort())})},executeSql:function(e,t,i){DatabaseAgent.executeSQL(this._id,e,function(e,n,r,s){if(e)i(e);else{var o;if(s)return o=s.message?s.message:2==s.code?WebInspector.UIString("Database no longer has expected version."):WebInspector.UIString("An unexpected error %s occurred.",s.code),void i(o);t(n,r)}})}},WebInspector.DatabaseModel=function(){this._databases=[],InspectorBackend.registerDatabaseDispatcher(new WebInspector.DatabaseDispatcher(this)),DatabaseAgent.enable()},WebInspector.DatabaseModel.Events={DatabaseAdded:"DatabaseAdded"},WebInspector.DatabaseModel.prototype={databases:function(){var e=[];for(var t in this._databases)e.push(this._databases[t]);return e},databaseForId:function(e){return this._databases[e]},_addDatabase:function(e){this._databases.push(e),this.dispatchEventToListeners(WebInspector.DatabaseModel.Events.DatabaseAdded,e)},__proto__:WebInspector.Object.prototype},WebInspector.DatabaseDispatcher=function(e){this._model=e},WebInspector.DatabaseDispatcher.prototype={addDatabase:function(e){this._model._addDatabase(new WebInspector.Database(this._model,e.id,e.domain,e.name,e.version))}},WebInspector.databaseModel,WebInspector.DOMStorage=function(e,t){this._securityOrigin=e,this._isLocalStorage=t},WebInspector.DOMStorage.storageId=function(e,t){return{securityOrigin:e,isLocalStorage:t}},WebInspector.DOMStorage.Events={DOMStorageItemsCleared:"DOMStorageItemsCleared",DOMStorageItemRemoved:"DOMStorageItemRemoved",DOMStorageItemAdded:"DOMStorageItemAdded",DOMStorageItemUpdated:"DOMStorageItemUpdated"},WebInspector.DOMStorage.prototype={get id(){return WebInspector.DOMStorage.storageId(this._securityOrigin,this._isLocalStorage)},get securityOrigin(){return this._securityOrigin},get isLocalStorage(){return this._isLocalStorage},getItems:function(e){DOMStorageAgent.getDOMStorageItems(this.id,e)},setItem:function(e,t){DOMStorageAgent.setDOMStorageItem(this.id,e,t)},removeItem:function(e){DOMStorageAgent.removeDOMStorageItem(this.id,e)},__proto__:WebInspector.Object.prototype},WebInspector.DOMStorageModel=function(){this._storages={},InspectorBackend.registerDOMStorageDispatcher(new WebInspector.DOMStorageDispatcher(this)),DOMStorageAgent.enable(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,this._securityOriginAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,this._securityOriginRemoved,this)},WebInspector.DOMStorageModel.Events={DOMStorageAdded:"DOMStorageAdded",DOMStorageRemoved:"DOMStorageRemoved"},WebInspector.DOMStorageModel.prototype={_securityOriginAdded:function(e){var t=e.data,i=this._storageKey(t,!0);console.assert(!this._storages[i]);var n=new WebInspector.DOMStorage(t,!0);this._storages[i]=n,this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageAdded,n);var r=this._storageKey(t,!1);console.assert(!this._storages[r]);var s=new WebInspector.DOMStorage(t,!1);this._storages[r]=s,this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageAdded,s)},_securityOriginRemoved:function(e){var t=e.data,i=this._storageKey(t,!0),n=this._storages[i];console.assert(n),delete this._storages[i],this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageRemoved,n);var r=this._storageKey(t,!1),s=this._storages[r];console.assert(s),delete this._storages[r],this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageRemoved,s)},_storageKey:function(e,t){return JSON.stringify(WebInspector.DOMStorage.storageId(e,t))},_domStorageItemsCleared:function(e){var t=this.storageForId(e);t&&t.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemsCleared,{})},_domStorageItemRemoved:function(e,t){var i=this.storageForId(e);if(i){var n={key:t};i.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemRemoved,n)}},_domStorageItemAdded:function(e,t,i){var n=this.storageForId(e);if(n){var r={key:t,value:i};n.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemAdded,r)}},_domStorageItemUpdated:function(e,t,i,n){var r=this.storageForId(e);if(r){var s={key:t,oldValue:i,value:n};r.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemUpdated,s)}},storageForId:function(e){return this._storages[JSON.stringify(e)]},storages:function(){var e=[];for(var t in this._storages)e.push(this._storages[t]);return e},__proto__:WebInspector.Object.prototype},WebInspector.DOMStorageDispatcher=function(e){this._model=e},WebInspector.DOMStorageDispatcher.prototype={domStorageItemsCleared:function(e){this._model._domStorageItemsCleared(e)},domStorageItemRemoved:function(e,t){this._model._domStorageItemRemoved(e,t)},domStorageItemAdded:function(e,t,i){this._model._domStorageItemAdded(e,t,i)},domStorageItemUpdated:function(e,t,i,n){this._model._domStorageItemUpdated(e,t,i,n)}},WebInspector.domStorageModel,WebInspector.DataGrid=function(e,t,i,n,r){WebInspector.View.call(this),this.registerRequiredCSS("dataGrid.css"),this.element.className="data-grid",this.element.tabIndex=0,this.element.addEventListener("keydown",this._keyDown.bind(this),!1),this._headerTable=document.createElement("table"),this._headerTable.className="header",this._headerTableHeaders={},this._dataTable=document.createElement("table"),this._dataTable.className="data",this._dataTable.addEventListener("mousedown",this._mouseDownInDataTable.bind(this),!0),this._dataTable.addEventListener("click",this._clickInDataTable.bind(this),!0),this._dataTable.addEventListener("contextmenu",this._contextMenuInDataTable.bind(this),!0),t&&this._dataTable.addEventListener("dblclick",this._ondblclick.bind(this),!1),this._editCallback=t,this._deleteCallback=i,this._refreshCallback=n,this._contextMenuCallback=r,this._scrollContainer=document.createElement("div"),this._scrollContainer.className="data-container",this._scrollContainer.appendChild(this._dataTable),this.element.appendChild(this._headerTable),this.element.appendChild(this._scrollContainer);var s=document.createElement("tr"),o=document.createElement("colgroup");o.span=e.length;var a=document.createElement("tr");a.className="filler",this._columnsArray=e,this.columns={};for(var c=0;c<e.length;++c){var l=e[c];l.ordinal=c;var d=l.identifier=l.id||c;this.columns[d]=l,l.disclosure&&(this.disclosureColumnIdentifier=d);var h=document.createElement("col");l.width&&(h.style.width=l.width),l.element=h,o.appendChild(h);var p=document.createElement("th");p.className=d+"-column",p.columnIdentifier=d,this._headerTableHeaders[d]=p;var u=document.createElement("div");l.titleDOMFragment?u.appendChild(l.titleDOMFragment):u.textContent=l.title,p.appendChild(u),l.sort&&(p.classList.add("sort-"+l.sort),this._sortColumnCell=p),l.sortable&&(p.addEventListener("click",this._clickInHeaderCell.bind(this),!1),p.classList.add("sortable")),s.appendChild(p),a.createChild("td",d+"-column")}s.createChild("th","corner"),a.createChild("td","corner"),o.createChild("col","corner"),this._headerTableColumnGroup=o,this._headerTable.appendChild(this._headerTableColumnGroup),this.headerTableBody.appendChild(s),this._dataTableColumnGroup=o.cloneNode(!0),this._dataTable.appendChild(this._dataTableColumnGroup),this.dataTableBody.appendChild(a),this.selectedNode=null,this.expandNodesWhenArrowing=!1,this.setRootNode(new WebInspector.DataGridNode),this.indentWidth=15,this.resizers=[],this._columnWidthsInitialized=!1},WebInspector.DataGrid.ColumnDescriptor,WebInspector.DataGrid.Events={SelectedNode:"SelectedNode",DeselectedNode:"DeselectedNode",SortingChanged:"SortingChanged",ColumnsResized:"ColumnsResized"},WebInspector.DataGrid.Order={Ascending:"ascending",Descending:"descending"},WebInspector.DataGrid.Align={Center:"center",Right:"right"},WebInspector.DataGrid.createSortableDataGrid=function(e,t){var i=e.length;if(!i)return null;for(var n=[],r=0;r<e.length;++r)n.push({title:e[r],width:e[r].length,sortable:!0});var s=[];for(r=0;r<t.length/i;++r){for(var o={},a=0;a<e.length;++a)o[a]=t[i*r+a];var c=new WebInspector.DataGridNode(o,!1);c.selectable=!1,s.push(c)}var l=new WebInspector.DataGrid(n),d=s.length;for(r=0;r<d;++r)l.rootNode().appendChild(s[r]);return l.addEventListener(WebInspector.DataGrid.Events.SortingChanged,function(){for(var e=l._rootNode.children.slice(),t=l.sortColumnIdentifier(),i=l.isSortOrderAscending()?1:-1,n=!0,r=0;r<e.length;r++){var s=e[r].data[t];if(s=s instanceof Node?Number(s.textContent):Number(s),isNaN(s)){n=!1;break}}e.sort(function(e,r){var s,o=e.data[t],a=r.data[t];if(o=o instanceof Node?o.textContent:String(o),a=a instanceof Node?a.textContent:String(a),n){var c=parseFloat(o),l=parseFloat(a);s=c<l?-1:c>l?1:0}else s=o<a?-1:o>a?1:0;return i*s}),l.rootNode().removeChildren();for(r=0;r<e.length;r++)l._rootNode.appendChild(e[r])}),l},WebInspector.DataGrid.prototype={setRootNode:function(e){this._rootNode&&(this._rootNode.removeChildren(),this._rootNode.dataGrid=null,this._rootNode._isRoot=!1),this._rootNode=e,e._isRoot=!0,e.hasChildren=!1,e._expanded=!0,e._revealed=!0,e.dataGrid=this},rootNode:function(){return this._rootNode},_ondblclick:function(e){if(!this._editing&&!this._editingNode){var t=this.columnIdentifierFromNode(e.target);t&&this.columns[t].editable&&this._startEditing(e.target)}},_startEditingColumnOfDataGridNode:function(e,t){this._editing=!0,this._editingNode=e,this._editingNode.select();var i=this._editingNode._element.children[t];WebInspector.InplaceEditor.startEditing(i,this._startEditingConfig(i)),window.getSelection().setBaseAndExtent(i,0,i,1)},_startEditing:function(e){var t=e.enclosingNodeOrSelfWithNodeName("td");if(t){if(this._editingNode=this.dataGridNodeFromNode(e),!this._editingNode){if(!this.creationNode)return;this._editingNode=this.creationNode}if(this._editingNode.isCreationNode)return this._startEditingColumnOfDataGridNode(this._editingNode,this._nextEditableColumn(-1));this._editing=!0,WebInspector.InplaceEditor.startEditing(t,this._startEditingConfig(t)),window.getSelection().setBaseAndExtent(t,0,t,1)}},renderInline:function(){this.element.classList.add("inline")},_startEditingConfig:function(e){return new WebInspector.InplaceEditor.Config(this._editingCommitted.bind(this),this._editingCancelled.bind(this),e.textContent)},_editingCommitted:function(e,t,i,n,r){var s=this.columnIdentifierFromNode(e);if(s){var o=this.columns[s].ordinal,a=this._editingNode.data[s],c=this._editingNode;if(a==t)return this._editingCancelled(e),void l.call(this,!1);this._editingNode.data[s]=t,this._editCallback(this._editingNode,s,a,t),this._editingNode.isCreationNode&&this.addCreationNode(!1),this._editingCancelled(e),l.call(this,!0)}else this._editingCancelled(e);function l(e){if(r){if("forward"===r){var t=this._nextEditableColumn(-1);if(c.isCreationNode&&o===t&&!e)return;var i=this._nextEditableColumn(o);return-1!==i?this._startEditingColumnOfDataGridNode(c,i):(s=c.traverseNextNode(!0,null,!0))?this._startEditingColumnOfDataGridNode(s,t):c.isCreationNode&&e?(this.addCreationNode(!1),this._startEditingColumnOfDataGridNode(this.creationNode,t)):void 0}if("backward"===r){var n=this._nextEditableColumn(o,!0);if(-1!==n)return this._startEditingColumnOfDataGridNode(c,n);var s,a=this._nextEditableColumn(this._columnsArray.length,!0);return(s=c.traversePreviousNode(!0,!0))?this._startEditingColumnOfDataGridNode(s,a):void 0}}}},_editingCancelled:function(e){delete this._editing,this._editingNode=null},_nextEditableColumn:function(e,t){for(var i=t?-1:1,n=this._columnsArray,r=e+i;r>=0&&r<n.length;r+=i)if(n[r].editable)return r;return-1},sortColumnIdentifier:function(){return this._sortColumnCell?this._sortColumnCell.columnIdentifier:null},sortOrder:function(){return!this._sortColumnCell||this._sortColumnCell.classList.contains("sort-ascending")?WebInspector.DataGrid.Order.Ascending:this._sortColumnCell.classList.contains("sort-descending")?WebInspector.DataGrid.Order.Descending:null},isSortOrderAscending:function(){return!this._sortColumnCell||this._sortColumnCell.classList.contains("sort-ascending")},get headerTableBody(){return"_headerTableBody"in this?this._headerTableBody:(this._headerTableBody=this._headerTable.getElementsByTagName("tbody")[0],this._headerTableBody||(this._headerTableBody=this.element.ownerDocument.createElement("tbody"),this._headerTable.insertBefore(this._headerTableBody,this._headerTable.tFoot)),this._headerTableBody)},get dataTableBody(){return"_dataTableBody"in this?this._dataTableBody:(this._dataTableBody=this._dataTable.getElementsByTagName("tbody")[0],this._dataTableBody||(this._dataTableBody=this.element.ownerDocument.createElement("tbody"),this._dataTable.insertBefore(this._dataTableBody,this._dataTable.tFoot)),this._dataTableBody)},_autoSizeWidths:function(e,t,i){t&&(t=Math.min(t,Math.floor(100/e.length)));for(var n=0,r=0;r<e.length;++r)n+=e[r];var s=0;for(r=0;r<e.length;++r){var o=Math.round(100*e[r]/n);t&&o<t?o=t:i&&o>i&&(o=i),s+=o,e[r]=o}for(var a=s-100;t&&a>0;)for(r=0;r<e.length&&(!(e[r]>t)||(--e[r],--a));++r);for(;i&&a<0;)for(r=0;r<e.length&&(!(e[r]<i)||(++e[r],++a));++r);return e},autoSizeColumns:function(e,t,i){for(var n=[],r=0;r<this._columnsArray.length;++r)n.push((this._columnsArray[r].title||"").length);i=i||0;var s=this._enumerateChildren(this._rootNode,[],i+1);for(r=0;r<s.length;++r)for(var o=s[r],a=0;a<this._columnsArray.length;++a){var c=o.data[this._columnsArray[a].identifier]||"";c.length>n[a]&&(n[a]=c.length)}for(n=this._autoSizeWidths(n,e,t),r=0;r<this._columnsArray.length;++r)this._columnsArray[r].element.style.width=n[r]+"%";this._columnWidthsInitialized=!1,this.updateWidths()},_enumerateChildren:function(e,t,i){if(e._isRoot||t.push(e),i){for(var n=0;n<e.children.length;++n)this._enumerateChildren(e.children[n],t,i-1);return t}},onResize:function(){this.updateWidths()},updateWidths:function(){var e=this._headerTableColumnGroup.children,t=this._dataTable.offsetWidth,i=e.length-1;if(!this._columnWidthsInitialized&&this.element.offsetWidth){for(var n=0;n<i;n++){var r=100*this.headerTableBody.rows[0].cells[n].offsetWidth/t+"%";this._headerTableColumnGroup.children[n].style.width=r,this._dataTableColumnGroup.children[n].style.width=r}this._columnWidthsInitialized=!0}this._positionResizers(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},setName:function(e){this._columnWeightsSetting=WebInspector.settings.createSetting("dataGrid-"+e+"-columnWeights",{}),this._loadColumnWeights()},_loadColumnWeights:function(){if(this._columnWeightsSetting){for(var e=this._columnWeightsSetting.get(),t=0;t<this._columnsArray.length;++t){var i=this._columnsArray[t],n=e[i.identifier];n&&(i.weight=n)}this.applyColumnWeights()}},_saveColumnWeights:function(){if(this._columnWeightsSetting){for(var e={},t=0;t<this._columnsArray.length;++t){var i=this._columnsArray[t];e[i.identifier]=i.weight}this._columnWeightsSetting.set(e)}},wasShown:function(){this._loadColumnWeights()},applyColumnWeights:function(){for(var e=0,t=0;t<this._columnsArray.length;++t){var i=this._columnsArray[t];this.isColumnVisible(i)&&(e+=i.weight)}for(t=0;t<this._columnsArray.length;++t){i=this._columnsArray[t];var n=this.isColumnVisible(i)?100*i.weight/e+"%":"0%";this._headerTableColumnGroup.children[t].style.width=n,this._dataTableColumnGroup.children[t].style.width=n}this._positionResizers(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},isColumnVisible:function(e){return!e.hidden},setColumnVisible:function(e,t){t!==!this.columns[e].hidden&&(this.columns[e].hidden=!t,this.element.classList.toggle("hide-"+e+"-column",!t))},get scrollContainer(){return this._scrollContainer},isScrolledToLastRow:function(){return this._scrollContainer.isScrolledToBottom()},scrollToLastRow:function(){this._scrollContainer.scrollTop=this._scrollContainer.scrollHeight-this._scrollContainer.offsetHeight},_positionResizers:function(){for(var e=this._headerTableColumnGroup.children.length-1,t=[],i=null,n=0;n<e-1;n++)t[n]=(t[n-1]||0)+this.headerTableBody.rows[0].cells[n].offsetWidth;for(n=0;n<e-1;n++){var r=this.resizers[n];r||((r=document.createElement("div")).classList.add("data-grid-resizer"),WebInspector.installDragHandle(r,this._startResizerDragging.bind(this),this._resizerDragging.bind(this),this._endResizerDragging.bind(this),"col-resize"),this.element.appendChild(r),this.resizers[n]=r),this._columnsArray[n].hidden?(i&&i._position!==t[n]&&(i._position=t[n],i.style.left=t[n]+"px"),"none"!==r.style.getPropertyValue("display")&&r.style.setProperty("display","none"),r.leftNeighboringColumnIndex=0,r.rightNeighboringColumnIndex=0):(r.style.removeProperty("display"),r._position!==t[n]&&(r._position=t[n],r.style.left=t[n]+"px"),r.leftNeighboringColumnIndex=n,i&&(i.rightNeighboringColumnIndex=n),i=r)}i&&(i.rightNeighboringColumnIndex=e-1)},addCreationNode:function(e){this.creationNode&&this.creationNode.makeNormal();var t={};for(var i in this.columns)t[i]=null;this.creationNode=new WebInspector.CreationDataGridNode(t,e),this.rootNode().appendChild(this.creationNode)},sortNodes:function(e,t){var i=this.dataTableBody,n=i.parentElement;n.removeChild(i);var r=i.childNodes,s=r[r.length-1],o=Array.prototype.slice.call(r,0,r.length-1);o.sort(function(i,n){if(i._dataGridNode._data.summaryRow)return 1;if(n._dataGridNode._data.summaryRow)return-1;var r=i._dataGridNode,s=n._dataGridNode;return t?e(s,r):e(r,s)});var a=o.length;i.removeChildren();for(var c=null,l=0;l<a;++l){var d=o[l],h=d._dataGridNode;h.previousSibling=c,c&&(c.nextSibling=h),i.appendChild(d),c=h}c&&(c.nextSibling=null),i.appendChild(s),n.appendChild(i)},_keyDown:function(e){if(!(!this.selectedNode||e.shiftKey||e.metaKey||e.ctrlKey||this._editing)){var t,i=!1;if("Up"!==e.keyIdentifier||e.altKey)if("Down"!==e.keyIdentifier||e.altKey)"Left"===e.keyIdentifier?this.selectedNode.expanded?(e.altKey?this.selectedNode.collapseRecursively():this.selectedNode.collapse(),i=!0):this.selectedNode.parent&&!this.selectedNode.parent._isRoot&&(i=!0,this.selectedNode.parent.selectable?i=!!(t=this.selectedNode.parent):this.selectedNode.parent&&this.selectedNode.parent.collapse()):"Right"===e.keyIdentifier?this.selectedNode.revealed?this.selectedNode.hasChildren&&(i=!0,this.selectedNode.expanded?i=!!(t=this.selectedNode.children[0]):e.altKey?this.selectedNode.expandRecursively():this.selectedNode.expand()):(this.selectedNode.reveal(),i=!0):8===e.keyCode||46===e.keyCode?this._deleteCallback&&(i=!0,this._deleteCallback(this.selectedNode),this.changeNodeAfterDeletion()):isEnterKey(e)&&this._editCallback&&(i=!0,this._startEditing(this.selectedNode._element.children[this._nextEditableColumn(-1)]));else{for(t=this.selectedNode.traverseNextNode(!0);t&&!t.selectable;)t=t.traverseNextNode(!0);i=!!t}else{for(t=this.selectedNode.traversePreviousNode(!0);t&&!t.selectable;)t=t.traversePreviousNode(!0);i=!!t}t&&(t.reveal(),t.select()),i&&e.consume(!0)}},changeNodeAfterDeletion:function(){for(var e=this.selectedNode.traverseNextNode(!0);e&&!e.selectable;)e=e.traverseNextNode(!0);if(!e||e.isCreationNode)for(e=this.selectedNode.traversePreviousNode(!0);e&&!e.selectable;)e=e.traversePreviousNode(!0);e&&(e.reveal(),e.select())},dataGridNodeFromNode:function(e){var t=e.enclosingNodeOrSelfWithNodeName("tr");return t&&t._dataGridNode},columnIdentifierFromNode:function(e){var t=e.enclosingNodeOrSelfWithNodeName("td");return t&&t.columnIdentifier_},_clickInHeaderCell:function(e){var t=e.target.enclosingNodeOrSelfWithNodeName("th");if(t&&void 0!==t.columnIdentifier&&t.classList.contains("sortable")){var i=WebInspector.DataGrid.Order.Ascending;t===this._sortColumnCell&&this.isSortOrderAscending()&&(i=WebInspector.DataGrid.Order.Descending),this._sortColumnCell&&this._sortColumnCell.removeMatchingStyleClasses("sort-\\w+"),this._sortColumnCell=t,t.classList.add("sort-"+i),this.dispatchEventToListeners(WebInspector.DataGrid.Events.SortingChanged)}},markColumnAsSortedBy:function(e,t){this._sortColumnCell&&this._sortColumnCell.removeMatchingStyleClasses("sort-\\w+"),this._sortColumnCell=this._headerTableHeaders[e],this._sortColumnCell.classList.add("sort-"+t)},headerTableHeader:function(e){return this._headerTableHeaders[e]},_mouseDownInDataTable:function(e){var t=this.dataGridNodeFromNode(e.target);t&&t.selectable&&(t.isEventWithinDisclosureTriangle(e)||(e.metaKey&&t.selected?t.deselect():t.select()))},_contextMenuInDataTable:function(e){var t=new WebInspector.ContextMenu(e),i=this.dataGridNodeFromNode(e.target);if(!this._refreshCallback||i&&i===this.creationNode||t.appendItem(WebInspector.UIString("Refresh"),this._refreshCallback.bind(this)),i&&i.selectable&&!i.isEventWithinDisclosureTriangle(e)){if(this._editCallback)if(i===this.creationNode)t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Add new":"Add New"),this._startEditing.bind(this,e.target));else{var n=this.columnIdentifierFromNode(e.target);n&&this.columns[n].editable&&t.appendItem(WebInspector.UIString('Edit "%s"',this.columns[n].title),this._startEditing.bind(this,e.target))}this._deleteCallback&&i!==this.creationNode&&t.appendItem(WebInspector.UIString("Delete"),this._deleteCallback.bind(this,i)),this._contextMenuCallback&&this._contextMenuCallback(t,i)}t.show()},_clickInDataTable:function(e){var t=this.dataGridNodeFromNode(e.target);t&&t.hasChildren&&t.isEventWithinDisclosureTriangle(e)&&(t.expanded?e.altKey?t.collapseRecursively():t.collapse():e.altKey?t.expandRecursively():t.expand())},get resizeMethod(){return void 0===this._resizeMethod?WebInspector.DataGrid.ResizeMethod.Nearest:this._resizeMethod},set resizeMethod(e){this._resizeMethod=e},_startResizerDragging:function(e){return this._currentResizer=e.target,!!this._currentResizer.rightNeighboringColumnIndex},_resizerDragging:function(e){var t=this._currentResizer;if(t){for(var i=this._dataTable.offsetWidth,n=e.clientX-this.element.totalOffsetLeft(),r=t.leftNeighboringColumnIndex,s=t.rightNeighboringColumnIndex,o=this.headerTableBody.rows[0].cells,a=0,c=0;c<r;c++)a+=o[c].offsetWidth;this.resizeMethod==WebInspector.DataGrid.ResizeMethod.Last?s=this.resizers.length:this.resizeMethod==WebInspector.DataGrid.ResizeMethod.First&&(a+=o[r].offsetWidth-o[0].offsetWidth,r=0);var l=a+o[r].offsetWidth+o[s].offsetWidth,d=a+this.ColumnResizePadding,h=l-this.ColumnResizePadding;if(!(d>h)){n=Number.constrain(n,d,h),t.style.left=n-this.CenterResizerOverBorderAdjustment+"px";var p=100*(n-a)/i+"%";this._headerTableColumnGroup.children[r].style.width=p,this._dataTableColumnGroup.children[r].style.width=p;var u=100*(l-n)/i+"%";this._headerTableColumnGroup.children[s].style.width=u,this._dataTableColumnGroup.children[s].style.width=u;var m=this._columnsArray[r],_=this._columnsArray[s];if(m.weight||_.weight){var g=m.weight+_.weight,b=l-a;m.weight=(n-a)*g/b,_.weight=(l-n)*g/b}this._positionResizers(),e.preventDefault(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)}}},_endResizerDragging:function(e){this._currentResizer=null,this._saveColumnWeights(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},defaultAttachLocation:function(){return this.dataTableBody.firstChild},ColumnResizePadding:24,CenterResizerOverBorderAdjustment:3,__proto__:WebInspector.View.prototype},WebInspector.DataGrid.ResizeMethod={Nearest:"nearest",First:"first",Last:"last"},WebInspector.DataGridNode=function(e,t){this._expanded=!1,this._selected=!1,this._shouldRefreshChildren=!0,this._data=e||{},this.hasChildren=t||!1,this.children=[],this.dataGrid=null,this.parent=null,this.previousSibling=null,this.nextSibling=null,this.disclosureToggleWidth=10},WebInspector.DataGridNode.prototype={selectable:!0,_isRoot:!1,get element(){return this._element?this._element:this.dataGrid?(this._element=document.createElement("tr"),this._element._dataGridNode=this,this.hasChildren&&this._element.classList.add("parent"),this.expanded&&this._element.classList.add("expanded"),this.selected&&this._element.classList.add("selected"),this.revealed&&this._element.classList.add("revealed"),this.createCells(),this._element.createChild("td","corner"),this._element):null},createCells:function(){for(var e=this.dataGrid._columnsArray,t=0;t<e.length;++t){var i=this.createCell(e[t].identifier);this._element.appendChild(i)}},get data(){return this._data},set data(e){this._data=e||{},this.refresh()},get revealed(){if("_revealed"in this)return this._revealed;for(var e=this.parent;e&&!e._isRoot;){if(!e.expanded)return this._revealed=!1,!1;e=e.parent}return this._revealed=!0,!0},set hasChildren(e){this._hasChildren!==e&&(this._hasChildren=e,this._element&&(this._element.classList.toggle("parent",this._hasChildren),this._element.classList.toggle("expanded",this._hasChildren&&this.expanded)))},get hasChildren(){return this._hasChildren},set revealed(e){if(this._revealed!==e){this._revealed=e,this._element&&this._element.classList.toggle("revealed",this._revealed);for(var t=0;t<this.children.length;++t)this.children[t].revealed=e&&this.expanded}},get depth(){return"_depth"in this?this._depth:(this.parent&&!this.parent._isRoot?this._depth=this.parent.depth+1:this._depth=0,this._depth)},get leftPadding(){return"number"==typeof this._leftPadding?this._leftPadding:(this._leftPadding=this.depth*this.dataGrid.indentWidth,this._leftPadding)},get shouldRefreshChildren(){return this._shouldRefreshChildren},set shouldRefreshChildren(e){this._shouldRefreshChildren=e,e&&this.expanded&&this.expand()},get selected(){return this._selected},set selected(e){e?this.select():this.deselect()},get expanded(){return this._expanded},set expanded(e){e?this.expand():this.collapse()},refresh:function(){this._element&&this.dataGrid&&(this._element.removeChildren(),this.createCells(),this._element.createChild("td","corner"))},createTD:function(e){var t=document.createElement("td");t.className=e+"-column",t.columnIdentifier_=e;var i=this.dataGrid.columns[e].align;return i&&t.classList.add(i),t},createCell:function(e){var t=this.createTD(e),i=this.data[e],n=document.createElement("div");return i instanceof Node?n.appendChild(i):(n.textContent=i,this.dataGrid.columns[e].longText&&(n.title=i)),t.appendChild(n),e===this.dataGrid.disclosureColumnIdentifier&&(t.classList.add("disclosure"),this.leftPadding&&t.style.setProperty("padding-left",this.leftPadding+"px")),t},nodeSelfHeight:function(){return 16},appendChild:function(e){this.insertChild(e,this.children.length)},insertChild:function(e,t){if(!e)throw"insertChild: Node can't be undefined or null.";if(e.parent===this)throw"insertChild: Node is already a child of this node.";e.parent&&e.parent.removeChild(e),this.children.splice(t,0,e),this.hasChildren=!0,e.parent=this,e.dataGrid=this.dataGrid,e._recalculateSiblings(t),delete e._depth,delete e._revealed,delete e._attached,e._shouldRefreshChildren=!0;for(var i=e.children[0];i;)i.dataGrid=this.dataGrid,delete i._depth,delete i._revealed,delete i._attached,i._shouldRefreshChildren=!0,i=i.traverseNextNode(!1,e,!0);this.expanded&&e._attach(),this.revealed||(e.revealed=!1)},removeChild:function(e){if(!e)throw"removeChild: Node can't be undefined or null.";if(e.parent!==this)throw"removeChild: Node is not a child of this node.";e.deselect(),e._detach(),this.children.remove(e,!0),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.dataGrid=null,e.parent=null,e.nextSibling=null,e.previousSibling=null,this.children.length<=0&&(this.hasChildren=!1)},removeChildren:function(){for(var e=0;e<this.children.length;++e){var t=this.children[e];t.deselect(),t._detach(),t.dataGrid=null,t.parent=null,t.nextSibling=null,t.previousSibling=null}this.children=[],this.hasChildren=!1},_recalculateSiblings:function(e){if(this.parent){var t=e>0?this.parent.children[e-1]:null;t?(t.nextSibling=this,this.previousSibling=t):this.previousSibling=null;var i=this.parent.children[e+1];i?(i.previousSibling=this,this.nextSibling=i):this.nextSibling=null}},collapse:function(){if(!this._isRoot){this._element&&this._element.classList.remove("expanded"),this._expanded=!1;for(var e=0;e<this.children.length;++e)this.children[e].revealed=!1}},collapseRecursively:function(){for(var e=this;e;)e.expanded&&e.collapse(),e=e.traverseNextNode(!1,this,!0)},populate:function(){},expand:function(){if(this.hasChildren&&!this.expanded&&!this._isRoot){if(this.revealed&&!this._shouldRefreshChildren)for(var e=0;e<this.children.length;++e)this.children[e].revealed=!0;if(this._shouldRefreshChildren){for(e=0;e<this.children.length;++e)this.children[e]._detach();if(this.populate(),this._attached)for(e=0;e<this.children.length;++e){var t=this.children[e];this.revealed&&(t.revealed=!0),t._attach()}delete this._shouldRefreshChildren}this._element&&this._element.classList.add("expanded"),this._expanded=!0}},expandRecursively:function(){for(var e=this;e;)e.expand(),e=e.traverseNextNode(!1,this)},reveal:function(){if(!this._isRoot){for(var e=this.parent;e&&!e._isRoot;)e.expanded||e.expand(),e=e.parent;this.element.scrollIntoViewIfNeeded(!1)}},select:function(e){this.dataGrid&&this.selectable&&!this.selected&&(this.dataGrid.selectedNode&&this.dataGrid.selectedNode.deselect(),this._selected=!0,this.dataGrid.selectedNode=this,this._element&&this._element.classList.add("selected"),e||this.dataGrid.dispatchEventToListeners(WebInspector.DataGrid.Events.SelectedNode))},revealAndSelect:function(){this._isRoot||(this.reveal(),this.select())},deselect:function(e){this.dataGrid&&this.dataGrid.selectedNode===this&&this.selected&&(this._selected=!1,this.dataGrid.selectedNode=null,this._element&&this._element.classList.remove("selected"),e||this.dataGrid.dispatchEventToListeners(WebInspector.DataGrid.Events.DeselectedNode))},traverseNextNode:function(e,t,i,n){!i&&this.hasChildren&&this.populate(),n&&(n.depthChange=0);var r=!e||this.revealed?this.children[0]:null;if(r&&(!e||this.expanded))return n&&(n.depthChange=1),r;if(this===t)return null;if(r=!e||this.revealed?this.nextSibling:null)return r;for(r=this;r&&!r._isRoot&&(e&&!r.revealed||!r.nextSibling)&&r.parent!==t;)n&&(n.depthChange-=1),r=r.parent;return!r||e&&!r.revealed?null:r.nextSibling},traversePreviousNode:function(e,t){var i=!e||this.revealed?this.previousSibling:null;for(!t&&i&&i.hasChildren&&i.populate();i&&(!e||i.revealed&&i.expanded)&&i.children[i.children.length-1];)!t&&i.hasChildren&&i.populate(),i=!e||i.revealed&&i.expanded?i.children[i.children.length-1]:null;return i||(!this.parent||this.parent._isRoot?null:this.parent)},isEventWithinDisclosureTriangle:function(e){if(!this.hasChildren)return!1;var t=e.target.enclosingNodeOrSelfWithNodeName("td");if(!t.classList.contains("disclosure"))return!1;var i=t.totalOffsetLeft()+this.leftPadding;return e.pageX>=i&&e.pageX<=i+this.disclosureToggleWidth},_attach:function(){if(this.dataGrid&&!this._attached){this._attached=!0;var e=null,t=this.traversePreviousNode(!0,!0);if(t&&t.element.parentNode&&t.element.nextSibling&&(e=t.element.nextSibling),e||(e=this.dataGrid.defaultAttachLocation()),this.dataGrid.dataTableBody.insertBefore(this.element,e),this.expanded)for(var i=0;i<this.children.length;++i)this.children[i]._attach()}},_detach:function(){if(this._attached){this._attached=!1,this._element&&this._element.remove();for(var e=0;e<this.children.length;++e)this.children[e]._detach();this.wasDetached()}},wasDetached:function(){},savePosition:function(){if(!this._savedPosition){if(!this.parent)throw"savePosition: Node must have a parent.";this._savedPosition={parent:this.parent,index:this.parent.children.indexOf(this)}}},restorePosition:function(){this._savedPosition&&(this.parent!==this._savedPosition.parent&&this._savedPosition.parent.insertChild(this,this._savedPosition.index),delete this._savedPosition)},__proto__:WebInspector.Object.prototype},WebInspector.CreationDataGridNode=function(e,t){WebInspector.DataGridNode.call(this,e,t),this.isCreationNode=!0},WebInspector.CreationDataGridNode.prototype={makeNormal:function(){delete this.isCreationNode,delete this.makeNormal},__proto__:WebInspector.DataGridNode.prototype},WebInspector.ShowMoreDataGridNode=function(e,t,i,n){WebInspector.DataGridNode.call(this,{summaryRow:!0},!1),this._callback=e,this._startPosition=t,this._endPosition=i,this._chunkSize=n,this.showNext=document.createElement("button"),this.showNext.setAttribute("type","button"),this.showNext.addEventListener("click",this._showNextChunk.bind(this),!1),this.showNext.textContent=WebInspector.UIString("Show %d before",this._chunkSize),this.showAll=document.createElement("button"),this.showAll.setAttribute("type","button"),this.showAll.addEventListener("click",this._showAll.bind(this),!1),this.showLast=document.createElement("button"),this.showLast.setAttribute("type","button"),this.showLast.addEventListener("click",this._showLastChunk.bind(this),!1),this.showLast.textContent=WebInspector.UIString("Show %d after",this._chunkSize),this._updateLabels(),this.selectable=!1},WebInspector.ShowMoreDataGridNode.prototype={_showNextChunk:function(){this._callback(this._startPosition,this._startPosition+this._chunkSize)},_showAll:function(){this._callback(this._startPosition,this._endPosition)},_showLastChunk:function(){this._callback(this._endPosition-this._chunkSize,this._endPosition)},_updateLabels:function(){var e=this._endPosition-this._startPosition;e>this._chunkSize?(this.showNext.classList.remove("hidden"),this.showLast.classList.remove("hidden")):(this.showNext.classList.add("hidden"),this.showLast.classList.add("hidden")),this.showAll.textContent=WebInspector.UIString("Show all %d",e)},createCells:function(){var e=document.createElement("td");this.depth&&e.style.setProperty("padding-left",this.depth*this.dataGrid.indentWidth+"px"),e.appendChild(this.showNext),e.appendChild(this.showAll),e.appendChild(this.showLast),this._element.appendChild(e);var t=this.dataGrid.columns,i=0;for(var n in t)++i;for(;--i>0;)e=document.createElement("td"),this._element.appendChild(e)},setStartPosition:function(e){this._startPosition=e,this._updateLabels()},setEndPosition:function(e){this._endPosition=e,this._updateLabels()},nodeSelfHeight:function(){return 32},dispose:function(){},__proto__:WebInspector.DataGridNode.prototype},WebInspector.CookiesTable=function(e,t,i){WebInspector.VBox.call(this);var n=e;this._refreshCallback=t;var r=[{id:"name",title:WebInspector.UIString("Name"),sortable:!0,disclosure:e,sort:WebInspector.DataGrid.Order.Ascending,longText:!0,weight:24},{id:"value",title:WebInspector.UIString("Value"),sortable:!0,longText:!0,weight:34},{id:"domain",title:WebInspector.UIString("Domain"),sortable:!0,weight:7},{id:"path",title:WebInspector.UIString("Path"),sortable:!0,weight:7},{id:"expires",title:WebInspector.UIString("Expires / Max-Age"),sortable:!0,weight:7},{id:"size",title:WebInspector.UIString("Size"),sortable:!0,align:WebInspector.DataGrid.Align.Right,weight:7},{id:"httpOnly",title:WebInspector.UIString("HTTP"),sortable:!0,align:WebInspector.DataGrid.Align.Center,weight:7},{id:"secure",title:WebInspector.UIString("Secure"),sortable:!0,align:WebInspector.DataGrid.Align.Center,weight:7}];this._dataGrid=n?new WebInspector.DataGrid(r):new WebInspector.DataGrid(r,void 0,this._onDeleteCookie.bind(this),t,this._onContextMenu.bind(this)),this._dataGrid.setName("cookiesTable"),this._dataGrid.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this._rebuildTable,this),i&&this._dataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,i,this),this._nextSelectedCookie=null,this._dataGrid.show(this.element),this._data=[]},WebInspector.CookiesTable.prototype={_clearAndRefresh:function(e){this.clear(e),this._refresh()},_onContextMenu:function(e,t){if(t!==this._dataGrid.creationNode){var i=t.cookie.domain();i&&e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?'Clear all from "%s"':'Clear All from "%s"',i),this._clearAndRefresh.bind(this,i)),e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Clear all":"Clear All"),this._clearAndRefresh.bind(this,null))}},setCookies:function(e){this.setCookieFolders([{cookies:e}])},setCookieFolders:function(e){this._data=e,this._rebuildTable()},selectedCookie:function(){var e=this._dataGrid.selectedNode;return e?e.cookie:null},clear:function(e){for(var t=0,i=this._data.length;t<i;++t)for(var n=this._data[t].cookies,r=0,s=n.length;r<s;++r)e&&n[r].domain()!==e||n[r].remove()},_rebuildTable:function(){var e=this._nextSelectedCookie||this.selectedCookie();this._nextSelectedCookie=null,this._dataGrid.rootNode().removeChildren();for(var t=0;t<this._data.length;++t){var i=this._data[t];if(i.folderName){var n={name:i.folderName,value:"",domain:"",path:"",expires:"",size:this._totalSize(i.cookies),httpOnly:"",secure:""},r=new WebInspector.DataGridNode(n);r.selectable=!0,this._dataGrid.rootNode().appendChild(r),r.element.classList.add("row-group"),this._populateNode(r,i.cookies,e),r.expand()}else this._populateNode(this._dataGrid.rootNode(),i.cookies,e)}},_populateNode:function(e,t,i){if(e.removeChildren(),t){this._sortCookies(t);for(var n=0;n<t.length;++n){var r=t[n],s=this._createGridNode(r);e.appendChild(s),i&&i.name()===r.name()&&i.domain()===r.domain()&&i.path()===r.path()&&s.select()}}},_totalSize:function(e){for(var t=0,i=0;e&&i<e.length;++i)t+=e[i].size();return t},_sortCookies:function(e){var t,i=this._dataGrid.isSortOrderAscending()?1:-1;function n(e,t,n){return i*(e.apply(t)+"").compareTo(e.apply(n)+"")}switch(this._dataGrid.sortColumnIdentifier()){case"name":t=n.bind(null,WebInspector.Cookie.prototype.name);break;case"value":t=n.bind(null,WebInspector.Cookie.prototype.value);break;case"domain":t=n.bind(null,WebInspector.Cookie.prototype.domain);break;case"path":t=n.bind(null,WebInspector.Cookie.prototype.path);break;case"expires":t=function(e,t){return e.session()!==t.session()?i*(e.session()?1:-1):e.session()?0:e.maxAge()&&t.maxAge()?i*(e.maxAge()-t.maxAge()):e.expires()&&t.expires()?i*(e.expires()-t.expires()):i*(e.expires()?1:-1)};break;case"size":t=function(e,t,n){return i*(e.apply(t)-e.apply(n))}.bind(null,WebInspector.Cookie.prototype.size);break;case"httpOnly":t=n.bind(null,WebInspector.Cookie.prototype.httpOnly);break;case"secure":t=n.bind(null,WebInspector.Cookie.prototype.secure);break;default:n.bind(null,WebInspector.Cookie.prototype.name)}e.sort(t)},_createGridNode:function(e){var t={};t.name=e.name(),t.value=e.value(),e.type()===WebInspector.Cookie.Type.Request?(t.domain=WebInspector.UIString("N/A"),t.path=WebInspector.UIString("N/A"),t.expires=WebInspector.UIString("N/A")):(t.domain=e.domain()||"",t.path=e.path()||"",e.maxAge()?t.expires=Number.secondsToString(parseInt(e.maxAge(),10)):e.expires()?t.expires=new Date(e.expires()).toGMTString():t.expires=WebInspector.UIString("Session")),t.size=e.size(),t.httpOnly=e.httpOnly()?"✓":"",t.secure=e.secure()?"✓":"";var i=new WebInspector.DataGridNode(t);return i.cookie=e,i.selectable=!0,i},_onDeleteCookie:function(e){var t=e.cookie,i=e.traverseNextNode()||e.traversePreviousNode();i&&(this._nextSelectedCookie=i.cookie),t.remove(),this._refresh()},_refresh:function(){this._refreshCallback&&this._refreshCallback()},__proto__:WebInspector.VBox.prototype},WebInspector.CookieItemsView=function(e,t){WebInspector.VBox.call(this),this.element.classList.add("storage-view"),this._deleteButton=new WebInspector.StatusBarButton(WebInspector.UIString("Delete"),"delete-storage-status-bar-item"),this._deleteButton.visible=!1,this._deleteButton.addEventListener("click",this._deleteButtonClicked,this),this._clearButton=new WebInspector.StatusBarButton(WebInspector.UIString("Clear"),"clear-storage-status-bar-item"),this._clearButton.visible=!1,this._clearButton.addEventListener("click",this._clearButtonClicked,this),this._refreshButton=new WebInspector.StatusBarButton(WebInspector.UIString("Refresh"),"refresh-storage-status-bar-item"),this._refreshButton.addEventListener("click",this._refreshButtonClicked,this),this._treeElement=e,this._cookieDomain=t,this._emptyView=new WebInspector.EmptyView(WebInspector.UIString("This site has no cookies.")),this._emptyView.show(this.element),this.element.addEventListener("contextmenu",this._contextMenu.bind(this),!0)},WebInspector.CookieItemsView.prototype={get statusBarItems(){return[this._refreshButton.element,this._clearButton.element,this._deleteButton.element]},wasShown:function(){this._update()},willHide:function(){this._deleteButton.visible=!1},_update:function(){WebInspector.Cookies.getCookiesAsync(this._updateWithCookies.bind(this))},_updateWithCookies:function(e){if(this._cookies=this._filterCookiesForDomain(e),!this._cookies.length)return this._emptyView.show(this.element),this._clearButton.visible=!1,this._deleteButton.visible=!1,void(this._cookiesTable&&this._cookiesTable.detach());this._cookiesTable||(this._cookiesTable=new WebInspector.CookiesTable(!1,this._update.bind(this),this._showDeleteButton.bind(this))),this._cookiesTable.setCookies(this._cookies),this._emptyView.detach(),this._cookiesTable.show(this.element),this._treeElement.subtitle=String.sprintf(WebInspector.UIString("%d cookies (%s)"),this._cookies.length,Number.bytesToString(this._totalSize)),this._clearButton.visible=!0,this._deleteButton.visible=!!this._cookiesTable.selectedCookie()},_filterCookiesForDomain:function(e){var t=[],i=[];this._totalSize=0,WebInspector.forAllResources(function(e){var t=e.documentURL.asParsedURL();t&&t.host==this._cookieDomain&&i.push(e.url)}.bind(this));for(var n=0;n<e.length;++n)for(var r=!1,s=e[n].size(),o=0;o<i.length;++o){var a=i[o];WebInspector.Cookies.cookieMatchesResourceURL(e[n],a)&&(this._totalSize+=s,r||(r=!0,t.push(e[n])))}return t},clear:function(){this._cookiesTable.clear(),this._update()},_clearButtonClicked:function(){this.clear()},_showDeleteButton:function(){this._deleteButton.visible=!0},_deleteButtonClicked:function(){var e=this._cookiesTable.selectedCookie();e&&(e.remove(),this._update())},_refreshButtonClicked:function(e){this._update()},_contextMenu:function(e){if(!this._cookies.length){var t=new WebInspector.ContextMenu(e);t.appendItem(WebInspector.UIString("Refresh"),this._update.bind(this)),t.show()}},__proto__:WebInspector.VBox.prototype},WebInspector.ApplicationCacheModel=function(){ApplicationCacheAgent.enable(),InspectorBackend.registerApplicationCacheDispatcher(new WebInspector.ApplicationCacheDispatcher(this)),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,this._frameNavigated,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this._frameDetached,this),this._statuses={},this._manifestURLsByFrame={},this._mainFrameNavigated(),this._onLine=!0},WebInspector.ApplicationCacheModel.EventTypes={FrameManifestStatusUpdated:"FrameManifestStatusUpdated",FrameManifestAdded:"FrameManifestAdded",FrameManifestRemoved:"FrameManifestRemoved",NetworkStateChanged:"NetworkStateChanged"},WebInspector.ApplicationCacheModel.prototype={_frameNavigated:function(e){var t=e.data;t.isMainFrame()?this._mainFrameNavigated():ApplicationCacheAgent.getManifestForFrame(t.id,this._manifestForFrameLoaded.bind(this,t.id))},_frameDetached:function(e){var t=e.data;this._frameManifestRemoved(t.id)},_mainFrameNavigated:function(){ApplicationCacheAgent.getFramesWithManifests(this._framesWithManifestsLoaded.bind(this))},_manifestForFrameLoaded:function(e,t,i){t?console.error(t):i||this._frameManifestRemoved(e)},_framesWithManifestsLoaded:function(e,t){if(e)console.error(e);else for(var i=0;i<t.length;++i)this._frameManifestUpdated(t[i].frameId,t[i].manifestURL,t[i].status)},_frameManifestUpdated:function(e,t,i){if(i!==applicationCache.UNCACHED){if(t){this._manifestURLsByFrame[e]&&t!==this._manifestURLsByFrame[e]&&this._frameManifestRemoved(e);var n=this._statuses[e]!==i;this._statuses[e]=i,this._manifestURLsByFrame[e]||(this._manifestURLsByFrame[e]=t,this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.FrameManifestAdded,e)),n&&this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.FrameManifestStatusUpdated,e)}}else this._frameManifestRemoved(e)},_frameManifestRemoved:function(e){this._manifestURLsByFrame[e]&&(this._manifestURLsByFrame[e],delete this._manifestURLsByFrame[e],delete this._statuses[e],this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.FrameManifestRemoved,e))},frameManifestURL:function(e){return this._manifestURLsByFrame[e]||""},frameManifestStatus:function(e){return this._statuses[e]||applicationCache.UNCACHED},get onLine(){return this._onLine},_statusUpdated:function(e,t,i){this._frameManifestUpdated(e,t,i)},requestApplicationCache:function(e,t){ApplicationCacheAgent.getApplicationCacheForFrame(e,function(e,i){if(e)return console.error(e),void t(null);t(i)})},_networkStateUpdated:function(e){this._onLine=e,this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.NetworkStateChanged,e)},__proto__:WebInspector.Object.prototype},WebInspector.ApplicationCacheDispatcher=function(e){this._applicationCacheModel=e},WebInspector.ApplicationCacheDispatcher.prototype={applicationCacheStatusUpdated:function(e,t,i){this._applicationCacheModel._statusUpdated(e,t,i)},networkStateUpdated:function(e){this._applicationCacheModel._networkStateUpdated(e)}},WebInspector.IndexedDBModel=function(){IndexedDBAgent.enable(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,this._securityOriginAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,this._securityOriginRemoved,this),this._databases=new GenericMap,this._databaseNamesBySecurityOrigin={},this._reset()},WebInspector.IndexedDBModel.KeyTypes={NumberType:"number",StringType:"string",DateType:"date",ArrayType:"array"},WebInspector.IndexedDBModel.KeyPathTypes={NullType:"null",StringType:"string",ArrayType:"array"},WebInspector.IndexedDBModel.keyFromIDBKey=function(e){if(null==e)return null;var t={};switch(typeof e){case"number":t.number=e,t.type=WebInspector.IndexedDBModel.KeyTypes.NumberType;break;case"string":t.string=e,t.type=WebInspector.IndexedDBModel.KeyTypes.StringType;break;case"object":if(e instanceof Date)t.date=e.getTime(),t.type=WebInspector.IndexedDBModel.KeyTypes.DateType;else if(e instanceof Array){t.array=[];for(var i=0;i<e.length;++i)t.array.push(WebInspector.IndexedDBModel.keyFromIDBKey(e[i]));t.type=WebInspector.IndexedDBModel.KeyTypes.ArrayType}break;default:return null}return t},WebInspector.IndexedDBModel.keyRangeFromIDBKeyRange=function(e){if(window.IDBKeyRange||window.webkitIDBKeyRange,null==e)return null;var t={};return t.lower=WebInspector.IndexedDBModel.keyFromIDBKey(e.lower),t.upper=WebInspector.IndexedDBModel.keyFromIDBKey(e.upper),t.lowerOpen=e.lowerOpen,t.upperOpen=e.upperOpen,t},WebInspector.IndexedDBModel.idbKeyPathFromKeyPath=function(e){var t;switch(e.type){case WebInspector.IndexedDBModel.KeyPathTypes.NullType:t=null;break;case WebInspector.IndexedDBModel.KeyPathTypes.StringType:t=e.string;break;case WebInspector.IndexedDBModel.KeyPathTypes.ArrayType:t=e.array}return t},WebInspector.IndexedDBModel.keyPathStringFromIDBKeyPath=function(e){return"string"==typeof e?'"'+e+'"':e instanceof Array?'["'+e.join('", "')+'"]':null},WebInspector.IndexedDBModel.EventTypes={DatabaseAdded:"DatabaseAdded",DatabaseRemoved:"DatabaseRemoved",DatabaseLoaded:"DatabaseLoaded"},WebInspector.IndexedDBModel.prototype={_reset:function(){for(var e in this._databaseNamesBySecurityOrigin)this._removeOrigin(e);for(var t=WebInspector.resourceTreeModel.securityOrigins(),i=0;i<t.length;++i)this._addOrigin(t[i])},refreshDatabaseNames:function(){for(var e in this._databaseNamesBySecurityOrigin)this._loadDatabaseNames(e)},refreshDatabase:function(e){this._loadDatabase(e)},clearObjectStore:function(e,t,i){IndexedDBAgent.clearObjectStore(e.securityOrigin,e.name,t,i)},_securityOriginAdded:function(e){var t=e.data;this._addOrigin(t)},_securityOriginRemoved:function(e){var t=e.data;this._removeOrigin(t)},_addOrigin:function(e){console.assert(!this._databaseNamesBySecurityOrigin[e]),this._databaseNamesBySecurityOrigin[e]=[],this._loadDatabaseNames(e)},_removeOrigin:function(e){console.assert(this._databaseNamesBySecurityOrigin[e]);for(var t=0;t<this._databaseNamesBySecurityOrigin[e].length;++t)this._databaseRemoved(e,this._databaseNamesBySecurityOrigin[e][t]);delete this._databaseNamesBySecurityOrigin[e]},_updateOriginDatabaseNames:function(e,t){for(var i={},n=0;n<t.length;++n)i[t[n]]=!0;var r={};for(n=0;n<this._databaseNamesBySecurityOrigin[e].length;++n)r[this._databaseNamesBySecurityOrigin[e][n]]=!0;for(var s in this._databaseNamesBySecurityOrigin[e]=t,r)i[s]||this._databaseRemoved(e,s);for(var s in i)r[s]||this._databaseAdded(e,s)},_databaseAdded:function(e,t){var i=new WebInspector.IndexedDBModel.DatabaseId(e,t);this.dispatchEventToListeners(WebInspector.IndexedDBModel.EventTypes.DatabaseAdded,i)},_databaseRemoved:function(e,t){var i=new WebInspector.IndexedDBModel.DatabaseId(e,t);this.dispatchEventToListeners(WebInspector.IndexedDBModel.EventTypes.DatabaseRemoved,i)},_loadDatabaseNames:function(e){IndexedDBAgent.requestDatabaseNames(e,function(t,i){t?console.error("IndexedDBAgent error: "+t):this._databaseNamesBySecurityOrigin[e]&&this._updateOriginDatabaseNames(e,i)}.bind(this))},_loadDatabase:function(e){IndexedDBAgent.requestDatabase(e.securityOrigin,e.name,function(t,i){if(t)console.error("IndexedDBAgent error: "+t);else if(this._databaseNamesBySecurityOrigin[e.securityOrigin]){var n=new WebInspector.IndexedDBModel.Database(e,i.version,i.intVersion);this._databases.put(e,n);for(var r=0;r<i.objectStores.length;++r){for(var s=i.objectStores[r],o=WebInspector.IndexedDBModel.idbKeyPathFromKeyPath(s.keyPath),a=new WebInspector.IndexedDBModel.ObjectStore(s.name,o,s.autoIncrement),c=0;c<s.indexes.length;++c){var l=s.indexes[c],d=WebInspector.IndexedDBModel.idbKeyPathFromKeyPath(l.keyPath),h=new WebInspector.IndexedDBModel.Index(l.name,d,l.unique,l.multiEntry);a.indexes[h.name]=h}n.objectStores[a.name]=a}this.dispatchEventToListeners(WebInspector.IndexedDBModel.EventTypes.DatabaseLoaded,n)}}.bind(this))},loadObjectStoreData:function(e,t,i,n,r,s){this._requestData(e,e.name,t,"",i,n,r,s)},loadIndexData:function(e,t,i,n,r,s,o){this._requestData(e,e.name,t,i,n,r,s,o)},_requestData:function(e,t,i,n,r,s,o,a){var c=WebInspector.IndexedDBModel.keyRangeFromIDBKeyRange(r);IndexedDBAgent.requestData(e.securityOrigin,t,i,n,s,o,c||void 0,function(t,i,n){if(t)console.error("IndexedDBAgent error: "+t);else if(this._databaseNamesBySecurityOrigin[e.securityOrigin]){for(var r=[],s=0;s<i.length;++s){var o=WebInspector.RemoteObject.fromLocalObject(JSON.parse(i[s].key)),c=WebInspector.RemoteObject.fromLocalObject(JSON.parse(i[s].primaryKey)),l=WebInspector.RemoteObject.fromLocalObject(JSON.parse(i[s].value));r.push(new WebInspector.IndexedDBModel.Entry(o,c,l))}a(r,n)}}.bind(this))},__proto__:WebInspector.Object.prototype},WebInspector.IndexedDBModel.Entry=function(e,t,i){this.key=e,this.primaryKey=t,this.value=i},WebInspector.IndexedDBModel.DatabaseId=function(e,t){this.securityOrigin=e,this.name=t},WebInspector.IndexedDBModel.DatabaseId.prototype={equals:function(e){return this.name===e.name&&this.securityOrigin===e.securityOrigin}},WebInspector.IndexedDBModel.Database=function(e,t,i){this.databaseId=e,this.version=t,this.intVersion=i,this.objectStores={}},WebInspector.IndexedDBModel.ObjectStore=function(e,t,i){this.name=e,this.keyPath=t,this.autoIncrement=i,this.indexes={}},WebInspector.IndexedDBModel.ObjectStore.prototype={get keyPathString(){return WebInspector.IndexedDBModel.keyPathStringFromIDBKeyPath(this.keyPath)}},WebInspector.IndexedDBModel.Index=function(e,t,i,n){this.name=e,this.keyPath=t,this.unique=i,this.multiEntry=n},WebInspector.IndexedDBModel.Index.prototype={get keyPathString(){return WebInspector.IndexedDBModel.keyPathStringFromIDBKeyPath(this.keyPath)}},WebInspector.Spectrum=function(){WebInspector.VBox.call(this),this.registerRequiredCSS("spectrum.css"),this.element.classList.add("spectrum-container"),this.element.tabIndex=0;var e=this.element.createChild("div","spectrum-top");e.createChild("div","spectrum-fill");var t=e.createChild("div","spectrum-top-inner fill");this._draggerElement=t.createChild("div","spectrum-color"),this._dragHelperElement=this._draggerElement.createChild("div","spectrum-sat fill").createChild("div","spectrum-val fill").createChild("div","spectrum-dragger"),this._sliderElement=t.createChild("div","spectrum-hue"),this.slideHelper=this._sliderElement.createChild("div","spectrum-slider");var i=this.element.createChild("div","spectrum-range-container");i.createChild("label").textContent=WebInspector.UIString("α:"),this._alphaElement=i.createChild("input","spectrum-range"),this._alphaElement.setAttribute("type","range"),this._alphaElement.setAttribute("min","0"),this._alphaElement.setAttribute("max","100"),this._alphaElement.addEventListener("input",o.bind(this),!1),this._alphaElement.addEventListener("change",o.bind(this),!1);var n=document.createElement("span");n.className="swatch",this._swatchInnerElement=n.createChild("span","swatch-inner");var r,s=this.element.createChild("div");function o(){this._hsv[3]=this._alphaElement.value/100,this._onchange()}s.appendChild(n),this._displayElement=s.createChild("span","source-code spectrum-display-value"),WebInspector.Spectrum.draggable(this._sliderElement,function(e,t,i){this._hsv[0]=(this.slideHeight-i)/this.slideHeight,this._onchange()}.bind(this)),WebInspector.Spectrum.draggable(this._draggerElement,function(e,t,i,n){n.shiftKey&&(Math.abs(t-r.x)>=Math.abs(i-r.y)?i=r.y:t=r.x),this._hsv[1]=t/this.dragWidth,this._hsv[2]=(this.dragHeight-i)/this.dragHeight,this._onchange()}.bind(this),function(){r={x:this._dragHelperElement.offsetLeft,y:this._dragHelperElement.offsetTop}}.bind(this))},WebInspector.Spectrum.Events={ColorChanged:"ColorChanged"},WebInspector.Spectrum.draggable=function(e,t,i,n){var r,s,o,a,c,l=document;function d(e){e.consume(!0)}function h(i){if(r){var n=Math.max(0,Math.min(i.pageX-s.left+o.left,c)),l=Math.max(0,Math.min(i.pageY-s.top+o.top,a));t&&t(e,n,l,i)}}function p(t){r&&(l.removeEventListener("selectstart",d,!1),l.removeEventListener("dragstart",d,!1),l.removeEventListener("mousemove",h,!1),l.removeEventListener("mouseup",p,!1),n&&n(e,t)),r=!1}e.addEventListener("mousedown",function(t){var n=t;(n.which?3===n.which:2===n.button)||r||(i&&i(e,n),r=!0,a=e.clientHeight,c=e.clientWidth,o=e.scrollOffset(),s=e.totalOffset(),l.addEventListener("selectstart",d,!1),l.addEventListener("dragstart",d,!1),l.addEventListener("mousemove",h,!1),l.addEventListener("mouseup",p,!1),h(n),d(n))},!1)},WebInspector.Spectrum.prototype={setColor:function(e){this._hsv=e.hsva()},color:function(){return WebInspector.Color.fromHSVA(this._hsv)},_colorString:function(){var e=WebInspector.Color.Format,t=this._originalFormat,i=this.color();return i.toString(this._originalFormat)||(i.hasAlpha()?t===e.HSLA||t===e.HSL?i.toString(e.HSLA):i.toString(e.RGBA):t===e.ShortHEX?i.toString(e.HEX):(console.assert(t===e.Nickname),i.toString(e.RGB)))},set displayText(e){this._displayElement.textContent=e},_onchange:function(){this._updateUI(),this.dispatchEventToListeners(WebInspector.Spectrum.Events.ColorChanged,this._colorString())},_updateHelperLocations:function(){var e=this._hsv[0],t=this._hsv[1],i=this._hsv[2],n=t*this.dragWidth,r=this.dragHeight-i*this.dragHeight;n=Math.max(-this._dragHelperElementHeight,Math.min(this.dragWidth-this._dragHelperElementHeight,n-this._dragHelperElementHeight)),r=Math.max(-this._dragHelperElementHeight,Math.min(this.dragHeight-this._dragHelperElementHeight,r-this._dragHelperElementHeight)),this._dragHelperElement.positionAt(n,r);var s=this.slideHeight-(e*this.slideHeight+this.slideHelperHeight);this.slideHelper.style.top=s+"px",this._alphaElement.value=100*this._hsv[3]},_updateUI:function(){this._updateHelperLocations(),this._draggerElement.style.backgroundColor=WebInspector.Color.fromHSVA([this._hsv[0],1,1,1]).toString(WebInspector.Color.Format.RGB),this._swatchInnerElement.style.backgroundColor=this.color().toString(WebInspector.Color.Format.RGBA),this._alphaElement.value=100*this._hsv[3]},wasShown:function(){this.slideHeight=this._sliderElement.offsetHeight,this.dragWidth=this._draggerElement.offsetWidth,this.dragHeight=this._draggerElement.offsetHeight,this._dragHelperElementHeight=this._dragHelperElement.offsetHeight/2,this.slideHelperHeight=this.slideHelper.offsetHeight/2,this._updateUI()},__proto__:WebInspector.VBox.prototype},WebInspector.SpectrumPopupHelper=function(){this._spectrum=new WebInspector.Spectrum,this._spectrum.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._popover=new WebInspector.Popover,this._popover.setCanShrink(!1),this._popover.element.addEventListener("mousedown",consumeEvent,!1),this._hideProxy=this.hide.bind(this,!0)},WebInspector.SpectrumPopupHelper.Events={Hidden:"Hidden"},WebInspector.SpectrumPopupHelper.prototype={spectrum:function(){return this._spectrum},toggle:function(e,t,i){return this._popover.isShowing()?this.hide(!0):this.show(e,t,i),this._popover.isShowing()},show:function(e,t,i){if(this._popover.isShowing()){if(this._anchorElement===e)return!1;this.hide(!0)}return this._anchorElement=e,this._spectrum.setColor(t),this._spectrum._originalFormat=i!==WebInspector.Color.Format.Original?i:t.format(),this.reposition(e),document.addEventListener("mousedown",this._hideProxy,!1),window.addEventListener("blur",this._hideProxy,!1),!0},reposition:function(e){this._previousFocusElement||(this._previousFocusElement=WebInspector.currentFocusElement()),this._popover.showView(this._spectrum,e),WebInspector.setCurrentFocusElement(this._spectrum.element)},hide:function(e){this._popover.isShowing()&&(this._popover.hide(),document.removeEventListener("mousedown",this._hideProxy,!1),window.removeEventListener("blur",this._hideProxy,!1),this.dispatchEventToListeners(WebInspector.SpectrumPopupHelper.Events.Hidden,!!e),WebInspector.setCurrentFocusElement(this._previousFocusElement),delete this._previousFocusElement,delete this._anchorElement)},_onKeyDown:function(e){if("Enter"===e.keyIdentifier)return this.hide(!0),void e.consume(!0);"U+001B"===e.keyIdentifier&&(this.hide(!1),e.consume(!0))},__proto__:WebInspector.Object.prototype},WebInspector.ColorSwatch=function(e){this.element=document.createElement("span"),this._swatchInnerElement=this.element.createChild("span","swatch-inner");var t=WebInspector.UIString("Shift-click to change color format.");this.element.title=e?t:String.sprintf("%s\n%s",WebInspector.UIString("Click to open a colorpicker."),t),this.element.className="swatch",this.element.addEventListener("mousedown",consumeEvent,!1),this.element.addEventListener("dblclick",consumeEvent,!1)},WebInspector.ColorSwatch.prototype={setColorString:function(e){this._swatchInnerElement.style.backgroundColor=e}},WebInspector.SidebarPane=function(e){WebInspector.View.call(this),this.setMinimumSize(25,0),this.element.className="sidebar-pane",this.titleElement=document.createElement("div"),this.titleElement.className="sidebar-pane-toolbar",this.bodyElement=this.element.createChild("div","body"),this._title=e,this._expandCallback=null},WebInspector.SidebarPane.EventTypes={wasShown:"wasShown"},WebInspector.SidebarPane.prototype={title:function(){return this._title},prepareContent:function(e){e&&e()},expand:function(){this.prepareContent(this.onContentReady.bind(this))},onContentReady:function(){this._expandCallback?this._expandCallback():this._expandPending=!0},setExpandCallback:function(e){this._expandCallback=e,this._expandPending&&(delete this._expandPending,this._expandCallback())},wasShown:function(){WebInspector.View.prototype.wasShown.call(this),this.dispatchEventToListeners(WebInspector.SidebarPane.EventTypes.wasShown)},__proto__:WebInspector.View.prototype},WebInspector.SidebarPaneTitle=function(e,t){this._pane=t,this.element=e.createChild("div","sidebar-pane-title"),this.element.textContent=t.title(),this.element.tabIndex=0,this.element.addEventListener("click",this._toggleExpanded.bind(this),!1),this.element.addEventListener("keydown",this._onTitleKeyDown.bind(this),!1),this.element.appendChild(this._pane.titleElement),this._pane.setExpandCallback(this._expand.bind(this))},WebInspector.SidebarPaneTitle.prototype={_expand:function(){this.element.classList.add("expanded"),this._pane.show(this.element.parentNode,this.element.nextSibling)},_collapse:function(){this.element.classList.remove("expanded"),this._pane.element.parentNode==this.element.parentNode&&this._pane.detach()},_toggleExpanded:function(){this.element.classList.contains("expanded")?this._collapse():this._pane.expand()},_onTitleKeyDown:function(e){(isEnterKey(e)||e.keyCode===WebInspector.KeyboardShortcut.Keys.Space.code)&&this._toggleExpanded()}},WebInspector.SidebarPaneStack=function(){WebInspector.View.call(this),this.setMinimumSize(25,0),this.element.className="sidebar-pane-stack",this.registerRequiredCSS("sidebarPane.css")},WebInspector.SidebarPaneStack.prototype={addPane:function(e){new WebInspector.SidebarPaneTitle(this.element,e)},__proto__:WebInspector.View.prototype},WebInspector.SidebarTabbedPane=function(){WebInspector.TabbedPane.call(this),this.setRetainTabOrder(!0),this.element.classList.add("sidebar-tabbed-pane"),this.registerRequiredCSS("sidebarPane.css")},WebInspector.SidebarTabbedPane.prototype={addPane:function(e){var t=e.title();this.appendTab(t,t,e),e.element.appendChild(e.titleElement),e.setExpandCallback(this.selectTab.bind(this,t))},__proto__:WebInspector.TabbedPane.prototype},WebInspector.DOMPresentationUtils={},WebInspector.DOMPresentationUtils.decorateNodeLabel=function(e,t){var i=e.nodeNameInCorrectCase(),n=document.createElement("span");n.textContent=i,t.appendChild(n);var r=e.getAttribute("id");if(r){var s=document.createElement("span");t.appendChild(s),i+=h="#"+r,s.appendChild(document.createTextNode(h)),n.className="extra"}var o=e.getAttribute("class");if(o){var a=o.split(/\s+/),c={};if(a.length){var l=document.createElement("span");l.className="extra",t.appendChild(l);for(var d=0;d<a.length;++d){var h,p=a[d];!p||p in c||(i+=h="."+p,l.appendChild(document.createTextNode(h)),c[p]=!0)}}}t.title=i},WebInspector.DOMPresentationUtils.createSpansForNodeTitle=function(e,t){var i=t.match(/([^#.]+)(#[^.]+)?(\..*)?/);e.createChild("span","webkit-html-tag-name").textContent=i[1],i[2]&&(e.createChild("span","webkit-html-attribute-value").textContent=i[2]),i[3]&&(e.createChild("span","webkit-html-attribute-name").textContent=i[3])},WebInspector.DOMPresentationUtils.linkifyNodeReference=function(e){var t=document.createElement("span");return t.className="node-link",WebInspector.DOMPresentationUtils.decorateNodeLabel(e,t),t.addEventListener("click",WebInspector.domModel.inspectElement.bind(WebInspector.domModel,e.id),!1),t.addEventListener("mouseover",WebInspector.domModel.highlightDOMNode.bind(WebInspector.domModel,e.id,"",void 0),!1),t.addEventListener("mouseout",WebInspector.domModel.hideDOMNodeHighlight.bind(WebInspector.domModel),!1),t},WebInspector.DOMPresentationUtils.linkifyNodeById=function(e){var t=WebInspector.domModel.nodeForId(e);return t?WebInspector.DOMPresentationUtils.linkifyNodeReference(t):document.createTextNode(WebInspector.UIString("<node>"))},WebInspector.DOMPresentationUtils.buildImagePreviewContents=function(e,t,i,n){var r=WebInspector.resourceTreeModel.resourceForURL(e);if(r){var s=document.createElement("img");s.addEventListener("load",function(){var e=document.createElement("table");e.className="image-preview-container";var r,o=n?n.naturalWidth:s.naturalWidth,a=n?n.naturalHeight:s.naturalHeight,c=n?n.offsetWidth:o,l=n?n.offsetHeight:a;t&&(r=l===a&&c===o?WebInspector.UIString("%d × %d pixels",c,l):WebInspector.UIString("%d × %d pixels (Natural: %d × %d pixels)",c,l,o,a)),e.createChild("tr").createChild("td","image-container").appendChild(s),r&&(e.createChild("tr").createChild("td").createChild("span","description").textContent=r),i(e)},!1),s.addEventListener("error",function(){i()},!1),r.populateImageSource(s)}else i()},WebInspector.DOMPresentationUtils.fullQualifiedSelector=function(e,t){return e.nodeType()!==Node.ELEMENT_NODE?e.localName()||e.nodeName().toLowerCase():WebInspector.DOMPresentationUtils.cssPath(e,t)},WebInspector.DOMPresentationUtils.simpleSelector=function(e){var t=e.localName()||e.nodeName().toLowerCase();return e.nodeType()!==Node.ELEMENT_NODE?t:"input"!==t||!e.getAttribute("type")||e.getAttribute("id")||e.getAttribute("class")?e.getAttribute("id")?t+"#"+e.getAttribute("id"):e.getAttribute("class")?t+"."+e.getAttribute("class").trim().replace(/\s+/g,"."):t:t+'[type="'+e.getAttribute("type")+'"]'},WebInspector.DOMPresentationUtils.cssPath=function(e,t){if(e.nodeType()!==Node.ELEMENT_NODE)return"";for(var i=[],n=e;n;){var r=WebInspector.DOMPresentationUtils._cssPathStep(n,!!t,n===e);if(!r)break;if(i.push(r),r.optimized)break;n=n.parentNode}return i.reverse(),i.join(" > ")},WebInspector.DOMPresentationUtils._cssPathStep=function(e,t,i){if(e.nodeType()!==Node.ELEMENT_NODE)return null;var n=e.getAttribute("id");if(t){if(n)return new WebInspector.DOMNodePathStep(c(n),!0);var r=e.nodeName().toLowerCase();if("body"===r||"head"===r||"html"===r)return new WebInspector.DOMNodePathStep(e.nodeNameInCorrectCase(),!0)}var s=e.nodeNameInCorrectCase();if(n)return new WebInspector.DOMNodePathStep(s+c(n),!0);var o=e.parentNode;if(!o||o.nodeType()===Node.DOCUMENT_NODE)return new WebInspector.DOMNodePathStep(s,!0);function a(e){var t=e.getAttribute("class");return t?t.split(/\s+/g).filter(Boolean).map(function(e){return"$"+e}):[]}function c(e){return"#"+l(e)}function l(e){if(/^-?[a-zA-Z_][a-zA-Z0-9_-]*$/.test(e))return e;var t=/^(?:[0-9]|-[0-9-]?)/.test(e),i=e.length-1;return e.replace(/./g,function(e,n){return t&&0===n||!function(e){return!!/[a-zA-Z0-9_-]/.test(e)||e.charCodeAt(0)>=160}(e)?function(e,t){return"\\"+function(e){var t=e.charCodeAt(0).toString(16);return 1===t.length&&(t="0"+t),t}(e)+(t?"":" ")}(e,n===i):e})}for(var d=a(e),h=!1,p=!1,u=-1,m=-1,_=o.children(),g=0;(-1===u||!p)&&g<_.length;++g){var b=_[g];if(b.nodeType()===Node.ELEMENT_NODE)if(m+=1,b!==e){if(!p&&b.nodeNameInCorrectCase()===s){h=!0;var f=d.keySet(),I=0;for(var v in f)++I;if(0!==I)for(var S=a(b),y=0;y<S.length;++y){var C=S[y];if(f.hasOwnProperty(C)&&(delete f[C],!--I)){p=!0;break}}else p=!0}}else u=m}var W=s;if(i&&"input"===s.toLowerCase()&&e.getAttribute("type")&&!e.getAttribute("id")&&!e.getAttribute("class")&&(W+='[type="'+e.getAttribute("type")+'"]'),p)W+=":nth-child("+(u+1)+")";else if(h)for(var w in d.keySet())W+="."+l(w.substr(1));return new WebInspector.DOMNodePathStep(W,!1)},WebInspector.DOMPresentationUtils.xPath=function(e,t){if(e.nodeType()===Node.DOCUMENT_NODE)return"/";for(var i=[],n=e;n;){var r=WebInspector.DOMPresentationUtils._xPathValue(n,t);if(!r)break;if(i.push(r),r.optimized)break;n=n.parentNode}return i.reverse(),(i.length&&i[0].optimized?"":"/")+i.join("/")},WebInspector.DOMPresentationUtils._xPathValue=function(e,t){var i,n=WebInspector.DOMPresentationUtils._xPathIndex(e);if(-1===n)return null;switch(e.nodeType()){case Node.ELEMENT_NODE:if(t&&e.getAttribute("id"))return new WebInspector.DOMNodePathStep('//*[@id="'+e.getAttribute("id")+'"]',!0);i=e.localName();break;case Node.ATTRIBUTE_NODE:i="@"+e.nodeName();break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:i="text()";break;case Node.PROCESSING_INSTRUCTION_NODE:i="processing-instruction()";break;case Node.COMMENT_NODE:i="comment()";break;case Node.DOCUMENT_NODE:default:i=""}return n>0&&(i+="["+n+"]"),new WebInspector.DOMNodePathStep(i,e.nodeType()===Node.DOCUMENT_NODE)},WebInspector.DOMPresentationUtils._xPathIndex=function(e){function t(e,t){return e===t||(e.nodeType()===Node.ELEMENT_NODE&&t.nodeType()===Node.ELEMENT_NODE?e.localName()===t.localName():e.nodeType()===t.nodeType()||(e.nodeType()===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:e.nodeType())===(t.nodeType()===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:t.nodeType()))}var i,n=e.parentNode?e.parentNode.children():null;if(!n)return 0;for(var r=0;r<n.length;++r)if(t(e,n[r])&&n[r]!==e){i=!0;break}if(!i)return 0;var s=1;for(r=0;r<n.length;++r)if(t(e,n[r])){if(n[r]===e)return s;++s}return-1},WebInspector.DOMNodePathStep=function(e,t){this.value=e,this.optimized=t||!1},WebInspector.DOMNodePathStep.prototype={toString:function(){return this.value}},WebInspector.SidebarSectionTreeElement=function(e,t,i){TreeElement.call(this,e.escapeHTML(),t||{},i),this.expand()},WebInspector.SidebarSectionTreeElement.prototype={selectable:!1,collapse:function(){},get smallChildren(){return this._smallChildren},set smallChildren(e){this._smallChildren!==e&&(this._smallChildren=e,this._childrenListNode.classList.toggle("small",this._smallChildren))},onattach:function(){this._listItemNode.classList.add("sidebar-tree-section")},onreveal:function(){this.listItemElement&&this.listItemElement.scrollIntoViewIfNeeded(!1)},__proto__:TreeElement.prototype},WebInspector.SidebarTreeElement=function(e,t,i,n,r){TreeElement.call(this,"",n,r),r&&(this.disclosureButton=document.createElement("button"),this.disclosureButton.className="disclosure-button"),this.iconElement=document.createElementWithClass("div","icon"),this.statusElement=document.createElementWithClass("div","status"),this.titlesElement=document.createElementWithClass("div","titles"),this.titleContainer=this.titlesElement.createChild("span","title-container"),this.titleElement=this.titleContainer.createChild("span","title"),this.subtitleElement=this.titlesElement.createChild("span","subtitle"),this.className=e,this.mainTitle=t,this.subtitle=i},WebInspector.SidebarTreeElement.prototype={get small(){return this._small},set small(e){this._small=e,this._listItemNode&&this._listItemNode.classList.toggle("small",this._small)},get mainTitle(){return this._mainTitle},set mainTitle(e){this._mainTitle=e,this.refreshTitles()},get subtitle(){return this._subtitle},set subtitle(e){this._subtitle=e,this.refreshTitles()},set wait(e){this._listItemNode.classList.toggle("wait",e)},refreshTitles:function(){var e=this.mainTitle;this.titleElement.textContent!==e&&(this.titleElement.textContent=e);var t=this.subtitle;t?(this.subtitleElement.textContent!==t&&(this.subtitleElement.textContent=t),this.titlesElement.classList.remove("no-subtitle")):(this.subtitleElement.textContent="",this.titlesElement.classList.add("no-subtitle"))},isEventWithinDisclosureTriangle:function(e){return e.target===this.disclosureButton},onattach:function(){this._listItemNode.classList.add("sidebar-tree-item"),this.className&&this._listItemNode.classList.add(this.className),this.small&&this._listItemNode.classList.add("small"),this.hasChildren&&this.disclosureButton&&this._listItemNode.appendChild(this.disclosureButton),this._listItemNode.appendChild(this.iconElement),this._listItemNode.appendChild(this.statusElement),this._listItemNode.appendChild(this.titlesElement)},onreveal:function(){this._listItemNode&&this._listItemNode.scrollIntoViewIfNeeded(!1)},__proto__:TreeElement.prototype},WebInspector.Section=function(e,t){this.element=document.createElement("div"),this.element.className="section",this.element._section=this,this.headerElement=document.createElement("div"),this.headerElement.className="header",this.titleElement=document.createElement("div"),this.titleElement.className="title",this.subtitleElement=document.createElement("div"),this.subtitleElement.className="subtitle",this.headerElement.appendChild(this.subtitleElement),this.headerElement.appendChild(this.titleElement),this.headerElement.addEventListener("click",this.handleClick.bind(this),!1),this.element.appendChild(this.headerElement),this.title=e,this.subtitle=t,this._expanded=!1},WebInspector.Section.prototype={get title(){return this._title},set title(e){this._title!==e&&(this._title=e,e instanceof Node?(this.titleElement.removeChildren(),this.titleElement.appendChild(e)):this.titleElement.textContent=e)},get subtitle(){return this._subtitle},set subtitle(e){this._subtitle!==e&&(this._subtitle=e,this.subtitleElement.textContent=e)},get subtitleAsTextForTest(){var e=this.subtitleElement.textContent,t=this.subtitleElement.querySelector("[data-uncopyable]");if(t){var i=t.getAttribute("data-uncopyable");i&&(e+=i)}return e},get expanded(){return this._expanded},set expanded(e){e?this.expand():this.collapse()},get populated(){return this._populated},set populated(e){this._populated=e,!e&&this._expanded&&(this.onpopulate(),this._populated=!0)},onpopulate:function(){},get firstSibling(){var e=this.element.parentElement;if(!e)return null;for(var t=e.firstChild;t;){if(t._section)return t._section;t=t.nextSibling}return null},get lastSibling(){var e=this.element.parentElement;if(!e)return null;for(var t=e.lastChild;t;){if(t._section)return t._section;t=t.previousSibling}return null},get nextSibling(){var e=this.element;do{e=e.nextSibling}while(e&&!e._section);return e?e._section:null},get previousSibling(){var e=this.element;do{e=e.previousSibling}while(e&&!e._section);return e?e._section:null},expand:function(){this._expanded||(this._expanded=!0,this.element.classList.add("expanded"),this._populated||(this.onpopulate(),this._populated=!0))},collapse:function(){this._expanded&&(this._expanded=!1,this.element.classList.remove("expanded"))},toggleExpanded:function(){this.expanded=!this.expanded},handleClick:function(e){this.toggleExpanded(),e.consume()}},WebInspector.PropertiesSection=function(e,t){WebInspector.Section.call(this,e,t),this.headerElement.classList.add("monospace"),this.propertiesElement=document.createElement("ol"),this.propertiesElement.className="properties properties-tree monospace",this.propertiesTreeOutline=new TreeOutline(this.propertiesElement,!0),this.propertiesTreeOutline.setFocusable(!1),this.propertiesTreeOutline.section=this,this.element.appendChild(this.propertiesElement)},WebInspector.PropertiesSection.prototype={__proto__:WebInspector.Section.prototype},WebInspector.RemoteObject=function(){},WebInspector.RemoteObject.prototype={get type(){throw"Not implemented"},get subtype(){throw"Not implemented"},get description(){throw"Not implemented"},get hasChildren(){throw"Not implemented"},arrayLength:function(){throw"Not implemented"},getOwnProperties:function(e){throw"Not implemented"},getAllProperties:function(e,t){throw"Not implemented"},callFunction:function(e,t,i){throw"Not implemented"},callFunctionJSON:function(e,t,i){throw"Not implemented"},target:function(){throw"Not implemented"}},WebInspector.RemoteObject.fromPrimitiveValue=function(e,t){return t||(t=WebInspector.targetManager.mainTarget()),new WebInspector.RemoteObjectImpl(t,void 0,typeof e,void 0,e)},WebInspector.RemoteObject.fromLocalObject=function(e){return new WebInspector.LocalJSONObject(e)},WebInspector.RemoteObject.resolveNode=function(e,t,i){DOMAgent.resolveNode(e.id,t,function(e,t){i&&i(e||!t?null:WebInspector.RemoteObject.fromPayload(t))})},WebInspector.RemoteObject.fromPayload=function(e,t){return t||(t=WebInspector.targetManager.mainTarget()),console.assert("object"==typeof e,"Remote object payload should only be an object"),new WebInspector.RemoteObjectImpl(t,e.objectId,e.type,e.subtype,e.value,e.description,e.preview)},WebInspector.RemoteObject.type=function(e){if(null===e)return"null";var t=typeof e;return"object"!==t&&"function"!==t?t:e.type},WebInspector.RemoteObject.toCallArgument=function(e){var t=e.type,i=e.value;if("number"===t)switch(e.description){case"NaN":case"Infinity":case"-Infinity":case"-0":i=e.description}return{value:i,objectId:e.objectId,type:t}},WebInspector.RemoteObjectImpl=function(e,t,i,n,r,s,o){WebInspector.RemoteObject.call(this),this._target=e,this._runtimeAgent=e.runtimeAgent(),this._domModel=e.domModel,this._type=i,this._subtype=n,t?(this._objectId=t,this._description=s,this._hasChildren=!0,this._preview=o):(console.assert("object"!==i||null===r),this._description=s||r+"",this._hasChildren=!1,this.value="number"===i&&"number"!=typeof r?Number(r):r)},WebInspector.RemoteObjectImpl.prototype={get objectId(){return this._objectId},get type(){return this._type},get subtype(){return this._subtype},get description(){return this._description},get hasChildren(){return this._hasChildren},get preview(){return this._preview},getOwnProperties:function(e){this.doGetProperties(!0,!1,e)},getAllProperties:function(e,t){this.doGetProperties(!1,e,t)},getProperty:function(e,t){var i=[{value:JSON.stringify(e)}];this.callFunction(function(e){for(var t=this,i=JSON.parse(e),n=0,r=i.length;n<r;++n)t=t[i[n]];return t},i,t)},doGetProperties:function(e,t,i){this._objectId?this._runtimeAgent.getProperties(this._objectId,e,t,function(e,t,n){if(e)i(null,null);else{for(var r=[],s=0;t&&s<t.length;++s){var o=t[s];r.push(new WebInspector.RemoteObjectProperty(o.name,null,o))}var a=null;if(n)for(a=[],s=0;s<n.length;s++)(o=n[s]).value&&a.push(new WebInspector.RemoteObjectProperty(o.name,WebInspector.RemoteObject.fromPayload(o.value)));i(r,a)}}):i(null,null)},setPropertyValue:function(e,t,i){this._objectId?this._runtimeAgent.invoke_evaluate({expression:t,doNotPauseOnExceptionsAndMuteConsole:!0},function(t,n,r){t||r?i(t||n.description):(this.doSetObjectPropertyValue(n,e,i),n.objectId&&this._runtimeAgent.releaseObject(n.objectId))}.bind(this)):i("Can't set a property of non-object.")},doSetObjectPropertyValue:function(e,t,i){var n=[{value:t},WebInspector.RemoteObject.toCallArgument(e)];this._runtimeAgent.callFunctionOn(this._objectId,"function(a, b) { this[a] = b; }",n,!0,void 0,void 0,function(e,t,n){e||n?i(e||t.description):i()})},pushNodeToFrontend:function(e){this._objectId?this._domModel.pushNodeToFrontend(this._objectId,e):e(0)},highlightAsDOMNode:function(){this._domModel.highlightDOMNode(void 0,void 0,this._objectId)},hideDOMNodeHighlight:function(){this._domModel.hideDOMNodeHighlight()},callFunction:function(e,t,i){this._runtimeAgent.callFunctionOn(this._objectId,e.toString(),t,!0,void 0,void 0,function(e,t,n){i&&(e?i(null,!1):i(WebInspector.RemoteObject.fromPayload(t),n))})},callFunctionJSON:function(e,t,i){this._runtimeAgent.callFunctionOn(this._objectId,e.toString(),t,!0,!0,!1,function(e,t,n){i(e||n?null:t.value)})},release:function(){this._objectId&&this._runtimeAgent.releaseObject(this._objectId)},arrayLength:function(){if("array"!==this.subtype)return 0;var e=this._description.match(/\[([0-9]+)\]/);return e?parseInt(e[1],10):0},target:function(){return this._target},__proto__:WebInspector.RemoteObject.prototype},WebInspector.RemoteObject.loadFromObject=function(e,t,i){t?e.getAllProperties(!1,i):WebInspector.RemoteObject.loadFromObjectPerProto(e,i)},WebInspector.RemoteObject.loadFromObjectPerProto=function(e,t){var i,n,r,s=2;function o(){if(!--s){if(i&&n){for(var e=n.slice(0),o=0;o<i.length;o++){var a=i[o];a.isAccessorProperty()||e.push(a)}return t(e,r||null)}t(null,null)}}e.getAllProperties(!0,function(e,t){n=e,o()}),e.getOwnProperties(function(e,t){i=e,r=t,o()})},WebInspector.ScopeRemoteObject=function(e,t,i,n,r,s,o,a){WebInspector.RemoteObjectImpl.call(this,e,t,n,r,s,o,a),this._scopeRef=i,this._savedScopeProperties=void 0,this._debuggerAgent=e.debuggerAgent()},WebInspector.ScopeRemoteObject.fromPayload=function(e,t,i){return i||(i=WebInspector.targetManager.mainTarget()),t?new WebInspector.ScopeRemoteObject(i,e.objectId,t,e.type,e.subtype,e.value,e.description,e.preview):new WebInspector.RemoteObjectImpl(i,e.objectId,e.type,e.subtype,e.value,e.description,e.preview)},WebInspector.ScopeRemoteObject.prototype={doGetProperties:function(e,t,i){t?i([],[]):this._savedScopeProperties?i(this._savedScopeProperties.slice(),[]):WebInspector.RemoteObjectImpl.prototype.doGetProperties.call(this,e,t,function(e,t){this._scopeRef&&e instanceof Array&&(this._savedScopeProperties=e.slice()),i(e,t)}.bind(this))},doSetObjectPropertyValue:function(e,t,i){this._debuggerAgent.setVariableValue(this._scopeRef.number,t,WebInspector.RemoteObject.toCallArgument(e),this._scopeRef.callFrameId,this._scopeRef.functionId,function(n){if(n)i(n);else{if(this._savedScopeProperties)for(var r=0;r<this._savedScopeProperties.length;r++)this._savedScopeProperties[r].name===t&&(this._savedScopeProperties[r].value=WebInspector.RemoteObject.fromPayload(e));i()}}.bind(this))},__proto__:WebInspector.RemoteObjectImpl.prototype},WebInspector.ScopeRef=function(e,t,i){this.number=e,this.callFrameId=t,this.functionId=i},WebInspector.RemoteObjectProperty=function(e,t,i){this.name=e,this.enumerable=!i||!!i.enumerable,this.writable=!i||!!i.writable,null===t&&i?(i.value&&(this.value=WebInspector.RemoteObject.fromPayload(i.value)),i.get&&"undefined"!==i.get.type&&(this.getter=WebInspector.RemoteObject.fromPayload(i.get)),i.set&&"undefined"!==i.set.type&&(this.setter=WebInspector.RemoteObject.fromPayload(i.set))):this.value=t,i&&(this.isOwn=i.isOwn,this.wasThrown=!!i.wasThrown)},WebInspector.RemoteObjectProperty.prototype={isAccessorProperty:function(){return!(!this.getter&&!this.setter)}},WebInspector.RemoteObjectProperty.fromPrimitiveValue=function(e,t){return new WebInspector.RemoteObjectProperty(e,WebInspector.RemoteObject.fromPrimitiveValue(t))},WebInspector.RemoteObjectProperty.fromScopeValue=function(e,t){var i=new WebInspector.RemoteObjectProperty(e,t);return i.writable=!1,i},WebInspector.LocalJSONObject=function(e){WebInspector.RemoteObject.call(this),this._value=e},WebInspector.LocalJSONObject.prototype={get description(){if(this._cachedDescription)return this._cachedDescription;if("object"===this.type)switch(this.subtype){case"array":this._cachedDescription=this._concatenate("[","]",function(e){return e.value.description});break;case"date":this._cachedDescription=""+this._value;break;case"null":this._cachedDescription="null";break;default:this._cachedDescription=this._concatenate("{","}",function(e){return e.name+":"+e.value.description})}else this._cachedDescription=String(this._value);return this._cachedDescription},_concatenate:function(e,t,i){for(var n=e,r=this._children(),s=0;s<r.length;++s){var o=i(r[s]);if(n.length+o.length>100){n+=",…";break}s&&(n+=", "),n+=o}return n+t},get type(){return typeof this._value},get subtype(){return null===this._value?"null":this._value instanceof Array?"array":this._value instanceof Date?"date":void 0},get hasChildren(){return"object"==typeof this._value&&null!==this._value&&!!Object.keys(this._value).length},getOwnProperties:function(e){e(this._children())},getAllProperties:function(e,t){t(e?[]:this._children(),null)},_children:function(){if(!this.hasChildren)return[];var e=this._value;return this._cachedChildren||(this._cachedChildren=Object.keys(e).map(function(e){return new WebInspector.RemoteObjectProperty(e,new WebInspector.LocalJSONObject(this._value[e]))}.bind(this))),this._cachedChildren},isError:function(){return!1},arrayLength:function(){return this._value instanceof Array?this._value.length:0},callFunction:function(e,t,i){var n,r=this._value,s=t?t.map(function(e){return e.value}):[],o=!1;try{n=e.apply(r,s)}catch(e){o=!0}i&&i(WebInspector.RemoteObject.fromLocalObject(n),o)},callFunctionJSON:function(e,t,i){var n,r=this._value,s=t?t.map(function(e){return e.value}):[];try{n=e.apply(r,s)}catch(e){n=null}i(n)},__proto__:WebInspector.RemoteObject.prototype},WebInspector.ObjectPropertiesSection=function(e,t,i,n,r,s,o){this.emptyPlaceholder=n||WebInspector.UIString("No Properties"),this.object=e,this.ignoreHasOwnProperty=r,this.extraProperties=s,this.treeElementConstructor=o||WebInspector.ObjectPropertyTreeElement,this.editable=!0,this.skipProto=!1,WebInspector.PropertiesSection.call(this,t||"",i)},WebInspector.ObjectPropertiesSection._arrayLoadThreshold=100,WebInspector.ObjectPropertiesSection.prototype={enableContextMenu:function(){this.element.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!1)},_contextMenuEventFired:function(e){var t=new WebInspector.ContextMenu(e);t.appendApplicableItems(this.object),t.show()},onpopulate:function(){this.update()},update:function(){if(this.object.arrayLength()>WebInspector.ObjectPropertiesSection._arrayLoadThreshold)return this.propertiesTreeOutline.removeChildren(),void WebInspector.ArrayGroupingTreeElement._populateArray(this.propertiesTreeOutline,this.object,0,this.object.arrayLength()-1);WebInspector.RemoteObject.loadFromObject(this.object,!!this.ignoreHasOwnProperty,function(e,t){e&&this.updateProperties(e,t)}.bind(this))},updateProperties:function(e,t,i,n){if(i||(i=this.treeElementConstructor),n||(n=WebInspector.ObjectPropertiesSection.CompareProperties),this.extraProperties)for(var r=0;r<this.extraProperties.length;++r)e.push(this.extraProperties[r]);if(this.propertiesTreeOutline.removeChildren(),WebInspector.ObjectPropertyTreeElement.populateWithProperties(this.propertiesTreeOutline,e,t,i,n,this.skipProto,this.object),this.propertiesForTest=e,!this.propertiesTreeOutline.children.length){var s=document.createElement("div");s.className="info",s.textContent=this.emptyPlaceholder;var o=new TreeElement(s,null,!1);this.propertiesTreeOutline.appendChild(o)}},__proto__:WebInspector.PropertiesSection.prototype},WebInspector.ObjectPropertiesSection.CompareProperties=function(e,t){var i=e.name,n=t.name;return"__proto__"===i?1:"__proto__"===n?-1:String.naturalOrderComparator(i,n)},WebInspector.ObjectPropertyTreeElement=function(e){this.property=e,TreeElement.call(this,"",null,!1),this.toggleOnClick=!0,this.selectable=!1},WebInspector.ObjectPropertyTreeElement.prototype={onpopulate:function(){var e=this.property.value;console.assert(e),WebInspector.ObjectPropertyTreeElement.populate(this,e)},ondblclick:function(e){return(this.property.writable||this.property.setter)&&this.startEditing(e),!1},onattach:function(){this.update()},update:function(){this.nameElement=document.createElement("span"),this.nameElement.className="name";var e=this.property.name;/^\s|\s$|^$|\n/.test(e)&&(e='"'+e.replace(/\n/g,"↵")+'"'),this.nameElement.textContent=e,this.property.enumerable||this.nameElement.classList.add("dimmed"),this.property.isAccessorProperty()&&this.nameElement.classList.add("properties-accessor-property-name");var t=document.createElement("span");if(t.className="separator",t.textContent=": ",this.property.value){this.valueElement=document.createElement("span"),this.valueElement.className="value";var i,n=this.property.value.description;this.property.wasThrown?i="[Exception: "+n+"]":"string"===this.property.value.type&&"string"==typeof n?(i='"'+n.replace(/\n/g,"↵")+'"',this.valueElement._originalTextContent='"'+n+'"'):"function"===this.property.value.type&&"string"==typeof n?(i=/.*/.exec(n)[0].replace(/ +$/g,""),this.valueElement._originalTextContent=n):"object"===this.property.value.type&&"node"===this.property.value.subtype||(i=n),this.valueElement.setTextContentTruncatedIfNeeded(i||""),this.property.wasThrown&&this.valueElement.classList.add("error"),this.property.value.subtype?this.valueElement.classList.add("console-formatted-"+this.property.value.subtype):this.property.value.type&&this.valueElement.classList.add("console-formatted-"+this.property.value.type),this.valueElement.addEventListener("contextmenu",this._contextMenuFired.bind(this,this.property.value),!1),"object"===this.property.value.type&&"node"===this.property.value.subtype&&this.property.value.description?(WebInspector.DOMPresentationUtils.createSpansForNodeTitle(this.valueElement,this.property.value.description),this.valueElement.addEventListener("mousemove",this._mouseMove.bind(this,this.property.value),!1),this.valueElement.addEventListener("mouseout",this._mouseOut.bind(this,this.property.value),!1)):this.valueElement.title=n||"",this.listItemElement.removeChildren(),this.hasChildren=this.property.value.hasChildren&&!this.property.wasThrown}else this.property.getter?this.valueElement=WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan(this.property.parentObject,[this.property.name],this._onInvokeGetterClick.bind(this)):(this.valueElement=document.createElement("span"),this.valueElement.className="console-formatted-undefined",this.valueElement.textContent=WebInspector.UIString("<unreadable>"),this.valueElement.title=WebInspector.UIString("No property getter"));this.listItemElement.appendChild(this.nameElement),this.listItemElement.appendChild(t),this.listItemElement.appendChild(this.valueElement)},_contextMenuFired:function(e,t){var i=new WebInspector.ContextMenu(t);this.populateContextMenu(i),i.appendApplicableItems(e),i.show()},populateContextMenu:function(e){},_mouseMove:function(e){this.property.value.highlightAsDOMNode()},_mouseOut:function(e){this.property.value.hideDOMNodeHighlight()},updateSiblings:function(){this.parent.root?this.treeOutline.section.update():this.parent.shouldRefreshChildren=!0},renderPromptAsBlock:function(){return!1},elementAndValueToEdit:function(e){return[this.valueElement,"string"==typeof this.valueElement._originalTextContent?this.valueElement._originalTextContent:void 0]},startEditing:function(e){var t=this.elementAndValueToEdit(e),i=t[0],n=t[1];if(!WebInspector.isBeingEdited(i)&&this.treeOutline.section.editable&&!this._readOnly){void 0!==n&&i.setTextContentTruncatedIfNeeded(n,WebInspector.UIString("<string is too large to edit>"));var r={expanded:this.expanded,elementToEdit:i,previousContent:i.textContent};this.hasChildren=!1,this.listItemElement.classList.add("editing-sub-part"),this._prompt=new WebInspector.ObjectPropertyPrompt(this.editingCommitted.bind(this,null,i.textContent,r.previousContent,r),this.editingCancelled.bind(this,null,r),this.renderPromptAsBlock());var s=this._prompt.attachAndStartEditing(i,function(){this.editingCommitted(null,i.textContent,r.previousContent,r)}.bind(this));window.getSelection().setBaseAndExtent(i,0,i,1),s.addEventListener("keydown",this._promptKeyDown.bind(this,r),!1)}},isEditing:function(){return!!this._prompt},editingEnded:function(e){this._prompt.detach(),delete this._prompt,this.listItemElement.scrollLeft=0,this.listItemElement.classList.remove("editing-sub-part"),e.expanded&&this.expand()},editingCancelled:function(e,t){this.editingEnded(t),this.update()},editingCommitted:function(e,t,i,n){t!==i?(this.editingEnded(n),this.applyExpression(t,!0)):this.editingCancelled(e,n)},_promptKeyDown:function(e,t){return isEnterKey(t)?(t.consume(!0),void this.editingCommitted(null,e.elementToEdit.textContent,e.previousContent,e)):"U+001B"===t.keyIdentifier?(t.consume(),void this.editingCancelled(null,e)):void 0},applyExpression:function(e,t){var i=(e=e.trim()).length;this.property.parentObject.setPropertyValue(this.property.name,e.trim(),function(e){t&&(e&&this.update(),i?this.updateSiblings():this.parent.removeChild(this))}.bind(this))},propertyPath:function(){if("_cachedPropertyPath"in this)return this._cachedPropertyPath;var e,t=this;do{t.property&&(e=e?t.property.name+"."+e:t.property.name),t=t.parent}while(t&&!t.root);return this._cachedPropertyPath=e,e},_onInvokeGetterClick:function(e,t){e&&(this.property.value=e,this.property.wasThrown=t,this.update(),this.shouldRefreshChildren=!0)},__proto__:TreeElement.prototype},WebInspector.ObjectPropertyTreeElement.populate=function(e,t){if(!e.children.length||e.shouldRefreshChildren){if(t.arrayLength()>WebInspector.ObjectPropertiesSection._arrayLoadThreshold)return e.removeChildren(),void WebInspector.ArrayGroupingTreeElement._populateArray(e,t,0,t.arrayLength()-1);WebInspector.RemoteObject.loadFromObjectPerProto(t,function(i,n){e.removeChildren(),i&&(n||(n=[]),WebInspector.ObjectPropertyTreeElement.populateWithProperties(e,i,n,e.treeOutline.section.treeElementConstructor,WebInspector.ObjectPropertiesSection.CompareProperties,e.treeOutline.section.skipProto,t))})}},WebInspector.ObjectPropertyTreeElement.populateWithProperties=function(e,t,i,n,r,s,o){t.sort(r);for(var a=0;a<t.length;++a){var c=t[a];if(!s||"__proto__"!==c.name)if(c.isAccessorProperty()){if("__proto__"!==c.name&&c.getter&&(c.parentObject=o,e.appendChild(new n(c))),c.isOwn){if(c.getter){var l=new WebInspector.RemoteObjectProperty("get "+c.name,c.getter);l.parentObject=o,e.appendChild(new n(l))}if(c.setter){var d=new WebInspector.RemoteObjectProperty("set "+c.name,c.setter);d.parentObject=o,e.appendChild(new n(d))}}}else c.parentObject=o,e.appendChild(new n(c))}if(o&&"function"===o.type){var h=!1;if(i)for(a=0;a<i.length;a++)if("[[TargetFunction]]"==i[a].name){h=!0;break}h||e.appendChild(new WebInspector.FunctionScopeMainTreeElement(o))}if(i)for(a=0;a<i.length;a++)i[a].parentObject=o,e.appendChild(new n(i[a]))},WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan=function(e,t,i){var n=document.createElement("span"),r=n.createChild("span","properties-calculate-value-button");return r.textContent=WebInspector.UIString("(...)"),r.title=WebInspector.UIString("Invoke property getter"),r.addEventListener("click",function(n){n.consume(),e.getProperty(t,i)},!1),n},WebInspector.FunctionScopeMainTreeElement=function(e){TreeElement.call(this,"<function scope>",null,!1),this.toggleOnClick=!0,this.selectable=!1,this._remoteObject=e,this.hasChildren=!0},WebInspector.FunctionScopeMainTreeElement.prototype={onpopulate:function(){this.children.length&&!this.shouldRefreshChildren||DebuggerAgent.getFunctionDetails(this._remoteObject.objectId,function(e,t){if(e)console.error(e);else{this.removeChildren();var i=t.scopeChain;if(i)for(var n=0;n<i.length;++n){var r,s=i[n],o=null;switch(s.type){case DebuggerAgent.ScopeType.Local:o=WebInspector.UIString("Local"),r=!1;break;case DebuggerAgent.ScopeType.Closure:o=WebInspector.UIString("Closure"),r=!1;break;case DebuggerAgent.ScopeType.Catch:o=WebInspector.UIString("Catch"),r=!1;break;case DebuggerAgent.ScopeType.With:o=WebInspector.UIString("With Block"),r=!0;break;case DebuggerAgent.ScopeType.Global:o=WebInspector.UIString("Global"),r=!0;break;default:console.error("Unknown scope type: "+s.type);continue}var a=r?void 0:new WebInspector.ScopeRef(n,void 0,this._remoteObject.objectId),c=WebInspector.ScopeRemoteObject.fromPayload(s.object,a);if(r){var l=WebInspector.RemoteObjectProperty.fromScopeValue(o,c);l.parentObject=null,this.appendChild(new this.treeOutline.section.treeElementConstructor(l))}else{var d=new WebInspector.ScopeTreeElement(o,null,c);this.appendChild(d)}}}}.bind(this))},__proto__:TreeElement.prototype},WebInspector.ScopeTreeElement=function(e,t,i){TreeElement.call(this,e,null,!1),this.toggleOnClick=!0,this.selectable=!1,this._remoteObject=i,this.hasChildren=!0},WebInspector.ScopeTreeElement.prototype={onpopulate:function(){WebInspector.ObjectPropertyTreeElement.populate(this,this._remoteObject)},__proto__:TreeElement.prototype},WebInspector.ArrayGroupingTreeElement=function(e,t,i,n){TreeElement.call(this,String.sprintf("[%d … %d]",t,i),void 0,!0),this._fromIndex=t,this._toIndex=i,this._object=e,this._readOnly=!0,this._propertyCount=n,this._populated=!1},WebInspector.ArrayGroupingTreeElement._bucketThreshold=100,WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold=25e4,WebInspector.ArrayGroupingTreeElement._populateArray=function(e,t,i,n){WebInspector.ArrayGroupingTreeElement._populateRanges(e,t,i,n,!0)},WebInspector.ArrayGroupingTreeElement._populateRanges=function(e,t,i,n,r){t.callFunctionJSON(function(e,t,i,n){var r=null;function s(i){if(t-e<n)for(var s=e;s<=t;++s)s in this&&i(s);else{r=r||Object.getOwnPropertyNames(this);for(s=0;s<r.length;++s){var o=r[s],a=o>>>0;String(a)===o&&e<=a&&a<=t&&i(a)}}}var o=0;s.call(this,function(){++o});var a;a=o<=i?o:Math.pow(i,Math.ceil(Math.log(o)/Math.log(i))-1);var c=[];o=0;var l=-1,d=0;return s.call(this,function(e){-1===l&&(l=e),d=e,++o===a&&(c.push([l,d,o]),o=0,l=-1)}),o>0&&c.push([l,d,o]),c},[{value:i},{value:n},{value:WebInspector.ArrayGroupingTreeElement._bucketThreshold},{value:WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold}],function(i){if(1==i.length)WebInspector.ArrayGroupingTreeElement._populateAsFragment(e,t,i[0][0],i[0][1]);else for(var n=0;n<i.length;++n){var s=i[n][0],o=i[n][1],a=i[n][2];s==o?WebInspector.ArrayGroupingTreeElement._populateAsFragment(e,t,s,o):e.appendChild(new WebInspector.ArrayGroupingTreeElement(t,s,o,a))}r&&WebInspector.ArrayGroupingTreeElement._populateNonIndexProperties(e,t)})},WebInspector.ArrayGroupingTreeElement._populateAsFragment=function(e,t,i,n){t.callFunction(function(e,t,i){var n=Object.create(null);if(t-e<i)for(var r=e;r<=t;++r)r in this&&(n[r]=this[r]);else{var s=Object.getOwnPropertyNames(this);for(r=0;r<s.length;++r){var o=s[r],a=o>>>0;String(a)===o&&e<=a&&a<=t&&(n[a]=this[a])}}return n},[{value:i},{value:n},{value:WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold}],function(t,i){t&&!i&&t.getAllProperties(!1,function(t,i){if(t){t.sort(WebInspector.ObjectPropertiesSection.CompareProperties);for(var n=0;n<t.length;++n){t[n].parentObject=this._object;var r=new e.treeOutline.section.treeElementConstructor(t[n]);r._readOnly=!0,e.appendChild(r)}}}.bind(this))}.bind(this))},WebInspector.ArrayGroupingTreeElement._populateNonIndexProperties=function(e,t){t.callFunction(function(){for(var e=Object.create(this.__proto__),t=Object.getOwnPropertyNames(this),i=0;i<t.length;++i){var n=t[i];if(String(n>>>0)!==n||n>>>0==4294967295){var r=Object.getOwnPropertyDescriptor(this,n);r&&Object.defineProperty(e,n,r)}}return e},void 0,function(t,i){t&&!i&&t.getOwnProperties(function(t,i){if(t){t.sort(WebInspector.ObjectPropertiesSection.CompareProperties);for(var n=0;n<t.length;++n){t[n].parentObject=this._object;var r=new e.treeOutline.section.treeElementConstructor(t[n]);r._readOnly=!0,e.appendChild(r)}}}.bind(this))}.bind(this))},WebInspector.ArrayGroupingTreeElement.prototype={onpopulate:function(){this._populated||(this._populated=!0,this._propertyCount>=WebInspector.ArrayGroupingTreeElement._bucketThreshold?WebInspector.ArrayGroupingTreeElement._populateRanges(this,this._object,this._fromIndex,this._toIndex,!1):WebInspector.ArrayGroupingTreeElement._populateAsFragment(this,this._object,this._fromIndex,this._toIndex))},onattach:function(){this.listItemElement.classList.add("name")},__proto__:TreeElement.prototype},WebInspector.ObjectPropertyPrompt=function(e,t,i){WebInspector.TextPrompt.call(this,WebInspector.runtimeModel.completionsForTextPrompt.bind(WebInspector.runtimeModel)),this.setSuggestBoxEnabled("generic-suggest"),i&&this.renderAsBlock()},WebInspector.ObjectPropertyPrompt.prototype={__proto__:WebInspector.TextPrompt.prototype},WebInspector.ObjectPopoverHelper=function(e,t,i,n,r){WebInspector.PopoverHelper.call(this,e,t,this._showObjectPopover.bind(this),this._onHideObjectPopover.bind(this),r),this._queryObject=i,this._onHideCallback=n,this._popoverObjectGroup="popover",e.addEventListener("scroll",this.hidePopover.bind(this),!0)},WebInspector.ObjectPopoverHelper.prototype={setRemoteObjectFormatter:function(e){this._remoteObjectFormatter=e},_showObjectPopover:function(e,t){this._queryObject(e,function(i,n,r){if(!t.disposed)if(n)this.hidePopover();else{var s=r||e,o=this._remoteObjectFormatter&&this._remoteObjectFormatter(i)||i.description,a=null;if("object"!==i.type){if((a=document.createElement("span")).className="monospace console-formatted-"+i.type,a.style.whiteSpace="pre",a.textContent=o,"function"===i.type)return void DebuggerAgent.getFunctionDetails(i.objectId,function(e,i,n,r){if(n)console.error(n);else{var s=document.createElement("div");s.className="inline-block";var o=s.createChild("div","function-popover-title source-code");o.createChild("span","function-name").textContent=r.functionName||WebInspector.UIString("(anonymous function)"),this._linkifier=new WebInspector.Linkifier;var a=r.location,c=this._linkifier.linkifyRawLocation(a,"function-location-link");c&&o.appendChild(c),s.appendChild(i),t.show(s,e)}}.bind(this,s,a));"string"===i.type&&(a.textContent='"'+a.textContent+'"'),t.show(a,s)}else{"node"===i.subtype&&i.highlightAsDOMNode(),a=document.createElement("div"),this._titleElement=document.createElement("div"),this._titleElement.className="source-frame-popover-title monospace",this._titleElement.textContent=o,a.appendChild(this._titleElement);var c=new WebInspector.ObjectPropertiesSection(i);"HTML"===o.substr(0,4)&&(this._sectionUpdateProperties=c.updateProperties.bind(c),c.updateProperties=this._updateHTMLId.bind(this)),c.expanded=!0,c.element.classList.add("source-frame-popover-tree"),c.headerElement.classList.add("hidden"),a.appendChild(c.element);const e=300,n=250;t.show(a,s,e,n)}}}.bind(this),this._popoverObjectGroup)},_onHideObjectPopover:function(){WebInspector.domModel.hideDOMNodeHighlight(),this._linkifier&&(this._linkifier.reset(),delete this._linkifier),this._onHideCallback&&this._onHideCallback(),RuntimeAgent.releaseObjectGroup(this._popoverObjectGroup)},_updateHTMLId:function(e,t,i){for(var n=0;n<e.length;++n)if("id"===e[n].name){e[n].value.description&&(this._titleElement.textContent+="#"+e[n].value.description);break}this._sectionUpdateProperties(e,t,i)},__proto__:WebInspector.PopoverHelper.prototype},WebInspector.NativeBreakpointsSidebarPane=function(e){WebInspector.SidebarPane.call(this,e),this.registerRequiredCSS("breakpointsList.css"),this.listElement=document.createElement("ol"),this.listElement.className="breakpoint-list",this.emptyElement=document.createElement("div"),this.emptyElement.className="info",this.emptyElement.textContent=WebInspector.UIString("No Breakpoints"),this.bodyElement.appendChild(this.emptyElement)},WebInspector.NativeBreakpointsSidebarPane.prototype={_addListElement:function(e,t){t?this.listElement.insertBefore(e,t):(this.listElement.firstChild||(this.bodyElement.removeChild(this.emptyElement),this.bodyElement.appendChild(this.listElement)),this.listElement.appendChild(e))},_removeListElement:function(e){this.listElement.removeChild(e),this.listElement.firstChild||(this.bodyElement.removeChild(this.listElement),this.bodyElement.appendChild(this.emptyElement))},_reset:function(){this.listElement.removeChildren(),this.listElement.parentElement&&(this.bodyElement.removeChild(this.listElement),this.bodyElement.appendChild(this.emptyElement))},__proto__:WebInspector.SidebarPane.prototype},WebInspector.DOMBreakpointsSidebarPane=function(){WebInspector.NativeBreakpointsSidebarPane.call(this,WebInspector.UIString("DOM Breakpoints")),this._breakpointElements={},this._breakpointTypes={SubtreeModified:"subtree-modified",AttributeModified:"attribute-modified",NodeRemoved:"node-removed"},this._breakpointTypeLabels={},this._breakpointTypeLabels[this._breakpointTypes.SubtreeModified]=WebInspector.UIString("Subtree Modified"),this._breakpointTypeLabels[this._breakpointTypes.AttributeModified]=WebInspector.UIString("Attribute Modified"),this._breakpointTypeLabels[this._breakpointTypes.NodeRemoved]=WebInspector.UIString("Node Removed"),this._contextMenuLabels={},this._contextMenuLabels[this._breakpointTypes.SubtreeModified]=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Subtree modifications":"Subtree Modifications"),this._contextMenuLabels[this._breakpointTypes.AttributeModified]=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Attributes modifications":"Attributes Modifications"),this._contextMenuLabels[this._breakpointTypes.NodeRemoved]=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Node removal":"Node Removal"),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._inspectedURLChanged,this),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.NodeRemoved,this._nodeRemoved,this)},WebInspector.DOMBreakpointsSidebarPane.prototype={_inspectedURLChanged:function(e){this._breakpointElements={},this._reset();var t=e.data;this._inspectedURL=t.removeURLFragment()},populateNodeContextMenu:function(e,t){if(!e.pseudoType()){var i={};for(var n in this._breakpointElements){var r=this._breakpointElements[n];r._node===e&&(i[r._type]=!0)}var s=t.appendSubMenuItem(WebInspector.UIString("Break on..."));for(var o in this._breakpointTypes){var a=this._breakpointTypes[o],c=this._contextMenuLabels[a];s.appendCheckboxItem(c,l.bind(this,a),i[a])}}function l(t){i[t]?this._removeBreakpoint(e,t):this._setBreakpoint(e,t,!0),this._saveBreakpoints()}},createBreakpointHitStatusMessage:function(e,t){if(e.type===this._breakpointTypes.SubtreeModified){var i=WebInspector.RemoteObject.fromPayload(e.targetNode);i.pushNodeToFrontend(function(n){n&&i.release(),this._doCreateBreakpointHitStatusMessage(e,n,t)}.bind(this))}else this._doCreateBreakpointHitStatusMessage(e,null,t)},_doCreateBreakpointHitStatusMessage:function(e,t,i){var n,r=[this._breakpointTypeLabels[e.type],WebInspector.DOMPresentationUtils.linkifyNodeById(e.nodeId)],s="";t&&(s=WebInspector.DOMPresentationUtils.linkifyNodeById(t)),e.type===this._breakpointTypes.SubtreeModified?e.insertion?t!==e.nodeId?(n='Paused on a "%s" breakpoint set on %s, because a new child was added to its descendant %s.',r.push(s)):n='Paused on a "%s" breakpoint set on %s, because a new child was added to that node.':(n='Paused on a "%s" breakpoint set on %s, because its descendant %s was removed.',r.push(s)):n='Paused on a "%s" breakpoint set on %s.';var o=document.createElement("span");WebInspector.formatLocalized(n,r,{s:function(e){return e}},"",function(e,t){"string"==typeof t&&(t=document.createTextNode(t)),o.appendChild(t)}),i(o)},_nodeRemoved:function(e){var t=e.data.node;this._removeBreakpointsForNode(e.data.node);var i=t.children();if(i){for(var n=0;n<i.length;++n)this._removeBreakpointsForNode(i[n]);this._saveBreakpoints()}},_removeBreakpointsForNode:function(e){for(var t in this._breakpointElements){var i=this._breakpointElements[t];i._node===e&&this._removeBreakpoint(i._node,i._type)}},_setBreakpoint:function(e,t,i){var n=this._createBreakpointId(e.id,t);if(!(n in this._breakpointElements)){var r=document.createElement("li");r._node=e,r._type=t,r.addEventListener("contextmenu",this._contextMenu.bind(this,e,t),!0);var s=document.createElement("input");s.className="checkbox-elem",s.type="checkbox",s.checked=i,s.addEventListener("click",this._checkboxClicked.bind(this,e,t),!1),r._checkboxElement=s,r.appendChild(s);var o=document.createElement("span");r.appendChild(o);var a=WebInspector.DOMPresentationUtils.linkifyNodeById(e.id);a.classList.add("monospace"),o.appendChild(a);var c=document.createElement("div");c.className="source-text",c.textContent=this._breakpointTypeLabels[t],o.appendChild(c);for(var l=this.listElement.firstChild;l&&!(l._type&&l._type<r._type);)l=l.nextSibling;this._addListElement(r,l),this._breakpointElements[n]=r,i&&DOMDebuggerAgent.setDOMBreakpoint(e.id,t)}},_removeAllBreakpoints:function(){for(var e in this._breakpointElements){var t=this._breakpointElements[e];this._removeBreakpoint(t._node,t._type)}this._saveBreakpoints()},_removeBreakpoint:function(e,t){var i=this._createBreakpointId(e.id,t),n=this._breakpointElements[i];n&&(this._removeListElement(n),delete this._breakpointElements[i],n._checkboxElement.checked&&DOMDebuggerAgent.removeDOMBreakpoint(e.id,t))},_contextMenu:function(e,t,i){var n=new WebInspector.ContextMenu(i);n.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Remove breakpoint":"Remove Breakpoint"),function(){this._removeBreakpoint(e,t),this._saveBreakpoints()}.bind(this)),n.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Remove all DOM breakpoints":"Remove All DOM Breakpoints"),this._removeAllBreakpoints.bind(this)),n.show()},_checkboxClicked:function(e,t,i){i.target.checked?DOMDebuggerAgent.setDOMBreakpoint(e.id,t):DOMDebuggerAgent.removeDOMBreakpoint(e.id,t),this._saveBreakpoints()},highlightBreakpoint:function(e){var t=this._createBreakpointId(e.nodeId,e.type),i=this._breakpointElements[t];i&&(this.expand(),i.classList.add("breakpoint-hit"),this._highlightedElement=i)},clearBreakpointHighlight:function(){this._highlightedElement&&(this._highlightedElement.classList.remove("breakpoint-hit"),delete this._highlightedElement)},_createBreakpointId:function(e,t){return e+":"+t},_saveBreakpoints:function(){for(var e=[],t=WebInspector.settings.domBreakpoints.get(),i=0;i<t.length;++i){var n=t[i];n.url!==this._inspectedURL&&e.push(n)}for(var r in this._breakpointElements){var s=this._breakpointElements[r];e.push({url:this._inspectedURL,path:s._node.path(),type:s._type,enabled:s._checkboxElement.checked})}WebInspector.settings.domBreakpoints.set(e)},restoreBreakpoints:function(){var e={};function t(t,i){var n=i?WebInspector.domModel.nodeForId(i):null;if(n)for(var r=e[t],s=0;s<r.length;++s)this._setBreakpoint(n,r[s].type,r[s].enabled)}for(var i=WebInspector.settings.domBreakpoints.get(),n=0;n<i.length;++n){var r=i[n];if(r.url===this._inspectedURL){var s=r.path;e[s]||(e[s]=[],WebInspector.domModel.pushNodeByPathToFrontend(s,t.bind(this,s))),e[s].push(r)}}},createProxy:function(e){var t=new WebInspector.DOMBreakpointsSidebarPane.Proxy(this,e);return this._proxies||(this._proxies=[]),this._proxies.push(t),t},onContentReady:function(){for(var e=0;e!=this._proxies.length;e++)this._proxies[e].onContentReady()},__proto__:WebInspector.NativeBreakpointsSidebarPane.prototype},WebInspector.DOMBreakpointsSidebarPane.Proxy=function(e,t){WebInspector.View._assert(!e.titleElement.firstChild,"Cannot create proxy for a sidebar pane with a toolbar"),WebInspector.SidebarPane.call(this,e.title()),this.registerRequiredCSS("breakpointsList.css"),this._wrappedPane=e,this._panel=t,this.bodyElement.remove(),this.bodyElement=this._wrappedPane.bodyElement},WebInspector.DOMBreakpointsSidebarPane.Proxy.prototype={expand:function(){this._wrappedPane.expand()},onContentReady:function(){this._panel.isShowing()&&this._reattachBody(),WebInspector.SidebarPane.prototype.onContentReady.call(this)},wasShown:function(){WebInspector.SidebarPane.prototype.wasShown.call(this),this._reattachBody()},_reattachBody:function(){this.bodyElement.parentNode!==this.element&&this.element.appendChild(this.bodyElement)},__proto__:WebInspector.SidebarPane.prototype},WebInspector.domBreakpointsSidebarPane,WebInspector.Color=function(e,t,i){this._rgba=e,this._originalText=i||null,this._format=t||null,void 0===this._rgba[3]&&(this._rgba[3]=1);for(var n=0;n<4;++n)this._rgba[n]<0&&(this._rgba[n]=0),this._rgba[n]>1&&(this._rgba[n]=1)},WebInspector.Color.parse=function(e){var t=e.toLowerCase().replace(/\s+/g,""),i=t.match(/^(?:#([0-9a-f]{3,6})|rgb\(([^)]+)\)|(\w+)|hsl\(([^)]+)\))$/i);if(i){if(i[1]){var n,r=i[1].toUpperCase();3===r.length?(n=WebInspector.Color.Format.ShortHEX,r=r.charAt(0)+r.charAt(0)+r.charAt(1)+r.charAt(1)+r.charAt(2)+r.charAt(2)):n=WebInspector.Color.Format.HEX;var s=parseInt(r.substring(0,2),16),o=parseInt(r.substring(2,4),16),a=parseInt(r.substring(4,6),16);return new WebInspector.Color([s/255,o/255,a/255,1],n,e)}if(i[2]){var c=i[2].split(/\s*,\s*/),l=[WebInspector.Color._parseRgbNumeric(c[0]),WebInspector.Color._parseRgbNumeric(c[1]),WebInspector.Color._parseRgbNumeric(c[2]),1];return new WebInspector.Color(l,WebInspector.Color.Format.RGB,e)}if(i[3]){var d=i[3].toLowerCase();if(d in WebInspector.Color.Nicknames){l=WebInspector.Color.Nicknames[d];var h=WebInspector.Color.fromRGBA(l);return h._format=WebInspector.Color.Format.Nickname,h._originalText=d,h}return null}if(i[4]){var p=i[4].replace(/%/g,"").split(/\s*,\s*/),u=[WebInspector.Color._parseHueNumeric(p[0]),WebInspector.Color._parseSatLightNumeric(p[1]),WebInspector.Color._parseSatLightNumeric(p[2]),1];return l=WebInspector.Color._hsl2rgb(u),new WebInspector.Color(l,WebInspector.Color.Format.HSL,e)}return null}if(i=t.match(/^(?:rgba\(([^)]+)\)|hsla\(([^)]+)\))$/)){if(i[1]){var m=i[1].split(/\s*,\s*/);return l=[WebInspector.Color._parseRgbNumeric(m[0]),WebInspector.Color._parseRgbNumeric(m[1]),WebInspector.Color._parseRgbNumeric(m[2]),WebInspector.Color._parseAlphaNumeric(m[3])],new WebInspector.Color(l,WebInspector.Color.Format.RGBA,e)}if(i[2]){var _=i[2].replace(/%/g,"").split(/\s*,\s*/);return u=[WebInspector.Color._parseHueNumeric(_[0]),WebInspector.Color._parseSatLightNumeric(_[1]),WebInspector.Color._parseSatLightNumeric(_[2]),WebInspector.Color._parseAlphaNumeric(_[3])],l=WebInspector.Color._hsl2rgb(u),new WebInspector.Color(l,WebInspector.Color.Format.HSLA,e)}}return null},WebInspector.Color.fromRGBA=function(e){return new WebInspector.Color([e[0]/255,e[1]/255,e[2]/255,e[3]])},WebInspector.Color.fromHSVA=function(e){var t=e[0],i=e[1],n=e[2],r=(2-i)*n;0===n||0===i?i=0:i*=n/(r<1?r:2-r);var s=[t,i,r/2,e[3]];return new WebInspector.Color(WebInspector.Color._hsl2rgb(s),WebInspector.Color.Format.HSLA)},WebInspector.Color.prototype={format:function(){return this._format},hsla:function(){if(this._hsla)return this._hsla;var e=this._rgba[0],t=this._rgba[1],i=this._rgba[2],n=Math.max(e,t,i),r=Math.min(e,t,i),s=n-r,o=n+r;if(r===n)var a=0;else a=e===n?(1/6*(t-i)/s+1)%1:t===n?1/6*(i-e)/s+1/3:1/6*(e-t)/s+2/3;var c=.5*o;if(0===c)var l=0;else l=1===c?1:c<=.5?s/o:s/(2-o);return this._hsla=[a,l,c,this._rgba[3]],this._hsla},hsva:function(){var e=this.hsla(),t=e[0],i=e[1],n=e[2];return[t,0!=(i*=n<.5?n:1-n)?2*i/(n+i):0,n+i,e[3]]},hasAlpha:function(){return 1!==this._rgba[3]},canBeShortHex:function(){if(this.hasAlpha())return!1;for(var e=0;e<3;++e)if(Math.round(255*this._rgba[e])%17)return!1;return!0},toString:function(e){function t(e){return Math.round(255*e)}function i(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}function n(e){return(Math.round(255*e)/17).toString(16)}switch(e||(e=this._format),e){case WebInspector.Color.Format.Original:return this._originalText;case WebInspector.Color.Format.RGB:return this.hasAlpha()?null:String.sprintf("rgb(%d, %d, %d)",t(this._rgba[0]),t(this._rgba[1]),t(this._rgba[2]));case WebInspector.Color.Format.RGBA:return String.sprintf("rgba(%d, %d, %d, %f)",t(this._rgba[0]),t(this._rgba[1]),t(this._rgba[2]),this._rgba[3]);case WebInspector.Color.Format.HSL:if(this.hasAlpha())return null;var r=this.hsla();return String.sprintf("hsl(%d, %d%, %d%)",Math.round(360*r[0]),Math.round(100*r[1]),Math.round(100*r[2]));case WebInspector.Color.Format.HSLA:var s=this.hsla();return String.sprintf("hsla(%d, %d%, %d%, %f)",Math.round(360*s[0]),Math.round(100*s[1]),Math.round(100*s[2]),s[3]);case WebInspector.Color.Format.HEX:return this.hasAlpha()?null:String.sprintf("#%s%s%s",i(this._rgba[0]),i(this._rgba[1]),i(this._rgba[2])).toUpperCase();case WebInspector.Color.Format.ShortHEX:return this.canBeShortHex()?String.sprintf("#%s%s%s",n(this._rgba[0]),n(this._rgba[1]),n(this._rgba[2])).toUpperCase():null;case WebInspector.Color.Format.Nickname:return this.nickname()}return this._originalText},_canonicalRGBA:function(){for(var e=new Array(3),t=0;t<3;++t)e[t]=Math.round(255*this._rgba[t]);return 1!==this._rgba[3]&&e.push(this._rgba[3]),e},nickname:function(){if(!WebInspector.Color._rgbaToNickname)for(var e in WebInspector.Color._rgbaToNickname={},WebInspector.Color.Nicknames){var t=WebInspector.Color.Nicknames[e];WebInspector.Color._rgbaToNickname[t]=e}return WebInspector.Color._rgbaToNickname[this._canonicalRGBA()]||null},toProtocolRGBA:function(){var e=this._canonicalRGBA(),t={r:e[0],g:e[1],b:e[2]};return 1!==e[3]&&(t.a=e[3]),t},invert:function(){var e=[];return e[0]=1-this._rgba[0],e[1]=1-this._rgba[1],e[2]=1-this._rgba[2],e[3]=this._rgba[3],new WebInspector.Color(e)},setAlpha:function(e){var t=this._rgba.slice();return t[3]=e,new WebInspector.Color(t)}},WebInspector.Color._parseRgbNumeric=function(e){var t=parseInt(e,10);return-1!==e.indexOf("%")?t/=100:t/=255,t},WebInspector.Color._parseHueNumeric=function(e){return isNaN(e)?0:parseFloat(e)/360%1},WebInspector.Color._parseSatLightNumeric=function(e){return parseFloat(e)/100},WebInspector.Color._parseAlphaNumeric=function(e){return isNaN(e)?0:parseFloat(e)},WebInspector.Color._hsl2rgb=function(e){var t=e[0],i=e[1],n=e[2];function r(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}if(i<0&&(i=0),n<=.5)var s=n*(1+i);else s=n+i-n*i;var o=2*n-s,a=t,c=t-1/3;return[r(o,s,t+1/3),r(o,s,a),r(o,s,c),e[3]]},WebInspector.Color.Nicknames={aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[237,20,61],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},WebInspector.Color.PageHighlight={Content:WebInspector.Color.fromRGBA([111,168,220,.66]),ContentLight:WebInspector.Color.fromRGBA([111,168,220,.5]),ContentOutline:WebInspector.Color.fromRGBA([9,83,148]),Padding:WebInspector.Color.fromRGBA([147,196,125,.55]),PaddingLight:WebInspector.Color.fromRGBA([147,196,125,.4]),Border:WebInspector.Color.fromRGBA([255,229,153,.66]),BorderLight:WebInspector.Color.fromRGBA([255,229,153,.5]),Margin:WebInspector.Color.fromRGBA([246,178,107,.66]),MarginLight:WebInspector.Color.fromRGBA([246,178,107,.5]),EventTarget:WebInspector.Color.fromRGBA([255,196,196,.66])},WebInspector.Color.Format={Original:"original",Nickname:"nickname",HEX:"hex",ShortHEX:"shorthex",RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla"},WebInspector.CSSMetadata=function(e){this._values=[],this._longhands={},this._shorthands={};for(var t=0;t<e.length;++t){var i=e[t];if("string"!=typeof i){var n=i.name;this._values.push(n);var r=e[t].longhands;if(r){this._longhands[n]=r;for(var s=0;s<r.length;++s){var o=r[s],a=this._shorthands[o];a||(a=[],this._shorthands[o]=a),a.push(n)}}}else this._values.push(i)}this._values.sort()},WebInspector.CSSMetadata.cssPropertiesMetainfo=new WebInspector.CSSMetadata([]),WebInspector.CSSMetadata.isColorAwareProperty=function(e){return!0===WebInspector.CSSMetadata._colorAwareProperties[e]},WebInspector.CSSMetadata.colors=function(){return WebInspector.CSSMetadata._colorsKeySet||(WebInspector.CSSMetadata._colorsKeySet=WebInspector.CSSMetadata._colors.keySet()),WebInspector.CSSMetadata._colorsKeySet},WebInspector.CSSMetadata.InheritedProperties=["azimuth","border-collapse","border-spacing","caption-side","color","cursor","direction","elevation","empty-cells","font-family","font-size","font-style","font-variant","font-weight","font","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","list-style","orphans","pitch-range","pitch","quotes","resize","richness","speak-header","speak-numeral","speak-punctuation","speak","speech-rate","stress","text-align","text-indent","text-transform","text-shadow","visibility","voice-family","volume","white-space","widows","word-spacing","zoom"].keySet(),WebInspector.CSSMetadata.NonStandardInheritedProperties=["-webkit-font-smoothing"].keySet(),WebInspector.CSSMetadata.canonicalPropertyName=function(e){if(!e||e.length<9||"-"!==e.charAt(0))return e.toLowerCase();var t=e.match(/(?:-webkit-)(.+)/),i=WebInspector.CSSMetadata.cssPropertiesMetainfoKeySet(),n=WebInspector.CSSMetadata.cssPropertiesMetainfo._values.length>0;return!t||n&&!i.hasOwnProperty(t[1].toLowerCase())?e.toLowerCase():t[1].toLowerCase()},WebInspector.CSSMetadata.isPropertyInherited=function(e){return!(!WebInspector.CSSMetadata.InheritedProperties[WebInspector.CSSMetadata.canonicalPropertyName(e)]&&!WebInspector.CSSMetadata.NonStandardInheritedProperties[e.toLowerCase()])},WebInspector.CSSMetadata._colors=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","orange","purple","red","silver","teal","white","yellow","transparent","currentcolor","grey","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen"],WebInspector.CSSMetadata._colorAwareProperties=["background","background-color","background-image","border","border-color","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","box-shadow","color","fill","outline","outline-color","stroke","text-line-through-color","text-overline-color","text-shadow","text-underline-color","-webkit-box-shadow","-webkit-column-rule-color","-webkit-text-decoration-color","-webkit-text-emphasis","-webkit-text-emphasis-color"].keySet(),WebInspector.CSSMetadata._propertyDataMap={"table-layout":{values:["auto","fixed"]},visibility:{values:["hidden","visible","collapse"]},"background-repeat":{values:["repeat","repeat-x","repeat-y","no-repeat","space","round"]},content:{values:["list-item","close-quote","no-close-quote","no-open-quote","open-quote"]},"list-style-image":{values:["none"]},clear:{values:["none","left","right","both"]},"text-underline-mode":{values:["continuous","skip-white-space"]},"overflow-x":{values:["hidden","auto","visible","overlay","scroll"]},"stroke-linejoin":{values:["round","miter","bevel"]},"baseline-shift":{values:["baseline","sub","super"]},"border-bottom-width":{values:["medium","thick","thin"]},"marquee-speed":{values:["normal","slow","fast"]},"margin-top-collapse":{values:["collapse","separate","discard"]},"max-height":{values:["none"]},"box-orient":{values:["horizontal","vertical","inline-axis","block-axis"]},"font-stretch":{values:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"]},"text-underline-style":{values:["none","dotted","dashed","solid","double","dot-dash","dot-dot-dash","wave"]},"text-overline-mode":{values:["continuous","skip-white-space"]},"-webkit-background-composite":{values:["highlight","clear","copy","source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","plus-darker","plus-lighter"]},"border-left-width":{values:["medium","thick","thin"]},"box-shadow":{values:["inset","none"]},"-webkit-writing-mode":{values:["lr","rl","tb","lr-tb","rl-tb","tb-rl","horizontal-tb","vertical-rl","vertical-lr","horizontal-bt"]},"text-line-through-mode":{values:["continuous","skip-white-space"]},"border-collapse":{values:["collapse","separate"]},"page-break-inside":{values:["auto","avoid"]},"border-top-width":{values:["medium","thick","thin"]},"outline-color":{values:["invert"]},"text-line-through-style":{values:["none","dotted","dashed","solid","double","dot-dash","dot-dot-dash","wave"]},"outline-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},cursor:{values:["none","copy","auto","crosshair","default","pointer","move","vertical-text","cell","context-menu","alias","progress","no-drop","not-allowed","-webkit-zoom-in","-webkit-zoom-out","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","text","wait","help","all-scroll","-webkit-grab","-webkit-grabbing"]},"border-width":{values:["medium","thick","thin"]},"border-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},size:{values:["a3","a4","a5","b4","b5","landscape","ledger","legal","letter","portrait"]},"background-size":{values:["contain","cover"]},direction:{values:["ltr","rtl"]},"marquee-direction":{values:["left","right","auto","reverse","forwards","backwards","ahead","up","down"]},"enable-background":{values:["accumulate","new"]},float:{values:["none","left","right"]},"overflow-y":{values:["hidden","auto","visible","overlay","scroll"]},"margin-bottom-collapse":{values:["collapse","separate","discard"]},"box-reflect":{values:["left","right","above","below"]},overflow:{values:["hidden","auto","visible","overlay","scroll"]},"text-rendering":{values:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision"]},"text-align":{values:["-webkit-auto","start","end","left","right","center","justify","-webkit-left","-webkit-right","-webkit-center"]},"list-style-position":{values:["outside","inside","hanging"]},"margin-bottom":{values:["auto"]},"color-interpolation":{values:["linearrgb"]},"background-origin":{values:["border-box","content-box","padding-box"]},"word-wrap":{values:["normal","break-word"]},"font-weight":{values:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},"margin-before-collapse":{values:["collapse","separate","discard"]},"text-overline-width":{values:["normal","medium","auto","thick","thin"]},"text-transform":{values:["none","capitalize","uppercase","lowercase"]},"border-right-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"border-left-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"-webkit-text-emphasis":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},"font-style":{values:["italic","oblique","normal"]},speak:{values:["none","normal","spell-out","digits","literal-punctuation","no-punctuation"]},"color-rendering":{values:["auto","optimizeSpeed","optimizeQuality"]},"list-style-type":{values:["none","inline","disc","circle","square","decimal","decimal-leading-zero","arabic-indic","binary","bengali","cambodian","khmer","devanagari","gujarati","gurmukhi","kannada","lower-hexadecimal","lao","malayalam","mongolian","myanmar","octal","oriya","persian","urdu","telugu","tibetan","thai","upper-hexadecimal","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","afar","ethiopic-halehame-aa-et","ethiopic-halehame-aa-er","amharic","ethiopic-halehame-am-et","amharic-abegede","ethiopic-abegede-am-et","cjk-earthly-branch","cjk-heavenly-stem","ethiopic","ethiopic-halehame-gez","ethiopic-abegede","ethiopic-abegede-gez","hangul-consonant","hangul","lower-norwegian","oromo","ethiopic-halehame-om-et","sidama","ethiopic-halehame-sid-et","somali","ethiopic-halehame-so-et","tigre","ethiopic-halehame-tig","tigrinya-er","ethiopic-halehame-ti-er","tigrinya-er-abegede","ethiopic-abegede-ti-er","tigrinya-et","ethiopic-halehame-ti-et","tigrinya-et-abegede","ethiopic-abegede-ti-et","upper-greek","upper-norwegian","asterisks","footnotes","hebrew","armenian","lower-armenian","upper-armenian","georgian","cjk-ideographic","hiragana","katakana","hiragana-iroha","katakana-iroha"]},"-webkit-text-combine":{values:["none","horizontal"]},outline:{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},font:{values:["caption","icon","menu","message-box","small-caption","-webkit-mini-control","-webkit-small-control","-webkit-control","status-bar","italic","oblique","small-caps","normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","xx-small","x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large","smaller","larger","serif","sans-serif","cursive","fantasy","monospace","-webkit-body","-webkit-pictograph"]},"dominant-baseline":{values:["middle","auto","central","text-before-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical","use-script","no-change","reset-size"]},display:{values:["none","inline","block","list-item","run-in","compact","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid"]},"-webkit-text-emphasis-position":{values:["over","under"]},"image-rendering":{values:["auto","optimizeSpeed","optimizeQuality"]},"alignment-baseline":{values:["baseline","middle","auto","before-edge","after-edge","central","text-before-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical"]},"outline-width":{values:["medium","thick","thin"]},"text-line-through-width":{values:["normal","medium","auto","thick","thin"]},"box-align":{values:["baseline","center","stretch","start","end"]},"border-right-width":{values:["medium","thick","thin"]},"border-top-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"line-height":{values:["normal"]},"text-overflow":{values:["clip","ellipsis"]},"overflow-wrap":{values:["normal","break-word"]},"box-direction":{values:["normal","reverse"]},"margin-after-collapse":{values:["collapse","separate","discard"]},"page-break-before":{values:["left","right","auto","always","avoid"]},"border-image":{values:["repeat","stretch"]},"text-decoration":{values:["blink","line-through","overline","underline"]},position:{values:["absolute","fixed","relative","static"]},"font-family":{values:["serif","sans-serif","cursive","fantasy","monospace","-webkit-body","-webkit-pictograph"]},"text-overflow-mode":{values:["clip","ellipsis"]},"border-bottom-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"unicode-bidi":{values:["normal","bidi-override","embed","isolate","isolate-override","plaintext"]},"clip-rule":{values:["nonzero","evenodd"]},"margin-left":{values:["auto"]},"margin-top":{values:["auto"]},zoom:{values:["normal","document","reset"]},"text-overline-style":{values:["none","dotted","dashed","solid","double","dot-dash","dot-dot-dash","wave"]},"max-width":{values:["none"]},"caption-side":{values:["top","bottom"]},"empty-cells":{values:["hide","show"]},"pointer-events":{values:["none","all","auto","visible","visiblepainted","visiblefill","visiblestroke","painted","fill","stroke","bounding-box"]},"letter-spacing":{values:["normal"]},"background-clip":{values:["border-box","content-box","padding-box"]},"-webkit-font-smoothing":{values:["none","auto","antialiased","subpixel-antialiased"]},border:{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"font-size":{values:["xx-small","x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large","smaller","larger"]},"font-variant":{values:["small-caps","normal"]},"vertical-align":{values:["baseline","middle","sub","super","text-top","text-bottom","top","bottom","-webkit-baseline-middle"]},"marquee-style":{values:["none","scroll","slide","alternate"]},"white-space":{values:["normal","nowrap","pre","pre-line","pre-wrap"]},"text-underline-width":{values:["normal","medium","auto","thick","thin"]},"box-lines":{values:["single","multiple"]},"page-break-after":{values:["left","right","auto","always","avoid"]},"clip-path":{values:["none"]},margin:{values:["auto"]},"marquee-repetition":{values:["infinite"]},"margin-right":{values:["auto"]},"word-break":{values:["normal","break-all","break-word"]},"word-spacing":{values:["normal"]},"-webkit-text-emphasis-style":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},"-webkit-transform":{values:["scale","scaleX","scaleY","scale3d","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","matrix","matrix3d","perspective"]},"image-resolution":{values:["from-image","snap"]},"box-sizing":{values:["content-box","padding-box","border-box"]},clip:{values:["auto"]},resize:{values:["none","both","horizontal","vertical"]},"align-content":{values:["flex-start","flex-end","center","space-between","space-around","stretch"]},"align-items":{values:["flex-start","flex-end","center","baseline","stretch"]},"align-self":{values:["auto","flex-start","flex-end","center","baseline","stretch"]},"flex-direction":{values:["row","row-reverse","column","column-reverse"]},"justify-content":{values:["flex-start","flex-end","center","space-between","space-around"]},"flex-wrap":{values:["nowrap","wrap","wrap-reverse"]},"-webkit-animation-timing-function":{values:["ease","linear","ease-in","ease-out","ease-in-out","step-start","step-end","steps","cubic-bezier"]},"-webkit-animation-direction":{values:["normal","reverse","alternate","alternate-reverse"]},"-webkit-animation-play-state":{values:["running","paused"]},"-webkit-animation-fill-mode":{values:["none","forwards","backwards","both"]},"-webkit-backface-visibility":{values:["visible","hidden"]},"-webkit-box-decoration-break":{values:["slice","clone"]},"-webkit-column-break-after":{values:["auto","always","avoid","left","right","page","column","avoid-page","avoid-column"]},"-webkit-column-break-before":{values:["auto","always","avoid","left","right","page","column","avoid-page","avoid-column"]},"-webkit-column-break-inside":{values:["auto","avoid","avoid-page","avoid-column"]},"-webkit-column-span":{values:["none","all"]},"-webkit-column-count":{values:["auto"]},"-webkit-column-gap":{values:["normal"]},"-webkit-line-break":{values:["auto","loose","normal","strict"]},"-webkit-perspective":{values:["none"]},"-webkit-perspective-origin":{values:["left","center","right","top","bottom"]},"text-align-last":{values:["auto","start","end","left","right","center","justify"]},"-webkit-text-decoration-line":{values:["none","underline","overline","line-through","blink"]},"-webkit-text-decoration-style":{values:["solid","double","dotted","dashed","wavy"]},"-webkit-text-decoration-skip":{values:["none","objects","spaces","ink","edges","box-decoration"]},"-webkit-transform-origin":{values:["left","center","right","top","bottom"]},"-webkit-transform-style":{values:["flat","preserve-3d"]},"-webkit-transition-timing-function":{values:["ease","linear","ease-in","ease-out","ease-in-out","step-start","step-end","steps","cubic-bezier"]},"-webkit-flex":{m:"flexbox"},"-webkit-flex-basis":{m:"flexbox"},"-webkit-flex-flow":{m:"flexbox"},"-webkit-flex-grow":{m:"flexbox"},"-webkit-flex-shrink":{m:"flexbox"},"-webkit-animation":{m:"animations"},"-webkit-animation-delay":{m:"animations"},"-webkit-animation-duration":{m:"animations"},"-webkit-animation-iteration-count":{m:"animations"},"-webkit-animation-name":{m:"animations"},"-webkit-column-rule":{m:"multicol"},"-webkit-column-rule-color":{m:"multicol",a:"crc"},"-webkit-column-rule-style":{m:"multicol",a:"crs"},"-webkit-column-rule-width":{m:"multicol",a:"crw"},"-webkit-column-width":{m:"multicol",a:"cw"},"-webkit-columns":{m:"multicol"},"-webkit-order":{m:"flexbox"},"-webkit-text-decoration-color":{m:"text-decor"},"-webkit-text-emphasis-color":{m:"text-decor"},"-webkit-transition":{m:"transitions"},"-webkit-transition-delay":{m:"transitions"},"-webkit-transition-duration":{m:"transitions"},"-webkit-transition-property":{m:"transitions"},background:{m:"background"},"background-attachment":{m:"background"},"background-color":{m:"background"},"background-image":{m:"background"},"background-position":{m:"background"},"background-position-x":{m:"background"},"background-position-y":{m:"background"},"background-repeat-x":{m:"background"},"background-repeat-y":{m:"background"},"border-top":{m:"background"},"border-right":{m:"background"},"border-bottom":{m:"background"},"border-left":{m:"background"},"border-radius":{m:"background"},bottom:{m:"visuren"},color:{m:"color",a:"foreground"},"counter-increment":{m:"generate"},"counter-reset":{m:"generate"},"grid-template-columns":{m:"grid"},"grid-template-rows":{m:"grid"},height:{m:"box"},"image-orientation":{m:"images"},left:{m:"visuren"},"list-style":{m:"lists"},"min-height":{m:"box"},"min-width":{m:"box"},opacity:{m:"color",a:"transparency"},orphans:{m:"page"},"outline-offset":{m:"ui"},padding:{m:"box",a:"padding1"},"padding-bottom":{m:"box"},"padding-left":{m:"box"},"padding-right":{m:"box"},"padding-top":{m:"box"},page:{m:"page"},quotes:{m:"generate"},right:{m:"visuren"},"tab-size":{m:"text"},"text-indent":{m:"text"},"text-shadow":{m:"text-decor"},top:{m:"visuren"},"unicode-range":{m:"fonts",a:"descdef-unicode-range"},widows:{m:"page"},width:{m:"box"},"z-index":{m:"visuren"}},WebInspector.CSSMetadata.keywordsForProperty=function(e){var t=["inherit","initial"],i=WebInspector.CSSMetadata.descriptor(e);return i&&i.values&&t.push.apply(t,i.values),e in WebInspector.CSSMetadata._colorAwareProperties&&t.push.apply(t,WebInspector.CSSMetadata._colors),new WebInspector.CSSMetadata(t)},WebInspector.CSSMetadata.descriptor=function(e){if(!e)return null;var t=e.replace(/^-webkit-/,""),i=WebInspector.CSSMetadata._propertyDataMap[e];return i||t===e||(i=WebInspector.CSSMetadata._propertyDataMap[t]),i||null},WebInspector.CSSMetadata.initializeWithSupportedProperties=function(e){WebInspector.CSSMetadata.cssPropertiesMetainfo=new WebInspector.CSSMetadata(e)},WebInspector.CSSMetadata.cssPropertiesMetainfoKeySet=function(){return WebInspector.CSSMetadata._cssPropertiesMetainfoKeySet||(WebInspector.CSSMetadata._cssPropertiesMetainfoKeySet=WebInspector.CSSMetadata.cssPropertiesMetainfo.keySet()),WebInspector.CSSMetadata._cssPropertiesMetainfoKeySet},WebInspector.CSSMetadata.Weight={"-webkit-animation":1,"-webkit-animation-duration":1,"-webkit-animation-iteration-count":1,"-webkit-animation-name":1,"-webkit-animation-timing-function":1,"-webkit-appearance":1,"-webkit-background-clip":2,"-webkit-border-horizontal-spacing":1,"-webkit-border-vertical-spacing":1,"-webkit-box-shadow":24,"-webkit-font-smoothing":2,"-webkit-transform":1,"-webkit-transition":8,"-webkit-transition-delay":7,"-webkit-transition-duration":7,"-webkit-transition-property":7,"-webkit-transition-timing-function":6,"-webkit-user-select":1,background:222,"background-attachment":144,"background-clip":143,"background-color":222,"background-image":201,"background-origin":142,"background-size":25,border:121,"border-bottom":121,"border-bottom-color":121,"border-bottom-left-radius":50,"border-bottom-right-radius":50,"border-bottom-style":114,"border-bottom-width":120,"border-collapse":3,"border-left":95,"border-left-color":95,"border-left-style":89,"border-left-width":94,"border-radius":50,"border-right":93,"border-right-color":93,"border-right-style":88,"border-right-width":93,"border-top":111,"border-top-color":111,"border-top-left-radius":49,"border-top-right-radius":49,"border-top-style":104,"border-top-width":109,bottom:16,"box-shadow":25,"box-sizing":2,clear:23,color:237,cursor:34,direction:4,display:210,fill:2,filter:1,float:105,font:174,"font-family":25,"font-size":174,"font-style":9,"font-weight":89,height:161,left:54,"letter-spacing":3,"line-height":75,"list-style":17,"list-style-image":8,"list-style-position":8,"list-style-type":17,margin:241,"margin-bottom":226,"margin-left":225,"margin-right":213,"margin-top":241,"max-height":5,"max-width":11,"min-height":9,"min-width":6,opacity:24,outline:10,"outline-color":10,"outline-style":10,"outline-width":10,overflow:57,"overflow-x":56,"overflow-y":57,padding:216,"padding-bottom":208,"padding-left":216,"padding-right":206,"padding-top":216,position:136,resize:1,right:29,stroke:1,"stroke-width":1,"table-layout":1,"text-align":66,"text-decoration":53,"text-indent":9,"text-overflow":8,"text-shadow":19,"text-transform":5,top:71,"unicode-bidi":1,"vertical-align":37,visibility:11,"white-space":24,width:255,"word-wrap":6,"z-index":32,zoom:10},WebInspector.CSSMetadata.prototype={startsWith:function(e){var t=this._firstIndexOfPrefix(e);if(-1===t)return[];for(var i=[];t<this._values.length&&this._values[t].startsWith(e);)i.push(this._values[t++]);return i},mostUsedOf:function(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=WebInspector.CSSMetadata.Weight[e[n]];r>t&&(t=r,i=n)}return i},_firstIndexOfPrefix:function(e){if(!this._values.length)return-1;if(!e)return 0;var t,i=this._values.length-1,n=0;do{var r=i+n>>1;if(this._values[r].startsWith(e)){t=r;break}this._values[r]<e?n=r+1:i=r-1}while(n<=i);if(void 0===t)return-1;for(;t&&this._values[t-1].startsWith(e);)t--;return t},keySet:function(){return this._keySet||(this._keySet=this._values.keySet()),this._keySet},next:function(e,t){return this._closest(e,t,1)},previous:function(e,t){return this._closest(e,t,-1)},_closest:function(e,t,i){if(!e)return"";var n=this._values.indexOf(e);if(-1===n)return"";if(!t)return n=(n+this._values.length+i)%this._values.length,this._values[n];var r=this.startsWith(t),s=r.indexOf(e);return r[s=(s+r.length+i)%r.length]},longhands:function(e){return this._longhands[e]},shorthands:function(e){return this._shorthands[e]}},WebInspector.CSSMetadata.initializeWithSupportedProperties([]),WebInspector.CSSMetadata.initializeWithSupportedProperties([{name:"-webkit-animation-iteration-count"},{name:"-webkit-logical-height"},{name:"-webkit-text-emphasis-position"},{name:"-webkit-text-emphasis-style"},{name:"text-underline-position"},{longhands:["-webkit-column-rule-width","-webkit-column-rule-style","-webkit-column-rule-color"],name:"-webkit-column-rule"},{name:"buffered-rendering"},{name:"-webkit-appearance"},{name:"outline-width"},{name:"alignment-baseline"},{name:"glyph-orientation-vertical"},{name:"text-line-through-color"},{longhands:["-webkit-border-after-width","-webkit-border-after-style","-webkit-border-after-color"],name:"-webkit-border-after"},{name:"-webkit-column-break-inside"},{name:"-webkit-print-color-adjust"},{name:"list-style-type"},{name:"page-break-before"},{name:"flood-color"},{name:"text-anchor"},{name:"-webkit-padding-start"},{name:"-webkit-column-rule-color"},{name:"padding-left"},{name:"shape-outside"},{name:"-webkit-margin-before"},{name:"-webkit-background-composite"},{name:"perspective"},{name:"-webkit-animation-play-state"},{name:"border-image-repeat"},{name:"-webkit-font-size-delta"},{name:"border-right-style"},{name:"border-left-style"},{longhands:["flex-direction","flex-wrap"],name:"flex-flow"},{name:"outline-color"},{name:"flex-grow"},{name:"max-width"},{longhands:["grid-column-start","grid-column-end"],name:"grid-column"},{name:"animation-duration"},{longhands:["-webkit-column-width","-webkit-column-count"],name:"-webkit-columns"},{name:"-webkit-box-flex-group"},{name:"-webkit-animation-delay"},{name:"flex-shrink"},{name:"text-rendering"},{name:"align-items"},{name:"border-collapse"},{name:"-webkit-mask-position-x"},{name:"-webkit-mask-position-y"},{name:"outline-style"},{name:"-webkit-margin-bottom-collapse"},{name:"color-interpolation-filters"},{name:"kerning"},{name:"font-variant"},{name:"-webkit-animation-fill-mode"},{longhands:["border-right-width","border-right-style","border-right-color"],name:"border-right"},{name:"touch-action-delay"},{name:"visibility"},{name:"-internal-marquee-speed"},{name:"-webkit-border-before-style"},{name:"resize"},{name:"-webkit-rtl-ordering"},{name:"-webkit-box-ordinal-group"},{name:"paint-order"},{name:"stroke-linecap"},{name:"animation-direction"},{name:"-internal-marquee-direction"},{name:"-webkit-background-size"},{name:"border-top-left-radius"},{name:"-webkit-column-width"},{name:"-webkit-box-align"},{name:"-webkit-padding-after"},{longhands:["list-style-type","list-style-position","list-style-image"],name:"list-style"},{name:"-webkit-mask-repeat-y"},{name:"-webkit-margin-before-collapse"},{name:"stroke"},{name:"text-decoration-line"},{name:"-webkit-font-feature-settings"},{name:"-webkit-mask-repeat-x"},{name:"padding-bottom"},{name:"font-style"},{name:"-webkit-transition-delay"},{longhands:["background-repeat-x","background-repeat-y"],name:"background-repeat"},{name:"flex-basis"},{name:"-webkit-margin-after"},{longhands:["-webkit-transform-origin-x","-webkit-transform-origin-y","-webkit-transform-origin-z"],name:"-webkit-transform-origin"},{name:"border-image-slice"},{name:"vector-effect"},{name:"-webkit-animation-timing-function"},{name:"text-underline-style"},{name:"-webkit-border-after-style"},{name:"-webkit-perspective-origin-x"},{name:"-webkit-perspective-origin-y"},{longhands:["outline-color","outline-style","outline-width"],name:"outline"},{name:"table-layout"},{longhands:["text-decoration-line","text-decoration-style","text-decoration-color"],name:"text-decoration"},{name:"transition-duration"},{name:"order"},{name:"-webkit-box-orient"},{name:"counter-reset"},{name:"flood-opacity"},{name:"flex-direction"},{name:"-webkit-text-stroke-width"},{name:"min-height"},{longhands:["-webkit-mask-box-image-source","-webkit-mask-box-image-slice","-webkit-mask-box-image-width","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat"],name:"-webkit-mask-box-image"},{name:"left"},{longhands:["-webkit-mask-image","-webkit-mask-position-x","-webkit-mask-position-y","-webkit-mask-size","-webkit-mask-repeat-x","-webkit-mask-repeat-y","-webkit-mask-origin","-webkit-mask-clip"],name:"-webkit-mask"},{name:"-webkit-border-after-width"},{name:"stroke-width"},{name:"-webkit-box-decoration-break"},{longhands:["-webkit-mask-position-x","-webkit-mask-position-y"],name:"-webkit-mask-position"},{name:"background-origin"},{name:"-webkit-border-start-color"},{name:"grid-auto-flow"},{name:"-webkit-background-clip"},{name:"-webkit-border-horizontal-spacing"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"border-radius"},{longhands:["flex-grow","flex-shrink","flex-basis"],name:"flex"},{name:"text-indent"},{name:"text-transform"},{name:"text-line-through-mode"},{name:"font-size"},{name:"-webkit-animation-name"},{longhands:["-webkit-text-stroke-width","-webkit-text-stroke-color"],name:"-webkit-text-stroke"},{name:"padding-top"},{name:"-webkit-border-end-width"},{name:"-webkit-text-combine"},{name:"grid-template-rows"},{name:"content"},{name:"padding-right"},{name:"-webkit-transform"},{name:"marker-mid"},{name:"-webkit-min-logical-width"},{name:"clip-rule"},{name:"text-overline-width"},{name:"font-family"},{longhands:["transition-property","transition-duration","transition-timing-function","transition-delay"],name:"transition"},{name:"-webkit-border-fit"},{name:"filter"},{name:"border-right-width"},{name:"-webkit-mask-composite"},{name:"-webkit-line-box-contain"},{name:"color-interpolation"},{name:"border-top-style"},{name:"fill-opacity"},{name:"marker-start"},{name:"border-bottom-width"},{longhands:["-webkit-text-emphasis-style","-webkit-text-emphasis-color"],name:"-webkit-text-emphasis"},{longhands:["grid-row-start","grid-column-start","grid-row-end","grid-column-end"],name:"grid-area"},{name:"size"},{name:"background-clip"},{name:"-webkit-text-fill-color"},{name:"top"},{name:"-webkit-box-reflect"},{longhands:["border-top-width","border-right-width","border-bottom-width","border-left-width"],name:"border-width"},{name:"-webkit-column-rule-style"},{name:"-webkit-column-count"},{name:"animation-play-state"},{longhands:["padding-top","padding-right","padding-bottom","padding-left"],name:"padding"},{name:"dominant-baseline"},{name:"background-attachment"},{name:"-webkit-box-flex"},{name:"-webkit-border-start-width"},{name:"isolation"},{name:"color-rendering"},{name:"border-left-width"},{name:"grid-column-end"},{name:"background-blend-mode"},{name:"vertical-align"},{name:"-webkit-max-logical-height"},{name:"grid-auto-rows"},{name:"shape-padding"},{name:"-internal-marquee-increment"},{name:"margin-left"},{name:"animation-name"},{name:"border-image-source"},{longhands:["border-top-color","border-top-style","border-top-width","border-right-color","border-right-style","border-right-width","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width"],name:"border"},{name:"-webkit-transition-timing-function"},{name:"-webkit-wrap-flow"},{name:"margin-bottom"},{name:"unicode-range"},{longhands:["animation-name","animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state"],name:"animation"},{name:"glyph-orientation-horizontal"},{name:"font-weight"},{name:"shape-margin"},{name:"-webkit-margin-end"},{name:"object-position"},{name:"page-break-after"},{name:"transition-property"},{name:"white-space"},{name:"-webkit-border-after-color"},{name:"-webkit-transform-origin-x"},{name:"-webkit-max-logical-width"},{name:"-webkit-border-before-color"},{name:"font-kerning"},{name:"clear"},{name:"animation-timing-function"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"-webkit-border-radius"},{name:"text-underline-mode"},{name:"-webkit-text-decorations-in-effect"},{name:"-webkit-animation-direction"},{name:"justify-self"},{name:"transition-timing-function"},{name:"counter-increment"},{name:"-webkit-transform-style"},{name:"grid-auto-columns"},{longhands:["font-family","font-size","font-style","font-variant","font-weight","line-height"],name:"font"},{name:"flex-wrap"},{name:"grid-row-start"},{name:"list-style-image"},{name:"-webkit-tap-highlight-color"},{name:"-webkit-text-emphasis-color"},{longhands:["border-left-width","border-left-style","border-left-color"],name:"border-left"},{name:"-webkit-border-end-color"},{name:"-internal-callback"},{name:"box-shadow"},{name:"align-self"},{longhands:["border-bottom-width","border-bottom-style","border-bottom-color"],name:"border-bottom"},{longhands:["-webkit-border-horizontal-spacing","-webkit-border-vertical-spacing"],name:"border-spacing"},{name:"text-underline-color"},{name:"text-line-through-style"},{name:"-webkit-column-span"},{name:"grid-row-end"},{longhands:["-webkit-border-end-width","-webkit-border-end-style","-webkit-border-end-color"],name:"-webkit-border-end"},{name:"perspective-origin"},{name:"page-break-inside"},{name:"orphans"},{name:"-webkit-border-start-style"},{name:"scroll-behavior"},{name:"-webkit-hyphenate-character"},{name:"column-fill"},{name:"tab-size"},{name:"border-bottom-color"},{name:"border-bottom-right-radius"},{name:"line-height"},{name:"stroke-linejoin"},{name:"text-align-last"},{name:"text-overline-mode"},{name:"word-spacing"},{name:"transform-style"},{name:"-webkit-app-region"},{name:"-webkit-border-end-style"},{name:"-webkit-transform-origin-z"},{name:"-webkit-aspect-ratio"},{name:"-webkit-transform-origin-y"},{name:"background-repeat-x"},{name:"background-repeat-y"},{longhands:["grid-row-start","grid-row-end"],name:"grid-row"},{name:"-webkit-ruby-position"},{name:"-webkit-logical-width"},{longhands:["border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border-image"},{name:"caption-side"},{name:"mask-source-type"},{name:"-webkit-mask-box-image-slice"},{name:"-webkit-border-image"},{name:"-webkit-text-security"},{name:"-webkit-mask-box-image-repeat"},{longhands:["-webkit-mask-repeat-x","-webkit-mask-repeat-y"],name:"-webkit-mask-repeat"},{name:"baseline-shift"},{name:"text-justify"},{name:"text-decoration-color"},{name:"color"},{name:"shape-image-threshold"},{longhands:["min-height","max-height"],name:"height"},{name:"margin-right"},{name:"color-profile"},{name:"speak"},{name:"border-bottom-left-radius"},{name:"-webkit-column-break-after"},{name:"-webkit-font-smoothing"},{name:"clip"},{name:"-webkit-line-break"},{name:"fill-rule"},{name:"-webkit-margin-start"},{name:"min-width"},{name:"-webkit-column-gap"},{name:"empty-cells"},{name:"direction"},{name:"clip-path"},{name:"-webkit-wrap-through"},{name:"justify-content"},{name:"z-index"},{name:"background-position-y"},{name:"text-decoration-style"},{name:"grid-template-areas"},{name:"-webkit-min-logical-height"},{name:"-webkit-user-select"},{name:"cursor"},{name:"-webkit-mask-box-image-source"},{longhands:["margin-top","margin-right","margin-bottom","margin-left"],name:"margin"},{longhands:["-webkit-animation-name","-webkit-animation-duration","-webkit-animation-timing-function","-webkit-animation-delay","-webkit-animation-iteration-count","-webkit-animation-direction","-webkit-animation-fill-mode","-webkit-animation-play-state"],name:"-webkit-animation"},{name:"letter-spacing"},{name:"orientation"},{name:"will-change"},{name:"mix-blend-mode"},{name:"text-line-through-width"},{name:"-webkit-highlight"},{name:"transform-origin"},{name:"font-variant-ligatures"},{name:"-webkit-animation-duration"},{name:"text-overline-color"},{name:"-webkit-mask-origin"},{name:"-webkit-clip-path"},{name:"word-break"},{longhands:["-webkit-border-before-width","-webkit-border-before-style","-webkit-border-before-color"],name:"-webkit-border-before"},{name:"text-overflow"},{name:"-webkit-locale"},{name:"font-stretch"},{name:"border-top-right-radius"},{name:"border-image-outset"},{name:"fill"},{name:"touch-action"},{name:"border-right-color"},{name:"min-zoom"},{name:"-webkit-border-before-width"},{name:"backface-visibility"},{name:"background-image"},{name:"-webkit-transition-property"},{name:"writing-mode"},{name:"stroke-opacity"},{name:"box-sizing"},{name:"margin-top"},{name:"position"},{name:"enable-background"},{name:"list-style-position"},{name:"-webkit-box-pack"},{name:"quotes"},{longhands:["border-top-width","border-top-style","border-top-color"],name:"border-top"},{longhands:["-webkit-transition-property","-webkit-transition-duration","-webkit-transition-timing-function","-webkit-transition-delay"],name:"-webkit-transition"},{name:"-webkit-column-break-before"},{name:"lighting-color"},{name:"background-size"},{name:"-webkit-mask-size"},{name:"animation-fill-mode"},{name:"-webkit-filter"},{name:"word-wrap"},{name:"max-zoom"},{name:"text-overline-style"},{longhands:["background-image","background-position-x","background-position-y","background-size","background-repeat-x","background-repeat-y","background-attachment","background-origin","background-clip","background-color"],name:"background"},{name:"-webkit-padding-before"},{name:"grid-column-start"},{name:"text-align"},{name:"marker-end"},{name:"zoom"},{longhands:["-webkit-margin-before-collapse","-webkit-margin-after-collapse"],name:"-webkit-margin-collapse"},{name:"-webkit-margin-top-collapse"},{name:"page"},{name:"right"},{name:"-webkit-user-modify"},{longhands:["marker-start","marker-mid","marker-end"],name:"marker"},{name:"mask-type"},{name:"-webkit-transition-duration"},{name:"-webkit-writing-mode"},{name:"border-top-width"},{name:"bottom"},{name:"-webkit-user-drag"},{name:"-webkit-border-vertical-spacing"},{name:"background-color"},{name:"-webkit-backface-visibility"},{name:"-webkit-padding-end"},{longhands:["-webkit-border-start-width","-webkit-border-start-style","-webkit-border-start-color"],name:"-webkit-border-start"},{name:"animation-delay"},{name:"unicode-bidi"},{name:"text-shadow"},{name:"-webkit-box-direction"},{name:"image-rendering"},{name:"src"},{name:"-internal-marquee-repetition"},{name:"pointer-events"},{name:"border-image-width"},{name:"-webkit-mask-clip"},{name:"-webkit-mask-image"},{name:"float"},{name:"max-height"},{name:"outline-offset"},{name:"-webkit-box-shadow"},{name:"overflow-wrap"},{name:"-internal-marquee-style"},{name:"transform"},{longhands:["min-width","max-width"],name:"width"},{name:"stroke-miterlimit"},{name:"stop-opacity"},{name:"border-top-color"},{longhands:["background-position-x","background-position-y"],name:"background-position"},{name:"object-fit"},{name:"-webkit-mask-box-image-width"},{name:"-webkit-background-origin"},{name:"transition-delay"},{longhands:["border-top-style","border-right-style","border-bottom-style","border-left-style"],name:"border-style"},{name:"animation-iteration-count"},{name:"-webkit-margin-after-collapse"},{longhands:["overflow-x","overflow-y"],name:"overflow"},{name:"user-zoom"},{name:"grid-template-columns"},{name:"-webkit-perspective-origin"},{name:"display"},{name:"-webkit-column-rule-width"},{name:"-webkit-box-lines"},{longhands:["border-top-color","border-right-color","border-bottom-color","border-left-color"],name:"border-color"},{name:"stroke-dashoffset"},{name:"widows"},{name:"border-left-color"},{name:"overflow-y"},{name:"overflow-x"},{name:"shape-rendering"},{name:"opacity"},{name:"-webkit-perspective"},{name:"text-underline-width"},{name:"-webkit-text-stroke-color"},{name:"-webkit-text-orientation"},{name:"-webkit-mask-box-image-outset"},{name:"align-content"},{name:"border-bottom-style"},{name:"mask"},{name:"background-position-x"},{name:"stop-color"},{name:"stroke-dasharray"},{name:"-webkit-line-clamp"}]),WebInspector.StatusBarItem=function(e){this.element=document.createElement(e),this._enabled=!0,this._visible=!0},WebInspector.StatusBarItem.prototype={setEnabled:function(e){this._enabled!==e&&(this._enabled=e,this._applyEnabledState())},_applyEnabledState:function(){this.element.disabled=!this._enabled},get visible(){return this._visible},set visible(e){this._visible!==e&&(this.element.classList.toggle("hidden",!e),this._visible=e)},__proto__:WebInspector.Object.prototype},WebInspector.StatusBarText=function(e,t){WebInspector.StatusBarItem.call(this,"span"),this.element.className="status-bar-item status-bar-text",t&&this.element.classList.add(t),this.element.textContent=e},WebInspector.StatusBarText.prototype={setText:function(e){this.element.textContent=e},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarInput=function(e,t){WebInspector.StatusBarItem.call(this,"input"),this.element.className="status-bar-item",this.element.addEventListener("input",this._onChangeCallback.bind(this),!1),t&&(this.element.style.width=t+"px"),e&&this.element.setAttribute("placeholder",e)},WebInspector.StatusBarInput.prototype={setOnChangeHandler:function(e){this._onChangeHandler=e},setValue:function(e){this.element.value=e,this._onChangeCallback()},_onChangeCallback:function(){this._onChangeHandler&&this._onChangeHandler(this.element.value)},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarButton=function(e,t,i){WebInspector.StatusBarItem.call(this,"button"),this.element.className=t+" status-bar-item",this.element.addEventListener("click",this._clicked.bind(this),!1),this.glyph=document.createElement("div"),this.glyph.className="glyph",this.element.appendChild(this.glyph),this.glyphShadow=document.createElement("div"),this.glyphShadow.className="glyph shadow",this.element.appendChild(this.glyphShadow),this.states=i,i||(this.states=2),this._state=2!=i&&0,this.title=e,this.className=t},WebInspector.StatusBarButton.prototype={_clicked:function(){this.dispatchEventToListeners("click"),this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)},_applyEnabledState:function(){this.element.disabled=!this._enabled,this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)},enabled:function(){return this._enabled},get title(){return this._title},set title(e){this._title!==e&&(this._title=e,this.element.title=e)},get state(){return this._state},set state(e){this._state!==e&&(2===this.states?this.element.classList.toggle("toggled-on",e):(this.element.classList.remove("toggled-"+this._state),0!==e&&this.element.classList.add("toggled-"+e)),this._state=e)},get toggled(){if(2!==this.states)throw"Only used toggled when there are 2 states, otherwise, use state";return this.state},set toggled(e){if(2!==this.states)throw"Only used toggled when there are 2 states, otherwise, use state";this.state=e},makeLongClickEnabled:function(){var e=function(e){1===e.which&&(i=0,this._longClickInterval=setInterval(function(){++i,this.dispatchEventToListeners(1===i?"longClickDown":"longClickPress")}.bind(this),200))}.bind(this),t=function(e){1===e.which&&this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)}.bind(this);this.element.addEventListener("mousedown",e,!1),this.element.addEventListener("mouseout",t,!1),this.element.addEventListener("mouseup",t,!1);var i=0;this._longClickData={mouseUp:t,mouseDown:e}},unmakeLongClickEnabled:function(){this._longClickData&&(this.element.removeEventListener("mousedown",this._longClickData.mouseDown,!1),this.element.removeEventListener("mouseout",this._longClickData.mouseUp,!1),this.element.removeEventListener("mouseup",this._longClickData.mouseUp,!1),delete this._longClickData)},setLongClickOptionsEnabled:function(e){if(e){if(!this._longClickOptionsData){this.makeLongClickEnabled(),this.longClickGlyph=document.createElement("div"),this.longClickGlyph.className="fill long-click-glyph",this.element.appendChild(this.longClickGlyph),this.longClickGlyphShadow=document.createElement("div"),this.longClickGlyphShadow.className="fill long-click-glyph shadow",this.element.appendChild(this.longClickGlyphShadow);var t=this._showOptions.bind(this);this.addEventListener("longClickDown",t,this),this._longClickOptionsData={glyphElement:this.longClickGlyph,glyphShadowElement:this.longClickGlyphShadow,longClickDownListener:t}}this._longClickOptionsData.buttonsProvider=e}else{if(!this._longClickOptionsData)return;this.element.removeChild(this._longClickOptionsData.glyphElement),this.element.removeChild(this._longClickOptionsData.glyphShadowElement),this.removeEventListener("longClickDown",this._longClickOptionsData.longClickDownListener,this),delete this._longClickOptionsData,this.unmakeLongClickEnabled()}},_showOptions:function(){var e=this._longClickOptionsData.buttonsProvider(),t=new WebInspector.StatusBarButton(this.title,this.className,this.states);t.addEventListener("click",this._clicked,this),t.state=this.state,e.push(t),document.documentElement.addEventListener("mouseup",function t(n){if(1===n.which){i.dispose(),document.documentElement.removeEventListener("mouseup",t,!1);for(var r=0;r<e.length;++r)if(e[r].element.classList.contains("emulate-active")){e[r].element.classList.remove("emulate-active"),e[r]._clicked();break}}},!1);var i=new WebInspector.GlassPane,n=i.element.createChild("div","alternate-status-bar-buttons-bar"),r=this.element.totalOffset(),s=r.top+23*e.length<document.documentElement.offsetHeight;s&&(e=e.reverse()),n.style.height=23*e.length+"px",n.style.top=s?r.top+1+"px":r.top-23*(e.length-1)+"px",n.style.left=r.left+1+"px";for(var o=0;o<e.length;++o)e[o].element.addEventListener("mousemove",c,!1),e[o].element.addEventListener("mouseout",l,!1),n.appendChild(e[o].element);var a=s?0:e.length-1;function c(e){1===e.which&&e.target.enclosingNodeOrSelfWithClass("status-bar-item").classList.add("emulate-active")}function l(e){1===e.which&&e.target.enclosingNodeOrSelfWithClass("status-bar-item").classList.remove("emulate-active")}e[a].element.classList.add("emulate-active")},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarComboBox=function(e,t){WebInspector.StatusBarItem.call(this,"span"),this.element.className="status-bar-select-container",this._selectElement=this.element.createChild("select","status-bar-item"),this.element.createChild("div","status-bar-select-arrow"),e&&this._selectElement.addEventListener("change",e,!1),t&&this._selectElement.classList.add(t)},WebInspector.StatusBarComboBox.prototype={selectElement:function(){return this._selectElement},size:function(){return this._selectElement.childElementCount},addOption:function(e){this._selectElement.appendChild(e)},createOption:function(e,t,i){var n=this._selectElement.createChild("option");return n.text=e,t&&(n.title=t),void 0!==i&&(n.value=i),n},_applyEnabledState:function(){this._selectElement.disabled=!this._enabled},removeOption:function(e){this._selectElement.removeChild(e)},removeOptions:function(){this._selectElement.removeChildren()},selectedOption:function(){return this._selectElement.selectedIndex>=0?this._selectElement[this._selectElement.selectedIndex]:null},select:function(e){this._selectElement.selectedIndex=Array.prototype.indexOf.call(this._selectElement,e)},setSelectedIndex:function(e){this._selectElement.selectedIndex=e},selectedIndex:function(){return this._selectElement.selectedIndex},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarCheckbox=function(e){WebInspector.StatusBarItem.call(this,"label"),this.element.classList.add("status-bar-item","checkbox"),this._checkbox=this.element.createChild("input"),this._checkbox.type="checkbox",this.element.createTextChild(e)},WebInspector.StatusBarCheckbox.prototype={checked:function(){return this._checkbox.checked},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarStatesSettingButton=function(e,t,i,n,r,s){WebInspector.StatusBarButton.call(this,"",e,t.length);var o=this._onClick.bind(this);this.addEventListener("click",o,this),this._states=t,this._buttons=[];for(var a=0;a<t.length;a++){var c=new WebInspector.StatusBarButton(i[a],e,t.length);c.state=this._states[a],c.addEventListener("click",o,this),this._buttons.push(c)}this._currentStateSetting=n,this._lastStateSetting=r,this._stateChangedCallback=s,this.setLongClickOptionsEnabled(this._createOptions.bind(this)),this._currentState=null,this.toggleState(this._defaultState())},WebInspector.StatusBarStatesSettingButton.prototype={_onClick:function(e){this.toggleState(e.target.state)},toggleState:function(e){if(this._currentState!==e){this._currentState&&this._lastStateSetting.set(this._currentState),this._currentState=e,this._currentStateSetting.set(this._currentState),this._stateChangedCallback&&this._stateChangedCallback(e);var t=this._defaultState();this.state=t,this.title=this._buttons[this._states.indexOf(t)].title}},_defaultState:function(){if(!this._currentState){var e=this._currentStateSetting.get();return this._states.indexOf(e)>=0?e:this._states[0]}var t=this._lastStateSetting.get();return t&&this._states.indexOf(t)>=0&&t!=this._currentState?t:this._states.length>1&&this._currentState===this._states[0]?this._states[1]:this._states[0]},_createOptions:function(){for(var e=[],t=0;t<this._states.length;t++)this._states[t]!==this.state&&this._states[t]!==this._currentState&&e.push(this._buttons[t]);return e},__proto__:WebInspector.StatusBarButton.prototype},WebInspector.DropDownMenu=function(){this.element=document.createElementWithClass("select","drop-down-menu"),this.element.addEventListener("mousedown",this._onBeforeMouseDown.bind(this),!0),this.element.addEventListener("mousedown",consumeEvent,!1),this.element.addEventListener("change",this._onChange.bind(this),!1)},WebInspector.DropDownMenu.Events={BeforeShow:"BeforeShow",ItemSelected:"ItemSelected"},WebInspector.DropDownMenu.prototype={_onBeforeMouseDown:function(){this.dispatchEventToListeners(WebInspector.DropDownMenu.Events.BeforeShow,null)},_onChange:function(){var e=this.element.options[this.element.selectedIndex];this.dispatchEventToListeners(WebInspector.DropDownMenu.Events.ItemSelected,e.id)},addItem:function(e,t){var i=new Option(t);i.id=e,this.element.appendChild(i)},selectItem:function(e){for(var t=this.element.children,i=0;i<t.length;++i)if(t[i].id===e)return void(this.element.selectedIndex=i);this.element.selectedIndex=-1},clear:function(){this.element.removeChildren()},__proto__:WebInspector.Object.prototype},WebInspector.CompletionDictionary=function(){},WebInspector.CompletionDictionary.prototype={addWord:function(e){},removeWord:function(e){},hasWord:function(e){},wordsWithPrefix:function(e){},wordCount:function(e){},reset:function(){}},WebInspector.SampleCompletionDictionary=function(){this._words={}},WebInspector.SampleCompletionDictionary.prototype={addWord:function(e){this._words[e]?++this._words[e]:this._words[e]=1},removeWord:function(e){this._words[e]&&(1===this._words[e]?delete this._words[e]:--this._words[e])},wordsWithPrefix:function(e){var t=[];for(var i in this._words)i.startsWith(e)&&t.push(i);return t},hasWord:function(e){return!!this._words[e]},wordCount:function(e){return this._words[e]?this._words[e]:0},reset:function(){this._words={}}},WebInspector.InplaceEditor=function(){},WebInspector.InplaceEditor.startEditing=function(e,t){return t.multiline?WebInspector.moduleManager.instance(WebInspector.InplaceEditor).startEditing(e,t):(WebInspector.InplaceEditor._defaultInstance||(WebInspector.InplaceEditor._defaultInstance=new WebInspector.InplaceEditor),WebInspector.InplaceEditor._defaultInstance.startEditing(e,t))},WebInspector.InplaceEditor.prototype={editorContent:function(e){var t=e.element;return"INPUT"===t.tagName&&"text"===t.type?t.value:t.textContent},setUpEditor:function(e){var t=e.element;t.classList.add("editing");var i=t.getAttribute("tabIndex");("number"!=typeof i||i<0)&&(t.tabIndex=0),WebInspector.setCurrentFocusElement(t),e.oldTabIndex=i},closeEditor:function(e){var t=e.element;t.classList.remove("editing"),"number"!=typeof e.oldTabIndex?t.removeAttribute("tabIndex"):t.tabIndex=e.oldTabIndex,t.scrollTop=0,t.scrollLeft=0},cancelEditing:function(e){var t=e.element;"INPUT"===t.tagName&&"text"===t.type?t.value=e.oldText:t.textContent=e.oldText},augmentEditingHandle:function(e,t){},startEditing:function(e,t){if(!WebInspector.markBeingEdited(e,!0))return null;t=t||new WebInspector.InplaceEditor.Config(function(){},function(){});var i={element:e,config:t},n=t.commitHandler,r=t.cancelHandler,s=t.pasteHandler,o=t.context,a=t.multiline||!1,c="",l=this;function d(t){a&&t&&t.relatedTarget&&t.relatedTarget.isSelfOrDescendant(e)||u.call(e)}function h(){WebInspector.markBeingEdited(e,!1),e.removeEventListener("blur",d,a),e.removeEventListener("keydown",g,!0),s&&e.removeEventListener("paste",_,!0),WebInspector.restoreFocusFromElement(e),l.closeEditor(i)}function p(){l.cancelEditing(i),h(),r(this,o)}function u(){h(),n(this,l.editorContent(i),i.oldText,o,c)}function m(t,i){"commit"===t?(u.call(e),i.consume(!0)):"cancel"===t?(p.call(e),i.consume(!0)):t&&t.startsWith("move-")&&(c=t.substring(5),"U+0009"!==i.keyIdentifier&&d())}function _(e){m(s(e),e)}function g(e){m((t.customFinishHandler||function(e){var t=WebInspector.isMac()?e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey:e.ctrlKey&&!e.shiftKey&&!e.metaKey&&!e.altKey;return isEnterKey(e)&&(e.isMetaOrCtrlForTest||!a||t)?"commit":e.keyCode===WebInspector.KeyboardShortcut.Keys.Esc.code||"U+001B"===e.keyIdentifier?"cancel":a||"U+0009"!==e.keyIdentifier?void 0:"move-"+(e.shiftKey?"backward":"forward")})(e),e)}this.setUpEditor(i),i.oldText=a?t.initialValue:this.editorContent(i),e.addEventListener("blur",d,a),e.addEventListener("keydown",g,!0),s&&e.addEventListener("paste",_,!0);var b={cancel:p.bind(e),commit:u.bind(e)};return this.augmentEditingHandle(i,b),b}},WebInspector.InplaceEditor.Config=function(e,t,i){this.commitHandler=e,this.cancelHandler=t,this.context=i,this.pasteHandler,this.multiline,this.customFinishHandler},WebInspector.InplaceEditor.Config.prototype={setPasteHandler:function(e){this.pasteHandler=e},setMultilineOptions:function(e,t,i,n,r){this.multiline=!0,this.initialValue=e,this.mode=t,this.theme=i,this.lineWrapping=n,this.smartIndent=r},setCustomFinishHandler:function(e){this.customFinishHandler=e}},WebInspector.TextEditor=function(){},WebInspector.TextEditor.Events={GutterClick:"gutterClick"},WebInspector.TextEditor.GutterClickEventData,WebInspector.TextEditor.prototype={undo:function(){},redo:function(){},isClean:function(){},markClean:function(){},indent:function(){},cursorPositionToCoordinates:function(e,t){return null},coordinatesToCursorPosition:function(e,t){return null},tokenAtTextPosition:function(e,t){return null},setMimeType:function(e){},setReadOnly:function(e){},readOnly:function(){},defaultFocusedElement:function(){},highlightRange:function(e,t){},removeHighlight:function(e){},addBreakpoint:function(e,t,i){},removeBreakpoint:function(e){},setExecutionLine:function(e){},clearExecutionLine:function(){},addDecoration:function(e,t){},removeDecoration:function(e,t){},highlightSearchResults:function(e,t){},revealPosition:function(e,t,i){},clearPositionHighlight:function(){},elementsToRestoreScrollPositionsFor:function(){},inheritScrollPositions:function(e){},beginUpdates:function(){},endUpdates:function(){},onResize:function(){},editRange:function(e,t){},scrollToLine:function(e){},firstVisibleLine:function(){},lastVisibleLine:function(){},selection:function(){},lastSelection:function(){},setSelection:function(e){},copyRange:function(e){},setText:function(e){},text:function(){},range:function(){},line:function(e){},get linesCount(){},setAttribute:function(e,t,i){},getAttribute:function(e,t){},removeAttribute:function(e,t){},wasShown:function(){},willHide:function(){},setCompletionDictionary:function(e){},textEditorPositionHandle:function(e,t){}},WebInspector.TextEditorPositionHandle=function(){},WebInspector.TextEditorPositionHandle.prototype={resolve:function(){},equal:function(e){}},WebInspector.TextEditorDelegate=function(){},WebInspector.TextEditorDelegate.prototype={onTextChanged:function(e,t){},selectionChanged:function(e){},scrollChanged:function(e){},editorFocused:function(){},populateLineGutterContextMenu:function(e,t){},populateTextAreaContextMenu:function(e,t){},createLink:function(e,t){},onJumpToPosition:function(e,t){}},WebInspector.TokenizerFactory=function(){},WebInspector.TokenizerFactory.prototype={createTokenizer:function(e){}},WebInspector.SourceFrame=function(e){WebInspector.VBox.call(this),this.element.classList.add("script-view"),this._url=e.contentURL(),this._contentProvider=e;var t=new WebInspector.TextEditorDelegateForSourceFrame(this);WebInspector.moduleManager.loadModule("codemirror"),this._textEditor=new WebInspector.CodeMirrorTextEditor(this._url,t),this._currentSearchResultIndex=-1,this._searchResults=[],this._messages=[],this._rowMessages={},this._messageBubbles={},this._textEditor.setReadOnly(!this.canEditSource()),this._shortcuts={},this.element.addEventListener("keydown",this._handleKeyDown.bind(this),!1),this._sourcePosition=new WebInspector.StatusBarText("","source-frame-cursor-position")},WebInspector.SourceFrame.createSearchRegex=function(e,t){var i;t=t||"";try{/^\/.+\/$/.test(e)&&((i=new RegExp(e.substring(1,e.length-1),t)).__fromRegExpQuery=!0)}catch(e){}return i||(i=createPlainTextSearchRegex(e,"i"+t)),i},WebInspector.SourceFrame.Events={ScrollChanged:"ScrollChanged",SelectionChanged:"SelectionChanged",JumpHappened:"JumpHappened"},WebInspector.SourceFrame.prototype={addShortcut:function(e,t){this._shortcuts[e]=t},wasShown:function(){this._ensureContentLoaded(),this._textEditor.show(this.element),this._editorAttached=!0,this._wasShownOrLoaded()},_isEditorShowing:function(){return this.isShowing()&&this._editorAttached},willHide:function(){WebInspector.View.prototype.willHide.call(this),this._clearPositionToReveal()},statusBarText:function(){return this._sourcePosition.element},statusBarItems:function(){return[]},defaultFocusedElement:function(){return this._textEditor.defaultFocusedElement()},get loaded(){return this._loaded},hasContent:function(){return!0},get textEditor(){return this._textEditor},_ensureContentLoaded:function(){this._contentRequested||(this._contentRequested=!0,this._contentProvider.requestContent(this.setContent.bind(this)))},addMessage:function(e){this._messages.push(e),this.loaded&&this.addMessageToSource(e.line-1,e)},clearMessages:function(){for(var e in this._messageBubbles){var t=this._messageBubbles[e],i=parseInt(e,10);this._textEditor.removeDecoration(i,t)}this._messages=[],this._rowMessages={},this._messageBubbles={}},revealPosition:function(e,t,i){this._clearLineToScrollTo(),this._clearSelectionToSet(),this._positionToReveal={line:e,column:t,shouldHighlight:i},this._innerRevealPositionIfNeeded()},_innerRevealPositionIfNeeded:function(){this._positionToReveal&&this.loaded&&this._isEditorShowing()&&(this._textEditor.revealPosition(this._positionToReveal.line,this._positionToReveal.column,this._positionToReveal.shouldHighlight),delete this._positionToReveal)},_clearPositionToReveal:function(){this._textEditor.clearPositionHighlight(),delete this._positionToReveal},scrollToLine:function(e){this._clearPositionToReveal(),this._lineToScrollTo=e,this._innerScrollToLineIfNeeded()},_innerScrollToLineIfNeeded:function(){"number"==typeof this._lineToScrollTo&&this.loaded&&this._isEditorShowing()&&(this._textEditor.scrollToLine(this._lineToScrollTo),delete this._lineToScrollTo)},_clearLineToScrollTo:function(){delete this._lineToScrollTo},selection:function(){return this.textEditor.selection()},setSelection:function(e){this._selectionToSet=e,this._innerSetSelectionIfNeeded()},_innerSetSelectionIfNeeded:function(){this._selectionToSet&&this.loaded&&this._isEditorShowing()&&(this._textEditor.setSelection(this._selectionToSet),delete this._selectionToSet)},_clearSelectionToSet:function(){delete this._selectionToSet},_wasShownOrLoaded:function(){this._innerRevealPositionIfNeeded(),this._innerSetSelectionIfNeeded(),this._innerScrollToLineIfNeeded()},onTextChanged:function(e,t){this._searchResultsChangedCallback&&!this._isReplacing&&this._searchResultsChangedCallback(),this.clearMessages()},_simplifyMimeType:function(e,t){return t?t.indexOf("javascript")>=0||t.indexOf("jscript")>=0||t.indexOf("ecmascript")>=0?"text/javascript":"text/x-php"===t&&e.match(/\<\?.*\?\>/g)?"application/x-httpd-php":t:""},setHighlighterType:function(e){this._highlighterType=e,this._updateHighlighterType("")},_updateHighlighterType:function(e){this._textEditor.setMimeType(this._simplifyMimeType(e,this._highlighterType))},setContent:function(e){if(this._loaded){var t=this._textEditor.firstVisibleLine(),i=this._textEditor.selection();this._textEditor.setText(e||""),this._textEditor.scrollToLine(t),this._textEditor.setSelection(i)}else this._loaded=!0,this._textEditor.setText(e||""),this._textEditor.markClean();this._updateHighlighterType(e||""),this._textEditor.beginUpdates(),this._setTextEditorDecorations(),this._wasShownOrLoaded(),this._delayedFindSearchMatches&&(this._delayedFindSearchMatches(),delete this._delayedFindSearchMatches),this.onTextEditorContentLoaded(),this._textEditor.endUpdates()},onTextEditorContentLoaded:function(){},_setTextEditorDecorations:function(){this._rowMessages={},this._messageBubbles={},this._textEditor.beginUpdates(),this._addExistingMessagesToSource(),this._textEditor.endUpdates()},performSearch:function(e,t,i,n,r){function s(e){this._currentSearchResultIndex=-1,this._searchResults=[];var n=WebInspector.SourceFrame.createSearchRegex(e);this._searchRegex=n,this._searchResults=this._collectRegexMatches(n),this._searchResults.length?t?this.jumpToNextSearchResult():this._textEditor.highlightSearchResults(n,null):this._textEditor.cancelSearchResultsHighlight(),i(this,this._searchResults.length)}this._resetSearch(),this._currentSearchMatchChangedCallback=n,this._searchResultsChangedCallback=r,this.loaded?s.call(this,e):this._delayedFindSearchMatches=s.bind(this,e),this._ensureContentLoaded()},_editorFocused:function(){this._searchResults.length&&(this._currentSearchResultIndex=-1,this._currentSearchMatchChangedCallback&&this._currentSearchMatchChangedCallback(this._currentSearchResultIndex),this._textEditor.highlightSearchResults(this._searchRegex,null))},_searchResultAfterSelectionIndex:function(e){if(!e)return 0;for(var t=0;t<this._searchResults.length;++t)if(this._searchResults[t].compareTo(e)>=0)return t;return 0},_resetSearch:function(){delete this._delayedFindSearchMatches,delete this._currentSearchMatchChangedCallback,delete this._searchResultsChangedCallback,this._currentSearchResultIndex=-1,this._searchResults=[],delete this._searchRegex},searchCanceled:function(){var e=-1!==this._currentSearchResultIndex?this._searchResults[this._currentSearchResultIndex]:null;this._resetSearch(),this.loaded&&(this._textEditor.cancelSearchResultsHighlight(),e&&this._textEditor.setSelection(e))},hasSearchResults:function(){return this._searchResults.length>0},jumpToFirstSearchResult:function(){this.jumpToSearchResult(0)},jumpToLastSearchResult:function(){this.jumpToSearchResult(this._searchResults.length-1)},jumpToNextSearchResult:function(){var e=this._searchResultAfterSelectionIndex(this._textEditor.selection()),t=-1===this._currentSearchResultIndex?e:e+1;this.jumpToSearchResult(t)},jumpToPreviousSearchResult:function(){var e=this._searchResultAfterSelectionIndex(this._textEditor.selection());this.jumpToSearchResult(e-1)},showingFirstSearchResult:function(){return this._searchResults.length&&0===this._currentSearchResultIndex},showingLastSearchResult:function(){return this._searchResults.length&&this._currentSearchResultIndex===this._searchResults.length-1},get currentSearchResultIndex(){return this._currentSearchResultIndex},jumpToSearchResult:function(e){this.loaded&&this._searchResults.length&&(this._currentSearchResultIndex=(e+this._searchResults.length)%this._searchResults.length,this._currentSearchMatchChangedCallback&&this._currentSearchMatchChangedCallback(this._currentSearchResultIndex),this._textEditor.highlightSearchResults(this._searchRegex,this._searchResults[this._currentSearchResultIndex]))},replaceSelectionWith:function(e){var t=this._searchResults[this._currentSearchResultIndex];if(t){this._textEditor.highlightSearchResults(this._searchRegex,null),this._isReplacing=!0;var i=this._textEditor.editRange(t,e);delete this._isReplacing,this._textEditor.setSelection(i.collapseToEnd())}},replaceAllWith:function(e,t){this._textEditor.highlightSearchResults(this._searchRegex,null);var i=this._textEditor.text(),n=this._textEditor.range(),r=WebInspector.SourceFrame.createSearchRegex(e,"g");i=r.__fromRegExpQuery?i.replace(r,t):i.replace(r,function(){return t}),this._isReplacing=!0,this._textEditor.editRange(n,i),delete this._isReplacing},_collectRegexMatches:function(e){for(var t=[],i=0;i<this._textEditor.linesCount;++i){var n=this._textEditor.line(i),r=0;do{var s=e.exec(n);s&&(s[0].length&&t.push(new WebInspector.TextRange(i,r+s.index,i,r+s.index+s[0].length)),r+=s.index+1,n=n.substring(s.index+1))}while(s&&n)}return t},_addExistingMessagesToSource:function(){for(var e=this._messages.length,t=0;t<e;++t)this.addMessageToSource(this._messages[t].line-1,this._messages[t])},addMessageToSource:function(e,t){e>=this._textEditor.linesCount&&(e=this._textEditor.linesCount-1),e<0&&(e=0);var i=this._rowMessages[e];i||(i=[],this._rowMessages[e]=i);for(var n=0;n<i.length;++n)if(i[n].consoleMessage.isEqual(t))return i[n].repeatCount++,void this._updateMessageRepeatCount(i[n]);var r={consoleMessage:t};i.push(r),this._textEditor.beginUpdates();var s=this._messageBubbles[e];s||((s=document.createElement("div")).className="webkit-html-message-bubble",this._messageBubbles[e]=s,this._textEditor.addDecoration(e,s));var o=document.createElement("div");switch(t.level){case WebInspector.ConsoleMessage.MessageLevel.Error:s.classList.add("webkit-html-error-message"),o.className="error-icon-small";break;case WebInspector.ConsoleMessage.MessageLevel.Warning:s.classList.add("webkit-html-warning-message"),o.className="warning-icon-small"}var a=document.createElement("div");a.className="webkit-html-message-line",s.appendChild(a),a.appendChild(o),a.appendChild(document.createTextNode(t.messageText)),r.element=a,r.repeatCount=1,this._updateMessageRepeatCount(r),this._textEditor.endUpdates()},_updateMessageRepeatCount:function(e){if(!(e.repeatCount<2)){if(!e.repeatCountElement){var t=document.createElement("span");e.element.appendChild(t),e.repeatCountElement=t}e.repeatCountElement.textContent=WebInspector.UIString(" (repeated %d times)",e.repeatCount)}},removeMessageFromSource:function(e,t){e>=this._textEditor.linesCount&&(e=this._textEditor.linesCount-1),e<0&&(e=0);for(var i=this._rowMessages[e],n=0;i&&n<i.length;++n){var r=i[n];if(r.consoleMessage===t){var s=r.element,o=s.parentElement;o.removeChild(s),i.remove(r),i.length||delete this._rowMessages[e],o.childElementCount||(this._textEditor.removeDecoration(e,o),delete this._messageBubbles[e]);break}}},populateLineGutterContextMenu:function(e,t){},populateTextAreaContextMenu:function(e,t){},onJumpToPosition:function(e,t){this.dispatchEventToListeners(WebInspector.SourceFrame.Events.JumpHappened,{from:e,to:t})},inheritScrollPositions:function(e){this._textEditor.inheritScrollPositions(e._textEditor)},canEditSource:function(){return!1},selectionChanged:function(e){this._updateSourcePosition(e),this.dispatchEventToListeners(WebInspector.SourceFrame.Events.SelectionChanged,e),WebInspector.notifications.dispatchEventToListeners(WebInspector.SourceFrame.Events.SelectionChanged,e)},_updateSourcePosition:function(e){if(e)if(e.isEmpty())this._sourcePosition.setText(WebInspector.UIString("Line %d, Column %d",e.endLine+1,e.endColumn+1));else{e=e.normalize();var t=this._textEditor.copyRange(e);e.startLine===e.endLine?this._sourcePosition.setText(WebInspector.UIString("%d characters selected",t.length)):this._sourcePosition.setText(WebInspector.UIString("%d lines, %d characters selected",e.endLine-e.startLine+1,t.length))}},scrollChanged:function(e){this.dispatchEventToListeners(WebInspector.SourceFrame.Events.ScrollChanged,e)},_handleKeyDown:function(e){var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),i=this._shortcuts[t];i&&i()&&e.consume(!0)},__proto__:WebInspector.VBox.prototype},WebInspector.TextEditorDelegateForSourceFrame=function(e){this._sourceFrame=e},WebInspector.TextEditorDelegateForSourceFrame.prototype={onTextChanged:function(e,t){this._sourceFrame.onTextChanged(e,t)},selectionChanged:function(e){this._sourceFrame.selectionChanged(e)},scrollChanged:function(e){this._sourceFrame.scrollChanged(e)},editorFocused:function(){this._sourceFrame._editorFocused()},populateLineGutterContextMenu:function(e,t){this._sourceFrame.populateLineGutterContextMenu(e,t)},populateTextAreaContextMenu:function(e,t){this._sourceFrame.populateTextAreaContextMenu(e,t)},createLink:function(e,t){var i=WebInspector.ParsedURL.completeURL(this._sourceFrame._url,e);return WebInspector.linkifyURLAsNode(i||e,e,void 0,t)},onJumpToPosition:function(e,t){this._sourceFrame.onJumpToPosition(e,t)}},WebInspector.ResourceView=function(e){WebInspector.VBox.call(this),this.registerRequiredCSS("resourceView.css"),this.element.classList.add("resource-view"),this.resource=e},WebInspector.ResourceView.prototype={hasContent:function(){return!1},__proto__:WebInspector.VBox.prototype},WebInspector.ResourceView.hasTextContent=function(e){return!!e.type.isTextType()||e.type===WebInspector.resourceTypes.Other&&!!e.content&&!e.contentEncoded},WebInspector.ResourceView.nonSourceViewForResource=function(e){switch(e.type){case WebInspector.resourceTypes.Image:return new WebInspector.ImageView(e);case WebInspector.resourceTypes.Font:return new WebInspector.FontView(e);default:return new WebInspector.ResourceView(e)}},WebInspector.ResourceSourceFrame=function(e){this._resource=e,WebInspector.SourceFrame.call(this,e)},WebInspector.ResourceSourceFrame.prototype={get resource(){return this._resource},populateTextAreaContextMenu:function(e,t){e.appendApplicableItems(this._resource)},__proto__:WebInspector.SourceFrame.prototype},WebInspector.ResourceSourceFrameFallback=function(e){WebInspector.VBox.call(this),this._resource=e,this.element.classList.add("script-view"),this._content=this.element.createChild("div","script-view-fallback monospace")},WebInspector.ResourceSourceFrameFallback.prototype={wasShown:function(){this._contentRequested||(this._contentRequested=!0,this._resource.requestContent(this._contentLoaded.bind(this)))},_contentLoaded:function(e){this._content.textContent=e},__proto__:WebInspector.VBox.prototype},WebInspector.FontView=function(e){WebInspector.ResourceView.call(this,e),this.element.classList.add("font")},WebInspector.FontView._fontPreviewLines=["ABCDEFGHIJKLM","NOPQRSTUVWXYZ","abcdefghijklm","nopqrstuvwxyz","1234567890"],WebInspector.FontView._fontId=0,WebInspector.FontView._measureFontSize=50,WebInspector.FontView.prototype={hasContent:function(){return!0},_createContentIfNeeded:function(){if(!this.fontPreviewElement){var e="WebInspectorFontPreview"+ ++WebInspector.FontView._fontId;this.fontStyleElement=document.createElement("style"),this.fontStyleElement.textContent='@font-face { font-family: "'+e+'"; src: url('+this.resource.url+"); }",document.head.appendChild(this.fontStyleElement);for(var t=document.createElement("div"),i=0;i<WebInspector.FontView._fontPreviewLines.length;++i)i>0&&t.appendChild(document.createElement("br")),t.appendChild(document.createTextNode(WebInspector.FontView._fontPreviewLines[i]));this.fontPreviewElement=t.cloneNode(!0),this.fontPreviewElement.style.setProperty("font-family",e),this.fontPreviewElement.style.setProperty("visibility","hidden"),this._dummyElement=t,this._dummyElement.style.visibility="hidden",this._dummyElement.style.zIndex="-1",this._dummyElement.style.display="inline",this._dummyElement.style.position="absolute",this._dummyElement.style.setProperty("font-family",e),this._dummyElement.style.setProperty("font-size",WebInspector.FontView._measureFontSize+"px"),this.element.appendChild(this.fontPreviewElement)}},wasShown:function(){this._createContentIfNeeded(),this.updateFontPreviewSize()},onResize:function(){if(!this._inResize){this._inResize=!0;try{this.updateFontPreviewSize()}finally{delete this._inResize}}},_measureElement:function(){this.element.appendChild(this._dummyElement);var e={width:this._dummyElement.offsetWidth,height:this._dummyElement.offsetHeight};return this.element.removeChild(this._dummyElement),e},updateFontPreviewSize:function(){if(!this.fontPreviewElement||!this.isShowing())return;this.fontPreviewElement.style.removeProperty("visibility");var e=this._measureElement();const t=e.height,i=e.width,n=this.element.offsetWidth-50,r=this.element.offsetHeight-30;if(t&&i&&n&&r){var s=n/i,o=r/t,a=Math.floor(WebInspector.FontView._measureFontSize*Math.min(s,o))-2;this.fontPreviewElement.style.setProperty("font-size",a+"px",null)}else this.fontPreviewElement.style.removeProperty("font-size")},__proto__:WebInspector.ResourceView.prototype},WebInspector.ImageView=function(e){WebInspector.ResourceView.call(this,e),this.element.classList.add("image")},WebInspector.ImageView.prototype={hasContent:function(){return!0},wasShown:function(){this._createContentIfNeeded()},_createContentIfNeeded:function(){if(!this._container){var e=document.createElement("div");e.className="image",this.element.appendChild(e);var t=document.createElement("img");t.classList.add("resource-image-view"),e.appendChild(t),t.addEventListener("contextmenu",this._contextMenu.bind(this),!0),this._container=document.createElement("div"),this._container.className="info",this.element.appendChild(this._container);var i=document.createElement("h1");i.className="title",i.textContent=this.resource.displayName,this._container.appendChild(i);var n=document.createElement("dl");n.className="infoList",this.resource.populateImageSource(t),t.addEventListener("load",function(){var e=this.resource.content;if(e)var i=this._base64ToSize(e);else i=this.resource.resourceSize;var r,s=[{name:WebInspector.UIString("Dimensions"),value:WebInspector.UIString("%d Ã— %d",t.naturalWidth,t.naturalHeight)},{name:WebInspector.UIString("File size"),value:Number.bytesToString(i)},{name:WebInspector.UIString("MIME type"),value:this.resource.mimeType}];n.removeChildren();for(var o=0;o<s.length;++o){var a;(a=document.createElement("dt")).textContent=s[o].name,n.appendChild(a),(r=document.createElement("dd")).textContent=s[o].value,n.appendChild(r)}(a=document.createElement("dt")).textContent=WebInspector.UIString("URL"),n.appendChild(a),(r=document.createElement("dd")).appendChild(WebInspector.linkifyURLAsNode(this.resource.url,void 0,void 0,!0)),n.appendChild(r),this._container.appendChild(n)}.bind(this),!1),this._imagePreviewElement=t}},_base64ToSize:function(e){if(!e.length)return 0;var t=3*(e.length||0)/4;return e.length>0&&"="===e[e.length-1]&&t--,e.length>1&&"="===e[e.length-2]&&t--,t},_contextMenu:function(e){var t=new WebInspector.ContextMenu(e);t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy image URL":"Copy Image URL"),this._copyImageURL.bind(this)),this._imagePreviewElement.src&&t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy image as Data URL":"Copy Image As Data URL"),this._copyImageAsDataURL.bind(this)),t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open image in new tab":"Open Image in New Tab"),this._openInNewTab.bind(this)),t.show()},_copyImageAsDataURL:function(){InspectorFrontendHost.copyText(this._imagePreviewElement.src)},_copyImageURL:function(){InspectorFrontendHost.copyText(this.resource.url)},_openInNewTab:function(){InspectorFrontendHost.openInNewTab(this.resource.url)},__proto__:WebInspector.ResourceView.prototype},WebInspector.SplitView=function(e,t,i,n,r){WebInspector.View.call(this),this.registerRequiredCSS("splitView.css"),this.element.classList.add("split-view"),this._mainView=new WebInspector.VBox,this._mainView.makeLayoutBoundary(),this._mainElement=this._mainView.element,this._mainElement.className="split-view-contents scroll-target split-view-main vbox",this._sidebarView=new WebInspector.VBox,this._sidebarView.makeLayoutBoundary(),this._sidebarElement=this._sidebarView.element,this._sidebarElement.className="split-view-contents scroll-target split-view-sidebar vbox",this._resizerElement=this.element.createChild("div","split-view-resizer"),this._resizerElement.createChild("div","split-view-resizer-border"),t?(this._mainView.show(this.element),this._sidebarView.show(this.element)):(this._sidebarView.show(this.element),this._mainView.show(this.element)),this._onDragStartBound=this._onDragStart.bind(this),this._resizerElements=[],this._resizable=!0,this._defaultSidebarWidth=n||200,this._defaultSidebarHeight=r||this._defaultSidebarWidth,this._settingName=i,this.setSecondIsSidebar(t),this._innerSetVertical(e),this._showMode=WebInspector.SplitView.ShowMode.Both,this.installResizer(this._resizerElement)},WebInspector.SplitView.SettingForOrientation,WebInspector.SplitView.ShowMode={Both:"Both",OnlyMain:"OnlyMain",OnlySidebar:"OnlySidebar"},WebInspector.SplitView.Events={SidebarSizeChanged:"SidebarSizeChanged",ShowModeChanged:"ShowModeChanged"},WebInspector.SplitView.MinPadding=20,WebInspector.SplitView.prototype={isVertical:function(){return this._isVertical},setVertical:function(e){this._isVertical!==e&&(this._innerSetVertical(e),this.isShowing()&&this._updateLayout())},_innerSetVertical:function(e){this.element.classList.remove(this._isVertical?"hbox":"vbox"),this._isVertical=e,this.element.classList.add(this._isVertical?"hbox":"vbox"),delete this._resizerElementSize,this._sidebarSize=-1,this._restoreSidebarSizeFromSettings(),this._shouldSaveShowMode&&this._restoreAndApplyShowModeFromSettings(),this._updateShowHideSidebarButton(),this._updateResizersClass(),this.invalidateMinimumSize()},_updateLayout:function(e){delete this._totalSize,this._innerSetSidebarSize(this._preferredSidebarSize(),!!e)},mainElement:function(){return this._mainElement},sidebarElement:function(){return this._sidebarElement},isSidebarSecond:function(){return this._secondIsSidebar},enableShowModeSaving:function(){this._shouldSaveShowMode=!0,this._restoreAndApplyShowModeFromSettings()},showMode:function(){return this._showMode},setSecondIsSidebar:function(e){this._mainElement.classList.toggle("split-view-contents-first",e),this._mainElement.classList.toggle("split-view-contents-second",!e),this._sidebarElement.classList.toggle("split-view-contents-first",!e),this._sidebarElement.classList.toggle("split-view-contents-second",e),e?this._sidebarElement.parentElement&&this._sidebarElement.nextSibling&&this.element.appendChild(this._sidebarElement):this._mainElement.parentElement&&this._mainElement.nextSibling&&this.element.appendChild(this._mainElement),this._secondIsSidebar=e},sidebarSide:function(){return this._showMode!==WebInspector.SplitView.ShowMode.Both?null:this._isVertical?this._secondIsSidebar?"right":"left":this._secondIsSidebar?"bottom":"top"},preferredSidebarSize:function(){return this._preferredSidebarSize()},resizerElement:function(){return this._resizerElement},hideMain:function(e){this._showOnly(this._sidebarView,this._mainView,e),this._updateShowMode(WebInspector.SplitView.ShowMode.OnlySidebar)},hideSidebar:function(e){this._showOnly(this._mainView,this._sidebarView,e),this._updateShowMode(WebInspector.SplitView.ShowMode.OnlyMain)},detachChildViews:function(){this._mainView.detachChildViews(),this._sidebarView.detachChildViews()},_showOnly:function(e,t,i){function n(){e.show(this.element),t.detach(),e.element.classList.add("maximized"),t.element.classList.remove("maximized"),this._resizerElement.classList.add("hidden"),this._removeAllLayoutProperties()}this._cancelAnimation(),i?this._animate(!0,n.bind(this)):(n.call(this),this.doResize()),this._sidebarSize=-1,this.setResizable(!1)},_removeAllLayoutProperties:function(){this._sidebarElement.style.removeProperty("flexBasis"),this._resizerElement.style.removeProperty("left"),this._resizerElement.style.removeProperty("right"),this._resizerElement.style.removeProperty("top"),this._resizerElement.style.removeProperty("bottom"),this._resizerElement.style.removeProperty("margin-left"),this._resizerElement.style.removeProperty("margin-right"),this._resizerElement.style.removeProperty("margin-top"),this._resizerElement.style.removeProperty("margin-bottom")},showBoth:function(e){this._showMode===WebInspector.SplitView.ShowMode.Both&&(e=!1),this._cancelAnimation(),this._mainElement.classList.remove("maximized"),this._sidebarElement.classList.remove("maximized"),this._resizerElement.classList.remove("hidden"),this._mainView.show(this.element),this._sidebarView.show(this.element),this.setSecondIsSidebar(this._secondIsSidebar),this._sidebarSize=-1,this.setResizable(!0),this._updateShowMode(WebInspector.SplitView.ShowMode.Both),this._updateLayout(e)},setResizable:function(e){this._resizable=e,this._updateResizersClass()},setSidebarSize:function(e){this._savedSidebarSize=e,this._saveSetting(),this._innerSetSidebarSize(e,!1)},sidebarSize:function(){return Math.max(0,this._sidebarSize)},totalSize:function(){return this._totalSize||(this._totalSize=this._isVertical?this.element.offsetWidth:this.element.offsetHeight),this._totalSize*WebInspector.zoomManager.zoomFactor()},_updateShowMode:function(e){this._showMode=e,this._saveShowModeToSettings(),this._updateShowHideSidebarButton(),this.dispatchEventToListeners(WebInspector.SplitView.Events.ShowModeChanged,e),this.invalidateMinimumSize()},_innerSetSidebarSize:function(e,t){if(this._showMode===WebInspector.SplitView.ShowMode.Both&&this.isShowing()&&(e=this._applyConstraints(e),this._sidebarSize!==e)){this._removeAllLayoutProperties();var i=e/WebInspector.zoomManager.zoomFactor()+"px";this.sidebarElement().style.flexBasis=i,this._resizerElementSize||(this._resizerElementSize=this._isVertical?this._resizerElement.offsetWidth:this._resizerElement.offsetHeight),this._isVertical?this._secondIsSidebar?(this._resizerElement.style.right=i,this._resizerElement.style.marginRight=-this._resizerElementSize/2+"px"):(this._resizerElement.style.left=i,this._resizerElement.style.marginLeft=-this._resizerElementSize/2+"px"):this._secondIsSidebar?(this._resizerElement.style.bottom=i,this._resizerElement.style.marginBottom=-this._resizerElementSize/2+"px"):(this._resizerElement.style.top=i,this._resizerElement.style.marginTop=-this._resizerElementSize/2+"px"),this._sidebarSize=e,t?this._animate(!1):(this.doResize(),this.dispatchEventToListeners(WebInspector.SplitView.Events.SidebarSizeChanged,this.sidebarSize()))}},_animate:function(e,t){var i;this._animationCallback=t,i=this._isVertical?this._secondIsSidebar?"margin-right":"margin-left":this._secondIsSidebar?"margin-bottom":"margin-top";var n,r,s=WebInspector.zoomManager.zoomFactor(),o=e?"0":"-"+this._sidebarSize/s+"px",a=e?"-"+this._sidebarSize/s+"px":"0";this.element.style.setProperty(i,o),e||(suppressUnused(this._mainElement.offsetWidth),suppressUnused(this._sidebarElement.offsetWidth)),e||this._sidebarView.doResize(),this.element.style.setProperty("transition",i+" 50ms linear"),n=function(){if(delete this._animationFrameHandle,r){if(!(window.performance.now()<r+50))return this._cancelAnimation(),this._mainView.doResize(),void this.dispatchEventToListeners(WebInspector.SplitView.Events.SidebarSizeChanged,this.sidebarSize());this._mainView.doResize()}else this.element.style.setProperty(i,a),r=window.performance.now();this._animationFrameHandle=window.requestAnimationFrame(n)}.bind(this),this._animationFrameHandle=window.requestAnimationFrame(n)},_cancelAnimation:function(){this.element.style.removeProperty("margin-top"),this.element.style.removeProperty("margin-right"),this.element.style.removeProperty("margin-bottom"),this.element.style.removeProperty("margin-left"),this.element.style.removeProperty("transition"),this._animationFrameHandle&&(window.cancelAnimationFrame(this._animationFrameHandle),delete this._animationFrameHandle),this._animationCallback&&(this._animationCallback(),delete this._animationCallback)},_applyConstraints:function(e){var t=this.totalSize(),i=this._sidebarView.minimumSize(),n=this.isVertical()?i.width:i.height;n||(n=WebInspector.SplitView.MinPadding),i=this._mainView.minimumSize();var r=this.isVertical()?i.width:i.height;r||(r=WebInspector.SplitView.MinPadding);var s=t-r;return n<=s?Number.constrain(e,n,s):Math.max(0,s)},wasShown:function(){this._forceUpdateLayout(),WebInspector.zoomManager.addEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)},willHide:function(){WebInspector.zoomManager.removeEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)},onResize:function(){this._updateLayout()},onLayout:function(){this._updateLayout()},calculateMinimumSize:function(){if(this._showMode===WebInspector.SplitView.ShowMode.OnlyMain)return this._mainView.minimumSize();if(this._showMode===WebInspector.SplitView.ShowMode.OnlySidebar)return this._sidebarView.minimumSize();var e=this._mainView.minimumSize(),t=this._sidebarView.minimumSize(),i=WebInspector.SplitView.MinPadding;return this._isVertical?new Size((e.width||i)+(t.width||i),Math.max(e.height,t.height)):new Size(Math.max(e.width,t.width),(e.height||i)+(t.height||i))},_startResizerDragging:function(e){if(!this._resizable)return!1;var t=(this._isVertical?e.pageX:e.pageY)*WebInspector.zoomManager.zoomFactor();return this._dragOffset=(this._secondIsSidebar?this.totalSize()-this._sidebarSize:this._sidebarSize)-t,!0},_resizerDragging:function(e){var t=(this._isVertical?e.pageX:e.pageY)*WebInspector.zoomManager.zoomFactor()+this._dragOffset,i=this._secondIsSidebar?this.totalSize()-t:t,n=this._applyConstraints(i);this._savedSidebarSize=n,this._saveSetting(),this._innerSetSidebarSize(n,!1),e.preventDefault()},_endResizerDragging:function(e){delete this._dragOffset},hideDefaultResizer:function(){this.uninstallResizer(this._resizerElement)},installResizer:function(e){e.addEventListener("mousedown",this._onDragStartBound,!1),e.classList.toggle("ew-resizer-widget",this._isVertical&&this._resizable),e.classList.toggle("ns-resizer-widget",!this._isVertical&&this._resizable),-1===this._resizerElements.indexOf(e)&&this._resizerElements.push(e)},uninstallResizer:function(e){e.removeEventListener("mousedown",this._onDragStartBound,!1),e.classList.remove("ew-resizer-widget"),e.classList.remove("ns-resizer-widget"),this._resizerElements.remove(e)},hasCustomResizer:function(){return this._resizerElements.length>1||1==this._resizerElements.length&&this._resizerElements[0]!==this._resizerElement},toggleResizer:function(e,t){t?this.installResizer(e):this.uninstallResizer(e)},_updateResizersClass:function(){for(var e=0;e<this._resizerElements.length;++e)this._resizerElements[e].classList.toggle("ew-resizer-widget",this._isVertical&&this._resizable),this._resizerElements[e].classList.toggle("ns-resizer-widget",!this._isVertical&&this._resizable)},_onDragStart:function(e){-1!==this._resizerElements.indexOf(e.target)&&WebInspector.elementDragStart(this._startResizerDragging.bind(this),this._resizerDragging.bind(this),this._endResizerDragging.bind(this),this._isVertical?"ew-resize":"ns-resize",e)},_setting:function(){return this._settingName?(WebInspector.settings[this._settingName]||(WebInspector.settings[this._settingName]=WebInspector.settings.createSetting(this._settingName,{})),WebInspector.settings[this._settingName]):null},_settingForOrientation:function(){var e=this._setting()?this._setting().get():{};return this._isVertical?e.vertical:e.horizontal},_preferredSidebarSize:function(){var e=this._savedSidebarSize;return e||0<(e=this._isVertical?this._defaultSidebarWidth:this._defaultSidebarHeight)&&e<1&&(e*=this.totalSize()),e},_restoreSidebarSizeFromSettings:function(){var e=this._settingForOrientation();this._savedSidebarSize=e?e.size:0},_restoreAndApplyShowModeFromSettings:function(){var e=this._settingForOrientation();switch(this._savedShowMode=e?e.showMode:WebInspector.SplitView.ShowMode.Both,this._showMode=this._savedShowMode,this._savedShowMode){case WebInspector.SplitView.ShowMode.Both:this.showBoth();break;case WebInspector.SplitView.ShowMode.OnlyMain:this.hideSidebar();break;case WebInspector.SplitView.ShowMode.OnlySidebar:this.hideMain()}},_saveShowModeToSettings:function(){this._savedShowMode=this._showMode,this._saveSetting()},_saveSetting:function(){var e=this._setting();if(e){var t=e.get(),i=(this._isVertical?t.vertical:t.horizontal)||{};i.size=this._savedSidebarSize,this._shouldSaveShowMode&&(i.showMode=this._savedShowMode),this._isVertical?t.vertical=i:t.horizontal=i,e.set(t)}},_forceUpdateLayout:function(){this._sidebarSize=-1,this._updateLayout()},_onZoomChanged:function(e){this._forceUpdateLayout()},createShowHideSidebarButton:function(e,t){return console.assert(this.isVertical(),"Buttons for split view with horizontal split are not supported yet."),this._showHideSidebarButtonTitle=WebInspector.UIString(e),this._showHideSidebarButton=new WebInspector.StatusBarButton("","sidebar-show-hide-button "+t,3),this._showHideSidebarButton.addEventListener("click",function(e){this._showMode!==WebInspector.SplitView.ShowMode.Both?this.showBoth(!0):this.hideSidebar(!0)}.bind(this)),this._updateShowHideSidebarButton(),this._showHideSidebarButton},_updateShowHideSidebarButton:function(){if(this._showHideSidebarButton){var e=this._showMode===WebInspector.SplitView.ShowMode.OnlyMain;this._showHideSidebarButton.state=e?"show":"hide",this._showHideSidebarButton.element.classList.toggle("top-sidebar-show-hide-button",!this.isVertical()&&!this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("right-sidebar-show-hide-button",this.isVertical()&&this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("bottom-sidebar-show-hide-button",!this.isVertical()&&this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("left-sidebar-show-hide-button",this.isVertical()&&!this.isSidebarSecond()),this._showHideSidebarButton.title=e?WebInspector.UIString("Show %s",this._showHideSidebarButtonTitle):WebInspector.UIString("Hide %s",this._showHideSidebarButtonTitle)}},__proto__:WebInspector.View.prototype},WebInspector.StackView=function(e){WebInspector.VBox.call(this),this._isVertical=e,this._currentSplitView=null},WebInspector.StackView.prototype={appendView:function(e,t,i,n){var r=new WebInspector.SplitView(this._isVertical,!0,t,i,n);return e.show(r.mainElement()),r.hideSidebar(),this._currentSplitView?(r.show(this._currentSplitView.sidebarElement()),this._currentSplitView.showBoth()):r.show(this.element),this._currentSplitView=r,r},detachChildViews:function(){WebInspector.View.prototype.detachChildViews.call(this),this._currentSplitView=null},__proto__:WebInspector.VBox.prototype},WebInspector.ExtensionServerAPI=function(){},WebInspector.ExtensionServerAPI.prototype={addExtensions:function(e){}},WebInspector.ExtensionServerProxy=function(){},WebInspector.ExtensionServerProxy._ensureExtensionServer=function(){WebInspector.extensionServer||(WebInspector.extensionServer=WebInspector.moduleManager.instance(WebInspector.ExtensionServerAPI))},WebInspector.ExtensionServerProxy.prototype={setFrontendReady:function(){this._frontendReady=!0,this._pushExtensionsToServer()},_addExtensions:function(e){0!==e.length&&(console.assert(!this._pendingExtensions),this._pendingExtensions=e,this._pushExtensionsToServer())},_pushExtensionsToServer:function(){this._frontendReady&&this._pendingExtensions&&(WebInspector.ExtensionServerProxy._ensureExtensionServer(),WebInspector.extensionServer.addExtensions(this._pendingExtensions),delete this._pendingExtensions)}},WebInspector.extensionServerProxy=new WebInspector.ExtensionServerProxy,WebInspector.addExtensions=function(e){WebInspector.extensionServerProxy._addExtensions(e)},WebInspector.setInspectedTabId=function(e){WebInspector._inspectedTabId=e},WebInspector.EmptyView=function(e){WebInspector.VBox.call(this),this._text=e},WebInspector.EmptyView.prototype={wasShown:function(){this.element.classList.add("empty-view"),this.element.textContent=this._text},set text(e){this._text=e,this.isShowing()&&(this.element.textContent=this._text)},__proto__:WebInspector.VBox.prototype},window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,WebInspector.TempFile=function(e,t,i){function n(e){WebInspector.console.log("Failed to create temp file "+e.code+" : "+e.message,WebInspector.ConsoleMessage.MessageLevel.Error),i(null)}this._fileEntry=null,this._writer=null,WebInspector.TempFile._ensureTempStorageCleared(function(){window.requestFileSystem(window.TEMPORARY,10,function(r){r.root.getDirectory(e,{create:!0},function(e){e.getFile(t,{create:!0},function(e){this._fileEntry=e,e.createWriter(function(e){e.length?(e.onwrite=function(t){this._writer=e,e.onwrite=null,e.onerror=null,i(this)}.bind(this),e.onerror=function(e){WebInspector.console.log("Failed to truncate temp file "+e.code+" : "+e.message,WebInspector.ConsoleMessage.MessageLevel.Error),i(null)},e.truncate(0)):(this._writer=e,i(this))}.bind(this),n)}.bind(this),n)}.bind(this),n)}.bind(this),n)}.bind(this))},WebInspector.TempFile.prototype={write:function(e,t){var i=new Blob([e],{type:"text/plain"});this._writer.onerror=function(e){WebInspector.console.log("Failed to write into a temp file: "+e.message,WebInspector.ConsoleMessage.MessageLevel.Error),t(!1)},this._writer.onwrite=function(e){t(!0)},this._writer.write(i)},finishWriting:function(){this._writer=null},read:function(e){this._fileEntry.file(function(t){var i=new FileReader;i.onloadend=function(t){e(this.result)},i.onerror=function(e){WebInspector.console.log("Failed to read from temp file: "+e.message,WebInspector.ConsoleMessage.MessageLevel.Error)},i.readAsText(t)},function(t){WebInspector.console.log("Failed to load temp file: "+t.message,WebInspector.ConsoleMessage.MessageLevel.Error),e(null)})},writeToOutputSteam:function(e,t){this._fileEntry.file(function(i){new WebInspector.ChunkedFileReader(i,1e7,t).start(e)},function(t){WebInspector.console.log("Failed to load temp file: "+t.message,WebInspector.ConsoleMessage.MessageLevel.Error),e.close()})},remove:function(){this._fileEntry&&this._fileEntry.remove(function(){})}},WebInspector.BufferedTempFileWriter=function(e,t){this._chunks=[],this._tempFile=null,this._isWriting=!1,this._finishCallback=null,this._isFinished=!1,new WebInspector.TempFile(e,t,this._didCreateTempFile.bind(this))},WebInspector.BufferedTempFileWriter.prototype={write:function(e){if(this._chunks){if(this._finishCallback)throw new Error("Now writes are allowed after close.");this._chunks.push(e),this._tempFile&&!this._isWriting&&this._writeNextChunk()}},close:function(e){this._finishCallback=e,this._isFinished?e(this._tempFile):this._isWriting||this._chunks.length||this._notifyFinished()},_didCreateTempFile:function(e){if(this._tempFile=e,!e)return this._chunks=null,void this._notifyFinished();this._chunks.length&&this._writeNextChunk()},_writeNextChunk:function(){for(var e=0,t=0;t<this._chunks.length&&!((e+=this._chunks[t].length)>1e7);t++);var i=this._chunks.slice(0,t+1).join("");this._chunks.splice(0,t+1),this._isWriting=!0,this._tempFile.write(i,this._didWriteChunk.bind(this))},_didWriteChunk:function(e){if(this._isWriting=!1,!e)return this._tempFile=null,this._chunks=null,void this._notifyFinished();this._chunks.length?this._writeNextChunk():this._finishCallback&&this._notifyFinished()},_notifyFinished:function(){this._isFinished=!0,this._tempFile&&this._tempFile.finishWriting(),this._finishCallback&&this._finishCallback(this._tempFile)}},WebInspector.TempStorageCleaner=function(){this._worker=new SharedWorker("TempStorageSharedWorker.js","TempStorage"),this._callbacks=[],this._worker.port.onmessage=this._handleMessage.bind(this),this._worker.port.onerror=this._handleError.bind(this)},WebInspector.TempStorageCleaner.prototype={ensureStorageCleared:function(e){this._callbacks?this._callbacks.push(e):e()},_handleMessage:function(e){"tempStorageCleared"===e.data.type&&(e.data.error&&WebInspector.console.log(e.data.error,WebInspector.ConsoleMessage.MessageLevel.Error),this._notifyCallbacks())},_handleError:function(e){WebInspector.console.log(WebInspector.UIString("Failed to clear temp storage: %s",e.data),WebInspector.ConsoleMessage.MessageLevel.Error),this._notifyCallbacks()},_notifyCallbacks:function(){var e=this._callbacks;this._callbacks=null;for(var t=0;t<e.length;t++)e[t]()}},WebInspector.TempFile._ensureTempStorageCleared=function(e){WebInspector.TempFile._storageCleaner||(WebInspector.TempFile._storageCleaner=new WebInspector.TempStorageCleaner),WebInspector.TempFile._storageCleaner.ensureStorageCleared(e)},WebInspector.TextRange=function(e,t,i,n){this.startLine=e,this.startColumn=t,this.endLine=i,this.endColumn=n},WebInspector.TextRange.createFromLocation=function(e,t){return new WebInspector.TextRange(e,t,e,t)},WebInspector.TextRange.fromObject=function(e){return new WebInspector.TextRange(e.startLine,e.startColumn,e.endLine,e.endColumn)},WebInspector.TextRange.prototype={isEmpty:function(){return this.startLine===this.endLine&&this.startColumn===this.endColumn},immediatelyPrecedes:function(e){return!!e&&this.endLine===e.startLine&&this.endColumn===e.startColumn},immediatelyFollows:function(e){return!!e&&e.immediatelyPrecedes(this)},get linesCount(){return this.endLine-this.startLine},collapseToEnd:function(){return new WebInspector.TextRange(this.endLine,this.endColumn,this.endLine,this.endColumn)},normalize:function(){return this.startLine>this.endLine||this.startLine===this.endLine&&this.startColumn>this.endColumn?new WebInspector.TextRange(this.endLine,this.endColumn,this.startLine,this.startColumn):this.clone()},clone:function(){return new WebInspector.TextRange(this.startLine,this.startColumn,this.endLine,this.endColumn)},serializeToObject:function(){var e={};return e.startLine=this.startLine,e.startColumn=this.startColumn,e.endLine=this.endLine,e.endColumn=this.endColumn,e},compareTo:function(e){return this.startLine>e.startLine?1:this.startLine<e.startLine?-1:this.startColumn>e.startColumn?1:this.startColumn<e.startColumn?-1:0},equal:function(e){return this.startLine===e.startLine&&this.endLine===e.endLine&&this.startColumn===e.startColumn&&this.endColumn===e.endColumn},shift:function(e){return new WebInspector.TextRange(this.startLine+e,this.startColumn,this.endLine+e,this.endColumn)},toString:function(){return JSON.stringify(this)}},WebInspector.SourceRange=function(e,t){this.offset=e,this.length=t},WebInspector.TextUtils={isStopChar:function(e){return e>" "&&e<"0"||e>"9"&&e<"A"||e>"Z"&&e<"_"||e>"_"&&e<"a"||e>"z"&&e<="~"},isWordChar:function(e){return!WebInspector.TextUtils.isStopChar(e)&&!WebInspector.TextUtils.isSpaceChar(e)},isSpaceChar:function(e){return WebInspector.TextUtils._SpaceCharRegex.test(e)},isWord:function(e){for(var t=0;t<e.length;++t)if(!WebInspector.TextUtils.isWordChar(e.charAt(t)))return!1;return!0},isOpeningBraceChar:function(e){return"("===e||"{"===e},isClosingBraceChar:function(e){return")"===e||"}"===e},isBraceChar:function(e){return WebInspector.TextUtils.isOpeningBraceChar(e)||WebInspector.TextUtils.isClosingBraceChar(e)},textToWords:function(e){for(var t=[],i=-1,n=0;n<e.length;++n)WebInspector.TextUtils.isWordChar(e.charAt(n))?-1===i&&(i=n):(-1!==i&&t.push(e.substring(i,n)),i=-1);return-1!==i&&t.push(e.substring(i)),t},findBalancedCurlyBrackets:function(e,t,i){i=i||e.length;for(var n=0,r=!1,s=t=t||0;s<i;++s){var o=e[s];if(r)"\\"===o?++s:'"'===o&&(r=!1);else if('"'===o)r=!0;else if("{"===o)++n;else if("}"===o&&0==--n)return s+1}return-1}},WebInspector.TextUtils._SpaceCharRegex=/\s/,WebInspector.TextUtils.Indent={TwoSpaces:"  ",FourSpaces:"    ",EightSpaces:"        ",TabCharacter:"\t"},WebInspector.FileSystemModel=function(){WebInspector.Object.call(this),this._fileSystemsForOrigin={},WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,this._securityOriginAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,this._securityOriginRemoved,this),FileSystemAgent.enable(),this._reset()},WebInspector.FileSystemModel.prototype={_reset:function(){for(var e in this._fileSystemsForOrigin)this._removeOrigin(e);for(var t=WebInspector.resourceTreeModel.securityOrigins(),i=0;i<t.length;++i)this._addOrigin(t[i])},_securityOriginAdded:function(e){var t=e.data;this._addOrigin(t)},_securityOriginRemoved:function(e){var t=e.data;this._removeOrigin(t)},_addOrigin:function(e){this._fileSystemsForOrigin[e]={};for(var t=["persistent","temporary"],i=0;i<t.length;++i)this._requestFileSystemRoot(e,t[i],this._fileSystemRootReceived.bind(this,e,t[i],this._fileSystemsForOrigin[e]))},_removeOrigin:function(e){for(var t in this._fileSystemsForOrigin[e]){var i=this._fileSystemsForOrigin[e][t];delete this._fileSystemsForOrigin[e][t],this._fileSystemRemoved(i)}delete this._fileSystemsForOrigin[e]},_requestFileSystemRoot:function(e,t,i){FileSystemAgent.requestFileSystemRoot(e,t,function(e,t,n){e?i(FileError.SECURITY_ERR):i(t,n)})},_fileSystemAdded:function(e){this.dispatchEventToListeners(WebInspector.FileSystemModel.EventTypes.FileSystemAdded,e)},_fileSystemRemoved:function(e){this.dispatchEventToListeners(WebInspector.FileSystemModel.EventTypes.FileSystemRemoved,e)},refreshFileSystemList:function(){this._reset()},_fileSystemRootReceived:function(e,t,i,n,r){if(!n&&r&&this._fileSystemsForOrigin[e]===i){var s=new WebInspector.FileSystemModel.FileSystem(this,e,t,r);i[t]=s,this._fileSystemAdded(s)}},requestDirectoryContent:function(e,t){this._requestDirectoryContent(e.url,this._directoryContentReceived.bind(this,e,t))},_requestDirectoryContent:function(e,t){FileSystemAgent.requestDirectoryContent(e,function(e,i,n){e?t(FileError.SECURITY_ERR):0===i?t(i,n):t(i)})},_directoryContentReceived:function(e,t,i,n){if(n){for(var r=[],s=0;s<n.length;++s)n[s].isDirectory?r.push(new WebInspector.FileSystemModel.Directory(this,e.fileSystem,n[s])):r.push(new WebInspector.FileSystemModel.File(this,e.fileSystem,n[s]));t(i,r)}else t(i)},requestMetadata:function(e,t){FileSystemAgent.requestMetadata(e.url,function(e,i,n){e?t(FileError.SECURITY_ERR):t(i,n)})},requestFileContent:function(e,t,i,n,r,s){this._requestFileContent(e.url,t,i,n,r,s)},_requestFileContent:function(e,t,i,n,r,s){FileSystemAgent.requestFileContent(e,t,i,n,r,function(e,t,i,n){e?s&&s(FileError.SECURITY_ERR):s&&s(t,i,n)})},deleteEntry:function(e,t){var i=this;e===e.fileSystem.root?this._deleteEntry(e.url,function(n){t(n),n||i._removeFileSystem(e.fileSystem)}):this._deleteEntry(e.url,t)},_deleteEntry:function(e,t){FileSystemAgent.deleteEntry(e,function(e,i){e?t&&t(FileError.SECURITY_ERR):t&&t(i)})},_removeFileSystem:function(e){var t=e.origin,i=e.type;this._fileSystemsForOrigin[t]&&this._fileSystemsForOrigin[t][i]&&(delete this._fileSystemsForOrigin[t][i],this._fileSystemRemoved(e),Object.isEmpty(this._fileSystemsForOrigin[t])&&delete this._fileSystemsForOrigin[t])},__proto__:WebInspector.Object.prototype},WebInspector.FileSystemModel.EventTypes={FileSystemAdded:"FileSystemAdded",FileSystemRemoved:"FileSystemRemoved"},WebInspector.FileSystemModel.FileSystem=function(e,t,i,n){this.origin=t,this.type=i,this.root=new WebInspector.FileSystemModel.Directory(e,this,n)},WebInspector.FileSystemModel.FileSystem.prototype={get name(){return"filesystem:"+this.origin+"/"+this.type}},WebInspector.FileSystemModel.Entry=function(e,t,i){this._fileSystemModel=e,this._fileSystem=t,this._url=i.url,this._name=i.name,this._isDirectory=i.isDirectory},WebInspector.FileSystemModel.Entry.compare=function(e,t){return e.isDirectory!=t.isDirectory?t.isDirectory?1:-1:e.name.compareTo(t.name)},WebInspector.FileSystemModel.Entry.prototype={get fileSystemModel(){return this._fileSystemModel},get fileSystem(){return this._fileSystem},get url(){return this._url},get name(){return this._name},get isDirectory(){return this._isDirectory},requestMetadata:function(e){this.fileSystemModel.requestMetadata(this,e)},deleteEntry:function(e){this.fileSystemModel.deleteEntry(this,e)}},WebInspector.FileSystemModel.Directory=function(e,t,i){WebInspector.FileSystemModel.Entry.call(this,e,t,i)},WebInspector.FileSystemModel.Directory.prototype={requestDirectoryContent:function(e){this.fileSystemModel.requestDirectoryContent(this,e)},__proto__:WebInspector.FileSystemModel.Entry.prototype},WebInspector.FileSystemModel.File=function(e,t,i){WebInspector.FileSystemModel.Entry.call(this,e,t,i),this._mimeType=i.mimeType,this._resourceType=WebInspector.resourceTypes[i.resourceType],this._isTextFile=i.isTextFile},WebInspector.FileSystemModel.File.prototype={get mimeType(){return this._mimeType},get resourceType(){return this._resourceType},get isTextFile(){return this._isTextFile},requestFileContent:function(e,t,i,n,r){this.fileSystemModel.requestFileContent(this,e,t,i,n,r)},__proto__:WebInspector.FileSystemModel.Entry.prototype},WebInspector.OutputStreamDelegate=function(){},WebInspector.OutputStreamDelegate.prototype={onTransferStarted:function(){},onTransferFinished:function(){},onChunkTransferred:function(e){},onError:function(e,t){}},WebInspector.OutputStream=function(){},WebInspector.OutputStream.prototype={write:function(e,t){},close:function(){}},WebInspector.ChunkedReader=function(){},WebInspector.ChunkedReader.prototype={fileSize:function(){},loadedSize:function(){},fileName:function(){},cancel:function(){}},WebInspector.ChunkedFileReader=function(e,t,i){this._file=e,this._fileSize=e.size,this._loadedSize=0,this._chunkSize=t,this._delegate=i,this._isCanceled=!1},WebInspector.ChunkedFileReader.prototype={start:function(e){this._output=e,this._reader=new FileReader,this._reader.onload=this._onChunkLoaded.bind(this),this._reader.onerror=this._delegate.onError.bind(this._delegate,this),this._delegate.onTransferStarted(),this._loadChunk()},cancel:function(){this._isCanceled=!0},loadedSize:function(){return this._loadedSize},fileSize:function(){return this._fileSize},fileName:function(){return this._file.name},_onChunkLoaded:function(e){if(!this._isCanceled&&e.target.readyState===FileReader.DONE){var t=e.target.result;if(this._loadedSize+=t.length,this._output.write(t),!this._isCanceled){if(this._delegate.onChunkTransferred(this),this._loadedSize===this._fileSize)return this._file=null,this._reader=null,this._output.close(),void this._delegate.onTransferFinished();this._loadChunk()}}},_loadChunk:function(){var e=this._loadedSize,t=Math.min(this._fileSize,e+this._chunkSize),i=this._file.slice(e,t);this._reader.readAsText(i)}},WebInspector.ChunkedXHRReader=function(e,t){this._url=e,this._delegate=t,this._fileSize=0,this._loadedSize=0,this._isCanceled=!1},WebInspector.ChunkedXHRReader.prototype={start:function(e){this._output=e,this._xhr=new XMLHttpRequest,this._xhr.open("GET",this._url,!0),this._xhr.onload=this._onLoad.bind(this),this._xhr.onprogress=this._onProgress.bind(this),this._xhr.onerror=this._delegate.onError.bind(this._delegate,this),this._xhr.send(null),this._delegate.onTransferStarted()},cancel:function(){this._isCanceled=!0,this._xhr.abort()},loadedSize:function(){return this._loadedSize},fileSize:function(){return this._fileSize},fileName:function(){return this._url},_onProgress:function(e){if(!this._isCanceled){e.lengthComputable&&(this._fileSize=e.total);var t=this._xhr.responseText.substring(this._loadedSize);t.length&&(this._loadedSize+=t.length,this._output.write(t),this._isCanceled||this._delegate.onChunkTransferred(this))}},_onLoad:function(e){this._onProgress(e),this._isCanceled||(this._output.close(),this._delegate.onTransferFinished())}},WebInspector.createFileSelectorElement=function(e){var t=document.createElement("input");return t.type="file",t.style.display="none",t.setAttribute("tabindex",-1),t.onchange=function(i){e(t.files[0])},t},WebInspector.FileOutputStream=function(){},WebInspector.FileOutputStream.prototype={open:function(e,t){this._closed=!1,this._writeCallbacks=[],this._fileName=e,WebInspector.fileManager.save(this._fileName,"",!0,function(e){e&&WebInspector.fileManager.addEventListener(WebInspector.FileManager.EventTypes.AppendedToURL,this._onAppendDone,this),t(e)}.bind(this))},write:function(e,t){this._writeCallbacks.push(t),WebInspector.fileManager.append(this._fileName,e)},close:function(){this._closed=!0,this._writeCallbacks.length||(WebInspector.fileManager.removeEventListener(WebInspector.FileManager.EventTypes.AppendedToURL,this._onAppendDone,this),WebInspector.fileManager.close(this._fileName))},_onAppendDone:function(e){if(e.data===this._fileName){var t=this._writeCallbacks.shift();t&&t(this),this._writeCallbacks.length||this._closed&&(WebInspector.fileManager.removeEventListener(WebInspector.FileManager.EventTypes.AppendedToURL,this._onAppendDone,this),WebInspector.fileManager.close(this._fileName))}}},WebInspector.DebuggerModel=function(e){e.registerDebuggerDispatcher(new WebInspector.DebuggerDispatcher(this)),this._agent=e.debuggerAgent(),this._target=e,this._debuggerPausedDetails=null,this._scripts={},this._scriptsBySourceURL=new StringMap,this._breakpointsActive=!0,WebInspector.settings.pauseOnExceptionEnabled.addChangeListener(this._pauseOnExceptionStateChanged,this),WebInspector.settings.pauseOnCaughtException.addChangeListener(this._pauseOnExceptionStateChanged,this),WebInspector.settings.enableAsyncStackTraces.addChangeListener(this._asyncStackTracesStateChanged,this),this.enableDebugger(),this.applySkipStackFrameSettings()},WebInspector.DebuggerModel.PauseOnExceptionsState={DontPauseOnExceptions:"none",PauseOnAllExceptions:"all",PauseOnUncaughtExceptions:"uncaught"},WebInspector.DebuggerModel.Location=function(e,t,i){this.scriptId=e,this.lineNumber=t,this.columnNumber=i},WebInspector.DebuggerModel.Events={DebuggerWasEnabled:"DebuggerWasEnabled",DebuggerWasDisabled:"DebuggerWasDisabled",DebuggerPaused:"DebuggerPaused",DebuggerResumed:"DebuggerResumed",ParsedScriptSource:"ParsedScriptSource",FailedToParseScriptSource:"FailedToParseScriptSource",BreakpointResolved:"BreakpointResolved",GlobalObjectCleared:"GlobalObjectCleared",CallFrameSelected:"CallFrameSelected",ConsoleCommandEvaluatedInSelectedCallFrame:"ConsoleCommandEvaluatedInSelectedCallFrame",BreakpointsActiveStateChanged:"BreakpointsActiveStateChanged"},WebInspector.DebuggerModel.BreakReason={DOM:"DOM",EventListener:"EventListener",XHR:"XHR",Exception:"exception",Assert:"assert",CSPViolation:"CSPViolation",DebugCommand:"debugCommand"},WebInspector.DebuggerModel.prototype={debuggerEnabled:function(){return!!this._debuggerEnabled},enableDebugger:function(){this._debuggerEnabled||this._agent.enable(this._debuggerWasEnabled.bind(this))},disableDebugger:function(){this._debuggerEnabled&&this._agent.disable(this._debuggerWasDisabled.bind(this))},skipAllPauses:function(e,t){this._skipAllPausesTimeout&&(clearTimeout(this._skipAllPausesTimeout),delete this._skipAllPausesTimeout),this._agent.setSkipAllPauses(e,t)},skipAllPausesUntilReloadOrTimeout:function(e){this._skipAllPausesTimeout&&clearTimeout(this._skipAllPausesTimeout),this._agent.setSkipAllPauses(!0,!0),this._skipAllPausesTimeout=setTimeout(this.skipAllPauses.bind(this,!1),e)},_debuggerWasEnabled:function(){this._debuggerEnabled=!0,this._pauseOnExceptionStateChanged(),this._asyncStackTracesStateChanged(),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerWasEnabled)},_pauseOnExceptionStateChanged:function(){var e;e=WebInspector.settings.pauseOnExceptionEnabled.get()?WebInspector.settings.pauseOnCaughtException.get()?WebInspector.DebuggerModel.PauseOnExceptionsState.PauseOnAllExceptions:WebInspector.DebuggerModel.PauseOnExceptionsState.PauseOnUncaughtExceptions:WebInspector.DebuggerModel.PauseOnExceptionsState.DontPauseOnExceptions,this._agent.setPauseOnExceptions(e)},_asyncStackTracesStateChanged:function(){var e=WebInspector.settings.enableAsyncStackTraces.get();this._agent.setAsyncCallStackDepth(e?4:0)},_debuggerWasDisabled:function(){this._debuggerEnabled=!1,this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerWasDisabled)},continueToLocation:function(e){this._agent.continueToLocation(e)},stepInto:function(){this._agent.setOverlayMessage(void 0,function(){this._agent.stepInto()}.bind(this))},stepOver:function(){this._agent.setOverlayMessage(void 0,function(){this._agent.stepOver()}.bind(this))},stepOut:function(){this._agent.setOverlayMessage(void 0,function(){this._agent.stepOut()}.bind(this))},resume:function(){this._agent.setOverlayMessage(void 0,function(){this._agent.resume()}.bind(this))},setBreakpointByScriptLocation:function(e,t,i){var n=this.scriptForId(e.scriptId);n.sourceURL?this.setBreakpointByURL(n.sourceURL,e.lineNumber,e.columnNumber,t,i):this.setBreakpointBySourceId(e,t,i)},setBreakpointByURL:function(e,t,i,n,r){for(var s=0,o=this._scriptsBySourceURL.get(e)||[],a=0,c=o.length;a<c;++a){var l=o[a];t===l.lineOffset&&(s=s?Math.min(s,l.columnOffset):l.columnOffset)}i=Math.max(i,s),this._agent.setBreakpointByUrl(t,e,void 0,i,n,void 0,function(e,t,i){r&&r(e?null:t,i)}),WebInspector.userMetrics.ScriptsBreakpointSet.record()},setBreakpointBySourceId:function(e,t,i){this._agent.setBreakpoint(e,t,function(e,t,n){i&&i(e?null:t,[n])}),WebInspector.userMetrics.ScriptsBreakpointSet.record()},removeBreakpoint:function(e,t){this._agent.removeBreakpoint(e,function(e){e&&console.error("Failed to remove breakpoint: "+e),t&&t()})},_breakpointResolved:function(e,t){this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.BreakpointResolved,{breakpointId:e,location:t})},_globalObjectCleared:function(){this._setDebuggerPausedDetails(null),this._reset(),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.GlobalObjectCleared)},_reset:function(){this._scripts={},this._scriptsBySourceURL.clear()},get scripts(){return this._scripts},scriptForId:function(e){return this._scripts[e]||null},scriptsForSourceURL:function(e){return e&&this._scriptsBySourceURL.get(e)||[]},setScriptSource:function(e,t,i){this._scripts[e].editSource(t,this._didEditScriptSource.bind(this,e,t,i))},_didEditScriptSource:function(e,t,i,n,r,s,o,a){i(n,r),a?this.stepInto():!n&&s&&s.length&&this._pausedScript(s,this._debuggerPausedDetails.reason,this._debuggerPausedDetails.auxData,this._debuggerPausedDetails.breakpointIds,o)},get callFrames(){return this._debuggerPausedDetails?this._debuggerPausedDetails.callFrames:null},debuggerPausedDetails:function(){return this._debuggerPausedDetails},_setDebuggerPausedDetails:function(e){this._debuggerPausedDetails&&this._debuggerPausedDetails.dispose(),this._debuggerPausedDetails=e,this._debuggerPausedDetails&&this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPausedDetails),e?(this.setSelectedCallFrame(e.callFrames[0]),this._agent.setOverlayMessage(WebInspector.UIString("Paused in debugger"))):(this.setSelectedCallFrame(null),this._agent.setOverlayMessage())},_pausedScript:function(e,t,i,n,r){this._setDebuggerPausedDetails(new WebInspector.DebuggerPausedDetails(this,e,t,i,n,r))},_resumedScript:function(){this._setDebuggerPausedDetails(null),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerResumed)},_parsedScriptSource:function(e,t,i,n,r,s,o,a,c){var l=new WebInspector.Script(e,t,i,n,r,s,o,a,c);this._registerScript(l),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.ParsedScriptSource,l)},_registerScript:function(e){if(this._scripts[e.scriptId]=e,!e.isAnonymousScript()){var t=this._scriptsBySourceURL.get(e.sourceURL);t||(t=[],this._scriptsBySourceURL.put(e.sourceURL,t)),t.push(e)}},createRawLocation:function(e,t,i){return e.sourceURL?this.createRawLocationByURL(e.sourceURL,t,i):new WebInspector.DebuggerModel.Location(e.scriptId,t,i)},createRawLocationByURL:function(e,t,i){for(var n=null,r=this._scriptsBySourceURL.get(e)||[],s=0,o=r.length;s<o;++s){var a=r[s];if(n||(n=a),!(a.lineOffset>t||a.lineOffset===t&&a.columnOffset>i||a.endLine<t||a.endLine===t&&a.endColumn<=i)){n=a;break}}return n?new WebInspector.DebuggerModel.Location(n.scriptId,t,i):null},isPaused:function(){return!!this.debuggerPausedDetails()},setSelectedCallFrame:function(e){this._selectedCallFrame=e,this._selectedCallFrame&&this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.CallFrameSelected,e)},selectedCallFrame:function(){return this._selectedCallFrame},evaluateOnSelectedCallFrame:function(e,t,i,n,r,s,o){this.selectedCallFrame().evaluate(e,t,i,n,r,s,function(e,i){e?r?o(null,!!i,i?null:e):o(WebInspector.RemoteObject.fromPayload(e,this._target),!!i):o(null,!1),"console"===t&&this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.ConsoleCommandEvaluatedInSelectedCallFrame)}.bind(this))},getSelectedCallFrameVariables:function(e){var t={this:!0},i=this._selectedCallFrame;i||e(t);var n=0;function r(i){for(var r=0;i&&r<i.length;++r)t[i[r].name]=!0;0==--n&&e(t)}for(var s=0;s<i.scopeChain.length;++s){var o=i.scopeChain[s],a=WebInspector.RemoteObject.fromPayload(o.object,this._target);n++,a.getAllProperties(!1,r)}},setBreakpointsActive:function(e){this._breakpointsActive!==e&&(this._breakpointsActive=e,this._agent.setBreakpointsActive(e),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.BreakpointsActiveStateChanged,e))},breakpointsActive:function(){return this._breakpointsActive},createLiveLocation:function(e,t){return this._scripts[e.scriptId].createLiveLocation(e,t)},rawLocationToUILocation:function(e){var t=this._scripts[e.scriptId];return t?t.rawLocationToUILocation(e.lineNumber,e.columnNumber):null},callStackModified:function(e,t,i){t&&t.stack_update_needs_step_in?this.stepInto():e&&e.length&&this._pausedScript(e,this._debuggerPausedDetails.reason,this._debuggerPausedDetails.auxData,this._debuggerPausedDetails.breakpointIds,i)},applySkipStackFrameSettings:function(){if(WebInspector.experimentsSettings.frameworksDebuggingSupport.isEnabled()){var e=WebInspector.settings,t=e.skipStackFramesSwitch.get()?e.skipStackFramesPattern.get():void 0;this._agent.skipStackFrames(t)}},__proto__:WebInspector.Object.prototype},WebInspector.DebuggerEventTypes={JavaScriptPause:0,JavaScriptBreakpoint:1,NativeBreakpoint:2},WebInspector.DebuggerDispatcher=function(e){this._debuggerModel=e},WebInspector.DebuggerDispatcher.prototype={paused:function(e,t,i,n,r){this._debuggerModel._pausedScript(e,t,i,n||[],r)},resumed:function(){this._debuggerModel._resumedScript()},globalObjectCleared:function(){this._debuggerModel._globalObjectCleared()},scriptParsed:function(e,t,i,n,r,s,o,a,c){this._debuggerModel._parsedScriptSource(e,t,i,n,r,s,!!o,a,c)},scriptFailedToParse:function(e,t,i,n,r){},breakpointResolved:function(e,t){this._debuggerModel._breakpointResolved(e,t)}},WebInspector.DebuggerModel.CallFrame=function(e,t,i,n){this._debuggerModel=e,this._debuggerAgent=e._agent,this._script=t,this._payload=i,this._locations=[],this._isAsync=n},WebInspector.DebuggerModel.CallFrame.fromPayloadArray=function(e,t,i){for(var n=[],r=0;r<t.length;++r){var s=t[r],o=e.scriptForId(s.location.scriptId);o&&n.push(new WebInspector.DebuggerModel.CallFrame(e,o,s,i))}return n},WebInspector.DebuggerModel.CallFrame.prototype={get script(){return this._script},get type(){return this._payload.type},get id(){return this._payload.callFrameId},get scopeChain(){return this._payload.scopeChain},get this(){return this._payload.this},get returnValue(){return this._payload.returnValue},get functionName(){return this._payload.functionName},get location(){return this._payload.location},isAsync:function(){return!!this._isAsync},evaluate:function(e,t,i,n,r,s,o){this._debuggerAgent.evaluateOnCallFrame(this._payload.callFrameId,e,t,i,n,r,s,function(e,t,i){if(e)return console.error(e),void o(null,!1);o(t,i)})},restart:function(e){this._debuggerAgent.restartFrame(this._payload.callFrameId,function(t,i,n,r){t||this._debuggerModel.callStackModified(i,n,r),e&&e(t)}.bind(this))},createLiveLocation:function(e){var t=this._script.createLiveLocation(this.location,e);return this._locations.push(t),t},dispose:function(){for(var e=0;e<this._locations.length;++e)this._locations[e].dispose();this._locations=[]}},WebInspector.DebuggerModel.StackTrace=function(e,t,i){this.callFrames=e,this.asyncStackTrace=t,this.description=i},WebInspector.DebuggerModel.StackTrace.fromPayload=function(e,t,i){if(!t)return null;var n=WebInspector.DebuggerModel.CallFrame.fromPayloadArray(e,t.callFrames,i);if(!n.length)return null;var r=WebInspector.DebuggerModel.StackTrace.fromPayload(e,t.asyncStackTrace,!0);return new WebInspector.DebuggerModel.StackTrace(n,r,t.description)},WebInspector.DebuggerModel.StackTrace.prototype={dispose:function(){for(var e=0;e<this.callFrames.length;++e)this.callFrames[e].dispose();this.asyncStackTrace&&this.asyncStackTrace.dispose()}},WebInspector.DebuggerPausedDetails=function(e,t,i,n,r,s){this.callFrames=WebInspector.DebuggerModel.CallFrame.fromPayloadArray(e,t),this.reason=i,this.auxData=n,this.breakpointIds=r,this.asyncStackTrace=WebInspector.DebuggerModel.StackTrace.fromPayload(e,s,!0)},WebInspector.DebuggerPausedDetails.prototype={dispose:function(){for(var e=0;e<this.callFrames.length;++e)this.callFrames[e].dispose();this.asyncStackTrace&&this.asyncStackTrace.dispose()}},WebInspector.debuggerModel,SourceMapV3.Section=function(){this.map,this.offset},SourceMapV3.Offset=function(){this.line,this.column},WebInspector.SourceMap=function(e,t){if(!WebInspector.SourceMap.prototype._base64Map){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";WebInspector.SourceMap.prototype._base64Map={};for(var i=0;i<e.length;++i)WebInspector.SourceMap.prototype._base64Map[e.charAt(i)]=i}this._sourceMappingURL=e,this._reverseMappingsBySourceURL={},this._mappings=[],this._sources={},this._sourceContentByURL={},this._parseMappingPayload(t)},WebInspector.SourceMap._sourceMapRequestHeaderName="X-Source-Map-Request-From",WebInspector.SourceMap._sourceMapRequestHeaderValue="inspector",WebInspector.SourceMap.hasSourceMapRequestHeader=function(e){return e&&e.requestHeaderValue(WebInspector.SourceMap._sourceMapRequestHeaderName)===WebInspector.SourceMap._sourceMapRequestHeaderValue},WebInspector.SourceMap.load=function(e,t,i){var n={};n[WebInspector.SourceMap._sourceMapRequestHeaderName]=WebInspector.SourceMap._sourceMapRequestHeaderValue,NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,e,n,function(n,r,s,o){if(n||!o||r>=400)i(null);else{")]}"===o.slice(0,3)&&(o=o.substring(o.indexOf("\n")));try{var a=JSON.parse(o),c=e.startsWith("data:")?t:e;i(new WebInspector.SourceMap(c,a))}catch(e){console.error(e.message),i(null)}}})},WebInspector.SourceMap.prototype={url:function(){return this._sourceMappingURL},sources:function(){return Object.keys(this._sources)},sourceContent:function(e){return this._sourceContentByURL[e]},sourceContentProvider:function(e,t){var i=this.sourceContent(e);return i?new WebInspector.StaticContentProvider(t,i):new WebInspector.CompilerSourceMappingContentProvider(e,t)},_parseMappingPayload:function(e){e.sections?this._parseSections(e.sections):this._parseMap(e,0,0)},_parseSections:function(e){for(var t=0;t<e.length;++t){var i=e[t];this._parseMap(i.map,i.offset.line,i.offset.column)}},findEntry:function(e,t){for(var i=0,n=this._mappings.length;n>1;){var r=n>>1,s=i+r,o=this._mappings[s];e<o[0]||e===o[0]&&t<o[1]?n=r:(i=s,n-=r)}var a=this._mappings[i];return!i&&a&&(e<a[0]||e===a[0]&&t<a[1])?null:a},findEntryReversed:function(e,t){for(var i=this._reverseMappingsBySourceURL[e];t<i.length;++t){var n=i[t];if(n)return n}return this._mappings[0]},_parseMap:function(e,t,i){for(var n=0,r=0,s=0,o=[],a={},c=0;c<e.sources.length;++c){var l=e.sources[c],d=e.sourceRoot||"";d&&!d.endsWith("/")&&(d+="/");var h=d+l,p=WebInspector.ParsedURL.completeURL(this._sourceMappingURL,h)||h;a[l]=p,o.push(p),this._sources[p]=!0,e.sourcesContent&&e.sourcesContent[c]&&(this._sourceContentByURL[p]=e.sourcesContent[c])}for(var u=new WebInspector.SourceMap.StringCharIterator(e.mappings),m=o[n];;){if(","===u.peek())u.next();else{for(;";"===u.peek();)t+=1,i=0,u.next();if(!u.hasNext())break}if(i+=this._decodeVLQ(u),this._isSeparator(u.peek()))this._mappings.push([t,i]);else{var _=this._decodeVLQ(u);_&&(m=o[n+=_]),r+=this._decodeVLQ(u),s+=this._decodeVLQ(u),this._isSeparator(u.peek())||this._decodeVLQ(u),this._mappings.push([t,i,m,r,s])}}for(c=0;c<this._mappings.length;++c){var g=this._mappings[c];if(p=g[2]){this._reverseMappingsBySourceURL[p]||(this._reverseMappingsBySourceURL[p]=[]);var b=this._reverseMappingsBySourceURL[p],f=g[3];b[f]||(b[f]=[g[0],g[1]])}}},_isSeparator:function(e){return","===e||";"===e},_decodeVLQ:function(e){var t=0,i=0;do{var n=this._base64Map[e.next()];t+=(n&this._VLQ_BASE_MASK)<<i,i+=this._VLQ_BASE_SHIFT}while(n&this._VLQ_CONTINUATION_MASK);var r=1&t;return t>>=1,r?-t:t},_VLQ_BASE_SHIFT:5,_VLQ_BASE_MASK:31,_VLQ_CONTINUATION_MASK:32},WebInspector.SourceMap.StringCharIterator=function(e){this._string=e,this._position=0},WebInspector.SourceMap.StringCharIterator.prototype={next:function(){return this._string.charAt(this._position++)},peek:function(){return this._string.charAt(this._position)},hasNext:function(){return this._position<this._string.length}},WebInspector.SourceMapping=function(){},WebInspector.SourceMapping.prototype={rawLocationToUILocation:function(e){},uiLocationToRawLocation:function(e,t,i){},isIdentity:function(){}},WebInspector.ScriptSourceMapping=function(){},WebInspector.ScriptSourceMapping.prototype={addScript:function(e){}},WebInspector.LayerTreeModel=function(){WebInspector.Object.call(this),this._layersById={},this._lastPaintRectByLayerId={},this._backendNodeIdToNodeId={},InspectorBackend.registerLayerTreeDispatcher(new WebInspector.LayerTreeDispatcher(this)),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.DocumentUpdated,this._onDocumentUpdated,this)},WebInspector.LayerTreeModel.Events={LayerTreeChanged:"LayerTreeChanged",LayerPainted:"LayerPainted"},WebInspector.LayerTreeModel.prototype={disable:function(){this._enabled&&(this._enabled=!1,this._backendNodeIdToNodeId={},LayerTreeAgent.disable())},enable:function(e){this._enabled||(this._enabled=!0,LayerTreeAgent.enable())},setSnapshot:function(e){this.disable(),this._resolveNodesAndRepopulate(e.layers)},root:function(){return this._root},contentRoot:function(){return this._contentRoot},forEachLayer:function(e,t){return!(!t&&!(t=this.root()))&&(e(t)||t.children().some(this.forEachLayer.bind(this,e)))},layerById:function(e){return this._layersById[e]||null},_resolveNodesAndRepopulate:function(e){function t(){this._repopulate(e||[]),this.dispatchEventToListeners(WebInspector.LayerTreeModel.Events.LayerTreeChanged)}e?this._resolveBackendNodeIdsForLayers(e,t.bind(this)):t.call(this)},_repopulate:function(e){if(this._root=null,this._contentRoot=null,e){var t=this._layersById;this._layersById={};for(var i=0;i<e.length;++i){var n=e[i].layerId,r=t[n];r?r._reset(e[i]):r=new WebInspector.Layer(e[i]),this._layersById[n]=r,e[i].backendNodeId&&(r._setNodeId(this._backendNodeIdToNodeId[e[i].backendNodeId]),this._contentRoot||(this._contentRoot=r));var s=this._lastPaintRectByLayerId[n];s&&(r._lastPaintRect=s);var o=r.parentId();if(o){var a=this._layersById[o];a||console.assert(a,"missing parent "+o+" for layer "+n),a.addChild(r)}else this._root&&console.assert(!1,"Multiple root layers"),this._root=r}this._lastPaintRectByLayerId={}}},_layerTreeChanged:function(e){this._enabled&&this._resolveNodesAndRepopulate(e)},_resolveBackendNodeIdsForLayers:function(e,t){for(var i={},n=[],r=0;r<e.length;++r){var s=e[r].backendNodeId;!s||i[s]||this._backendNodeIdToNodeId[s]&&WebInspector.domModel.nodeForId(this._backendNodeIdToNodeId[s])||(i[s]=!0,n.push(s))}n.length?WebInspector.domModel.pushNodesByBackendIdsToFrontend(n,function(e){if(e)for(var i=0;i<n.length;++i){var r=e[i];r&&(this._backendNodeIdToNodeId[n[i]]=r)}t()}.bind(this)):t()},_layerPainted:function(e,t){var i=this._layersById[e];i?(i._didPaint(t),this.dispatchEventToListeners(WebInspector.LayerTreeModel.Events.LayerPainted,i)):this._lastPaintRectByLayerId[e]=t},_onDocumentUpdated:function(){this.disable(),this.enable()},__proto__:WebInspector.Object.prototype},WebInspector.Layer=function(e){this._scrollRects=[],this._reset(e)},WebInspector.Layer.prototype={id:function(){return this._layerPayload.layerId},parentId:function(){return this._layerPayload.parentLayerId},parent:function(){return this._parent},isRoot:function(){return!this.parentId()},children:function(){return this._children},addChild:function(e){e._parent&&console.assert(!1,"Child already has a parent"),this._children.push(e),e._parent=this},_setNodeId:function(e){this._nodeId=e},nodeId:function(){return this._nodeId},nodeIdForSelfOrAncestor:function(){for(var e=this;e;e=e._parent){var t=e._nodeId;if(t)return t}return null},offsetX:function(){return this._layerPayload.offsetX},offsetY:function(){return this._layerPayload.offsetY},width:function(){return this._layerPayload.width},height:function(){return this._layerPayload.height},transform:function(){return this._layerPayload.transform},anchorPoint:function(){return[this._layerPayload.anchorX||0,this._layerPayload.anchorY||0,this._layerPayload.anchorZ||0]},invisible:function(){return this._layerPayload.invisible},paintCount:function(){return this._paintCount||this._layerPayload.paintCount},lastPaintRect:function(){return this._lastPaintRect},scrollRects:function(){return this._scrollRects},requestCompositingReasons:function(e){var t=InspectorBackend.wrapClientCallback(e,"LayerTreeAgent.reasonsForCompositingLayer(): ",void 0,[]);LayerTreeAgent.compositingReasons(this.id(),t)},requestSnapshot:function(e){var t=InspectorBackend.wrapClientCallback(e,"LayerTreeAgent.makeSnapshot(): ",WebInspector.PaintProfilerSnapshot);LayerTreeAgent.makeSnapshot(this.id(),t)},_didPaint:function(e){this._lastPaintRect=e,this._paintCount=this.paintCount()+1,this._image=null},_reset:function(e){this._children=[],this._parent=null,this._paintCount=0,this._layerPayload=e,this._image=null,this._nodeId=0,this._scrollRects=this._layerPayload.scrollRects||[]}},WebInspector.LayerTreeSnapshot=function(e){this.layers=e},WebInspector.LayerTreeDispatcher=function(e){this._layerTreeModel=e},WebInspector.LayerTreeDispatcher.prototype={layerTreeDidChange:function(e){this._layerTreeModel._layerTreeChanged(e)},layerPainted:function(e,t){this._layerTreeModel._layerPainted(e,t)}},WebInspector.Script=function(e,t,i,n,r,s,o,a,c){this.scriptId=e,this.sourceURL=t,this.lineOffset=i,this.columnOffset=n,this.endLine=r,this.endColumn=s,this.isContentScript=o,this.sourceMapURL=a,this.hasSourceURL=c,this._locations=new GenericSet,this._sourceMappings=[]},WebInspector.Script.Events={ScriptEdited:"ScriptEdited"},WebInspector.Script.snippetSourceURLPrefix="snippets:///",WebInspector.Script._trimSourceURLComment=function(e){return e.replace(/\n[\040\t]*\/\/[@#]\ssourceURL=\s*(\S*?)\s*$/gm,"")},WebInspector.Script.prototype={contentURL:function(){return this.sourceURL},contentType:function(){return WebInspector.resourceTypes.Script},requestContent:function(e){this._source?e(this._source):this.scriptId?DebuggerAgent.getScriptSource(this.scriptId,function(t,i){this._source=WebInspector.Script._trimSourceURLComment(t?"":i),e(this._source)}.bind(this)):e("")},searchInContent:function(e,t,i,n){this.scriptId?DebuggerAgent.searchInContent(this.scriptId,e,t,i,function(e,t){e&&console.error(e);for(var i=[],r=0;r<t.length;++r){var s=new WebInspector.ContentProvider.SearchMatch(t[r].lineNumber,t[r].lineContent);i.push(s)}n(i||[])}):n([])},_appendSourceURLCommentIfNeeded:function(e){return this.hasSourceURL?e+"\n //# sourceURL="+this.sourceURL:e},editSource:function(e,t){e=WebInspector.Script._trimSourceURLComment(e),e=this._appendSourceURLCommentIfNeeded(e),this.scriptId?DebuggerAgent.setScriptSource(this.scriptId,e,void 0,function(i,n,r,s,o){i||(this._source=e);var a=!!s&&!0===s.stack_update_needs_step_in;t(i,n,r,o,a),i||this.dispatchEventToListeners(WebInspector.Script.Events.ScriptEdited,e)}.bind(this)):t("Script failed to parse")},isInlineScript:function(){var e=!this.lineOffset&&!this.columnOffset;return!!this.sourceURL&&!e},isAnonymousScript:function(){return!this.sourceURL},isSnippet:function(){return!!this.sourceURL&&this.sourceURL.startsWith(WebInspector.Script.snippetSourceURLPrefix)},rawLocationToUILocation:function(e,t){for(var i,n=new WebInspector.DebuggerModel.Location(this.scriptId,e,t||0),r=this._sourceMappings.length-1;!i&&r>=0;--r)i=this._sourceMappings[r].rawLocationToUILocation(n);return console.assert(i,"Script raw location can not be mapped to any ui location."),i},pushSourceMapping:function(e){this._sourceMappings.push(e),this.updateLocations()},popSourceMapping:function(){var e=this._sourceMappings.pop();return this.updateLocations(),e},updateLocations:function(){for(var e=this._locations.items(),t=0;t<e.length;++t)e[t].update()},createLiveLocation:function(e,t){console.assert(e.scriptId===this.scriptId);var i=new WebInspector.Script.Location(this,e,t);return this._locations.add(i),i.update(),i},__proto__:WebInspector.Object.prototype},WebInspector.Script.Location=function(e,t,i){WebInspector.LiveLocation.call(this,t,i),this._script=e},WebInspector.Script.Location.prototype={uiLocation:function(){var e=this.rawLocation();return this._script.rawLocationToUILocation(e.lineNumber,e.columnNumber)},dispose:function(){WebInspector.LiveLocation.prototype.dispose.call(this),this._script._locations.remove(this)},__proto__:WebInspector.LiveLocation.prototype},WebInspector.LinkifierFormatter=function(){},WebInspector.LinkifierFormatter.prototype={formatLiveAnchor:function(e,t){}},WebInspector.Linkifier=function(e){this._formatter=e||new WebInspector.Linkifier.DefaultFormatter(WebInspector.Linkifier.MaxLengthForDisplayedURLs),this._liveLocations=[]},WebInspector.Linkifier.setLinkHandler=function(e){WebInspector.Linkifier._linkHandler=e},WebInspector.Linkifier.handleLink=function(e,t){return!!WebInspector.Linkifier._linkHandler&&WebInspector.Linkifier._linkHandler.handleLink(e,t)},WebInspector.Linkifier.linkifyUsingRevealer=function(e,t,i,n,r,s){var o=document.createElement("a");return o.className=(s||"")+" webkit-html-resource-link",o.textContent=t.trimMiddle(WebInspector.Linkifier.MaxLengthForDisplayedURLs),o.title=r||t,i&&(o.href=i,o.lineNumber=n),o.addEventListener("click",function(e){e.consume(!0),i&&WebInspector.Linkifier.handleLink(i,n)||WebInspector.Revealer.reveal(this)}.bind(e),!1),o},WebInspector.Linkifier.prototype={linkifyLocation:function(e,t,i,n){var r=WebInspector.debuggerModel.createRawLocationByURL(e,t,i||0);return r?this.linkifyRawLocation(r,n):WebInspector.linkifyResourceAsNode(e,t,n)},linkifyRawLocation:function(e,t){var i=WebInspector.debuggerModel.scriptForId(e.scriptId);if(!i)return null;var n=this._createAnchor(t),r=i.createLiveLocation(e,this._updateAnchor.bind(this,n));return this._liveLocations.push(r),n},linkifyCSSLocation:function(e,t,i){var n=this._createAnchor(i),r=WebInspector.cssModel.createLiveLocation(e,t,this._updateAnchor.bind(this,n));return r?(this._liveLocations.push(r),n):null},_createAnchor:function(e){var t=document.createElement("a");return t.className=(e||"")+" webkit-html-resource-link",t.addEventListener("click",function(e){e.consume(!0),t.__uiLocation&&(WebInspector.Linkifier.handleLink(t.__uiLocation.url(),t.__uiLocation.lineNumber)||WebInspector.Revealer.reveal(t.__uiLocation))},!1),t},reset:function(){for(var e=0;e<this._liveLocations.length;++e)this._liveLocations[e].dispose();this._liveLocations=[]},_updateAnchor:function(e,t){e.__uiLocation=t,this._formatter.formatLiveAnchor(e,t)}},WebInspector.Linkifier.DefaultFormatter=function(e){this._maxLength=e},WebInspector.Linkifier.DefaultFormatter.prototype={formatLiveAnchor:function(e,t){var i=t.linkText();this._maxLength&&(i=i.trimMiddle(this._maxLength)),e.textContent=i;var n=t.uiSourceCode.originURL();"number"==typeof t.lineNumber&&(n+=":"+(t.lineNumber+1)),e.title=n}},WebInspector.Linkifier.DefaultCSSFormatter=function(){WebInspector.Linkifier.DefaultFormatter.call(this,WebInspector.Linkifier.DefaultCSSFormatter.MaxLengthForDisplayedURLs)},WebInspector.Linkifier.DefaultCSSFormatter.MaxLengthForDisplayedURLs=30,WebInspector.Linkifier.DefaultCSSFormatter.prototype={formatLiveAnchor:function(e,t){WebInspector.Linkifier.DefaultFormatter.prototype.formatLiveAnchor.call(this,e,t),e.classList.add("webkit-html-resource-link"),e.setAttribute("data-uncopyable",e.textContent),e.textContent=""},__proto__:WebInspector.Linkifier.DefaultFormatter.prototype},WebInspector.Linkifier.MaxLengthForDisplayedURLs=150,WebInspector.Linkifier.LinkHandler=function(){},WebInspector.Linkifier.LinkHandler.prototype={handleLink:function(e,t){}},WebInspector.Linkifier.liveLocationText=function(e,t,i){var n=WebInspector.debuggerModel.scriptForId(e);return n?n.rawLocationToUILocation(t,i).linkText():""},WebInspector.DebuggerScriptMapping=function(e,t,i){this._defaultMapping=new WebInspector.DefaultScriptMapping(e,t),this._resourceMapping=new WebInspector.ResourceScriptMapping(e,t),this._compilerMapping=new WebInspector.CompilerScriptMapping(e,t,i),this._snippetMapping=WebInspector.scriptSnippetModel.scriptMapping,WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.FailedToParseScriptSource,this._parsedScriptSource,this)},WebInspector.DebuggerScriptMapping.prototype={_parsedScriptSource:function(e){var t=e.data;this._defaultMapping.addScript(t),t.isSnippet()?this._snippetMapping.addScript(t):(this._resourceMapping.addScript(t),WebInspector.settings.jsSourceMapsEnabled.get()&&this._compilerMapping.addScript(t))}},WebInspector.PresentationConsoleMessageHelper=function(e){this._pendingConsoleMessages={},this._presentationConsoleMessages=[],this._workspace=e,WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._consoleMessageAdded,this),WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.FailedToParseScriptSource,this._parsedScriptSource,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.PresentationConsoleMessageHelper.prototype={_consoleMessageAdded:function(e){var t=e.data;if(t.url&&t.isErrorOrWarning()){var i=this._rawLocation(t);i?this._addConsoleMessageToScript(t,i):this._addPendingConsoleMessage(t)}},_rawLocation:function(e){var t=e.stackTrace?e.stackTrace[0].lineNumber-1:e.line-1,i=e.stackTrace&&e.stackTrace[0].columnNumber?e.stackTrace[0].columnNumber-1:0;return WebInspector.debuggerModel.createRawLocationByURL(e.url,t,i)},_addConsoleMessageToScript:function(e,t){this._presentationConsoleMessages.push(new WebInspector.PresentationConsoleMessage(e,t))},_addPendingConsoleMessage:function(e){e.url&&(this._pendingConsoleMessages[e.url]||(this._pendingConsoleMessages[e.url]=[]),this._pendingConsoleMessages[e.url].push(e))},_parsedScriptSource:function(e){var t=e.data,i=this._pendingConsoleMessages[t.sourceURL];if(i){for(var n=[],r=0;r<i.length;r++){var s=i[r],o=this._rawLocation(s);t.scriptId===o.scriptId?this._addConsoleMessageToScript(s,o):n.push(s)}n.length?this._pendingConsoleMessages[t.sourceURL]=n:delete this._pendingConsoleMessages[t.sourceURL]}},_consoleCleared:function(){this._pendingConsoleMessages={};for(var e=0;e<this._presentationConsoleMessages.length;++e)this._presentationConsoleMessages[e].dispose();this._presentationConsoleMessages=[];var t=this._workspace.uiSourceCodes();for(e=0;e<t.length;++e)t[e].consoleMessagesCleared()},_debuggerReset:function(){this._pendingConsoleMessages={},this._presentationConsoleMessages=[]}},WebInspector.PresentationConsoleMessage=function(e,t){this.originalMessage=e,this._liveLocation=WebInspector.debuggerModel.createLiveLocation(t,this._updateLocation.bind(this))},WebInspector.PresentationConsoleMessage.prototype={_updateLocation:function(e){this._uiLocation&&this._uiLocation.uiSourceCode.consoleMessageRemoved(this),this._uiLocation=e,this._uiLocation.uiSourceCode.consoleMessageAdded(this)},get lineNumber(){return this._uiLocation.lineNumber},dispose:function(){this._liveLocation.dispose()}},WebInspector.FileSystemProjectDelegate=function(e,t){this._fileSystem=e,this._normalizedFileSystemPath=this._fileSystem.path(),WebInspector.isWin()&&(this._normalizedFileSystemPath=this._normalizedFileSystemPath.replace(/\\/g,"/")),this._fileSystemURL="file://"+this._normalizedFileSystemPath+"/",this._workspace=t,this._searchCallbacks={},this._indexingCallbacks={},this._indexingProgresses={}},WebInspector.FileSystemProjectDelegate._scriptExtensions=["js","java","coffee","ts","dart"].keySet(),WebInspector.FileSystemProjectDelegate._styleSheetExtensions=["css","scss","sass","less"].keySet(),WebInspector.FileSystemProjectDelegate._documentExtensions=["htm","html","asp","aspx","phtml","jsp"].keySet(),WebInspector.FileSystemProjectDelegate.projectId=function(e){return"filesystem:"+e},WebInspector.FileSystemProjectDelegate._lastRequestId=0,WebInspector.FileSystemProjectDelegate.prototype={id:function(){return WebInspector.FileSystemProjectDelegate.projectId(this._fileSystem.path())},type:function(){return WebInspector.projectTypes.FileSystem},fileSystemPath:function(){return this._fileSystem.path()},displayName:function(){return this._normalizedFileSystemPath.substr(this._normalizedFileSystemPath.lastIndexOf("/")+1)},_filePathForPath:function(e){return"/"+e},requestFileContent:function(e,t){var i=this._filePathForPath(e);this._fileSystem.requestFileContent(i,t)},requestMetadata:function(e,t){var i=this._filePathForPath(e);this._fileSystem.requestMetadata(i,t)},canSetFileContent:function(){return!0},setFileContent:function(e,t,i){var n=this._filePathForPath(e);this._fileSystem.setFileContent(n,t,i.bind(this,""))},canRename:function(){return!0},rename:function(e,t,i){var n=this._filePathForPath(e);this._fileSystem.renameFile(n,t,function(e,t){if(e){var r=t;console.assert(r);var s=n.lastIndexOf("/"),o=n.substring(0,s);n=o+"/"+r;var a=this._workspace.urlForPath(this._fileSystem.path(),n),c=this._extensionForPath(r),l=this._fileSystemURL+n,d=this._contentTypeForExtension(c);i(!0,r,a,l,d)}else i(!1,t)}.bind(this))},searchInFileContent:function(e,t,i,n,r){var s=this._filePathForPath(e);this._fileSystem.requestFileContent(s,function(e){var s=[];null!==e&&(s=WebInspector.ContentProvider.performSearchInContent(e,t,i,n)),r(s)})},findFilesMatchingSearchRequest:function(e,t,i,n,r,s){var o=null,a=e.slice();a.length||a.push(""),r.setTotalWork(a.length),function e(){if(a.length){var c=a.shift();this._searchInPath(n?"":c,r,function(t){t=t.sort(),r.worked(1),o=o?o.intersectOrdered(t,String.naturalOrderComparator):t,e.call(this)}.bind(this))}else(function(e){for(var n=[],o=0;o<t.length;++o)n.push(new RegExp(t[o],i?"":"i"));e=e.filter(function(e){for(var t=0;t<n.length;++t)if(!e.match(n[t]))return!1;return!0}),r.done(),s(e)}).call(null,o)}.call(this)},_searchInPath:function(e,t,i){var n=++WebInspector.FileSystemProjectDelegate._lastRequestId;this._searchCallbacks[n]=function(e){e=e.map(function(e){var t=e.substr(this._fileSystem.path().length+1);return WebInspector.isWin()&&(t=t.replace(/\\/g,"/")),t}.bind(this)),t.worked(1),i(e)}.bind(this),InspectorFrontendHost.searchInPath(n,this._fileSystem.path(),e)},searchCompleted:function(e,t){if(this._searchCallbacks[e]){var i=this._searchCallbacks[e];delete this._searchCallbacks[e],i(t)}},indexContent:function(e,t){var i=++WebInspector.FileSystemProjectDelegate._lastRequestId;this._indexingCallbacks[i]=t,this._indexingProgresses[i]=e,e.setTotalWork(1),e.addEventListener(WebInspector.Progress.Events.Canceled,this._indexingCanceled.bind(this,i)),InspectorFrontendHost.indexPath(i,this._fileSystem.path())},_indexingCanceled:function(e){this._indexingProgresses[e]&&(InspectorFrontendHost.stopIndexing(e),delete this._indexingProgresses[e],delete this._indexingCallbacks[e])},indexingTotalWorkCalculated:function(e,t){this._indexingProgresses[e]&&this._indexingProgresses[e].setTotalWork(t)},indexingWorked:function(e,t){this._indexingProgresses[e]&&this._indexingProgresses[e].worked(t)},indexingDone:function(e){if(this._indexingProgresses[e]){var t=this._indexingProgresses[e],i=this._indexingCallbacks[e];delete this._indexingProgresses[e],delete this._indexingCallbacks[e],t.done(),i.call()}},_extensionForPath:function(e){var t=e.lastIndexOf(".");return-1===t?"":e.substring(t+1).toLowerCase()},_contentTypeForExtension:function(e){return WebInspector.FileSystemProjectDelegate._scriptExtensions[e]?WebInspector.resourceTypes.Script:WebInspector.FileSystemProjectDelegate._styleSheetExtensions[e]?WebInspector.resourceTypes.Stylesheet:WebInspector.FileSystemProjectDelegate._documentExtensions[e]?WebInspector.resourceTypes.Document:WebInspector.resourceTypes.Other},populate:function(){this._fileSystem.requestFilesRecursive("",this._addFile.bind(this))},refresh:function(e){this._fileSystem.requestFilesRecursive(e,this._addFile.bind(this))},excludeFolder:function(e){WebInspector.isolatedFileSystemManager.mapping().addExcludedFolder(this._fileSystem.path(),e)},createFile:function(e,t,i,n){var r;function s(){this._addFile(r),n(r)}this._fileSystem.createFile(e,t,function(e){e?(r=e,i?this._fileSystem.setFileContent(e,i,s.bind(this)):s.call(this)):n(null)}.bind(this))},deleteFile:function(e){this._fileSystem.deleteFile(e),this._removeFile(e)},remove:function(){WebInspector.isolatedFileSystemManager.removeFileSystem(this._fileSystem.path())},_addFile:function(e){e||console.assert(!1);var t=e.lastIndexOf("/"),i=e.substring(0,t),n=e.substring(t+1),r=this._workspace.urlForPath(this._fileSystem.path(),e),s=this._extensionForPath(n),o=this._contentTypeForExtension(s),a=new WebInspector.FileDescriptor(i,n,this._fileSystemURL+e,r,o,!0);this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileAdded,a)},_removeFile:function(e){this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileRemoved,e)},reset:function(){this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.Reset,null)},__proto__:WebInspector.Object.prototype},WebInspector.fileSystemProjectDelegate,WebInspector.FileSystemWorkspaceProvider=function(e,t){this._isolatedFileSystemManager=e,this._workspace=t,this._isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemAdded,this._fileSystemAdded,this),this._isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemRemoved,this._fileSystemRemoved,this),this._projectDelegates={}},WebInspector.FileSystemWorkspaceProvider.prototype={_fileSystemAdded:function(e){var t=e.data,i=(WebInspector.FileSystemProjectDelegate.projectId(t.path()),new WebInspector.FileSystemProjectDelegate(t,this._workspace));this._projectDelegates[i.id()]=i,console.assert(!this._workspace.project(i.id())),this._workspace.addProject(i),i.populate()},_fileSystemRemoved:function(e){var t=e.data,i=WebInspector.FileSystemProjectDelegate.projectId(t.path());this._workspace.removeProject(i),delete this._projectDelegates[i]},fileSystemPath:function(e){return this._projectDelegates[e.project().id()].fileSystemPath()},delegate:function(e){var t=WebInspector.FileSystemProjectDelegate.projectId(e);return this._projectDelegates[t]}},WebInspector.fileSystemWorkspaceProvider,WebInspector.FileSystemMapping=function(){WebInspector.Object.call(this),this._fileSystemMappingSetting=WebInspector.settings.createSetting("fileSystemMapping",{}),this._excludedFoldersSetting=WebInspector.settings.createSetting("workspaceExcludedFolders",{});var e=["/\\.git/","/\\.sass-cache/","/\\.hg/","/\\.idea/","/\\.svn/","/\\.cache/","/\\.project/"],t=(e=WebInspector.isWin()?e.concat(["/Thumbs.db$","/ehthumbs.db$","/Desktop.ini$","/\\$RECYCLE.BIN/"]):WebInspector.isMac()?e.concat(["/\\.DS_Store$","/\\.Trashes$","/\\.Spotlight-V100$","/\\.AppleDouble$","/\\.LSOverride$","/Icon$","/\\._.*$"]):e.concat(["/.*~$"])).join("|");WebInspector.settings.workspaceFolderExcludePattern=WebInspector.settings.createRegExpSetting("workspaceFolderExcludePattern",t,WebInspector.isWin()?"i":""),this._fileSystemMappings={},this._excludedFolders={},this._loadFromSettings()},WebInspector.FileSystemMapping.Events={FileMappingAdded:"FileMappingAdded",FileMappingRemoved:"FileMappingRemoved",ExcludedFolderAdded:"ExcludedFolderAdded",ExcludedFolderRemoved:"ExcludedFolderRemoved"},WebInspector.FileSystemMapping.prototype={_loadFromSettings:function(){var e=this._fileSystemMappingSetting.get();for(var t in this._fileSystemMappings={},e){var i=e[t];this._fileSystemMappings[t]=[];for(var n=this._fileSystemMappings[t],r=0;r<i.length;++r){var s=i[r],o=new WebInspector.FileSystemMapping.Entry(s.fileSystemPath,s.urlPrefix,s.pathPrefix);n.push(o)}}var a=this._excludedFoldersSetting.get();for(var t in this._excludedFolders={},a){var c=a[t];this._excludedFolders[t]=[];var l=this._excludedFolders[t];for(r=0;r<c.length;++r)s=c[r],o=new WebInspector.FileSystemMapping.ExcludedFolderEntry(s.fileSystemPath,s.path),l.push(o)}this._rebuildIndexes()},_saveToSettings:function(){var e=this._fileSystemMappings;this._fileSystemMappingSetting.set(e);var t=this._excludedFolders;this._excludedFoldersSetting.set(t),this._rebuildIndexes()},_rebuildIndexes:function(){for(var e in this._mappingForURLPrefix={},this._urlPrefixes=[],this._fileSystemMappings)for(var t=this._fileSystemMappings[e],i=0;i<t.length;++i){var n=t[i];this._mappingForURLPrefix[n.urlPrefix]=n,this._urlPrefixes.push(n.urlPrefix)}this._urlPrefixes.sort()},addFileSystem:function(e){this._fileSystemMappings[e]||(this._fileSystemMappings[e]=[],this._saveToSettings())},removeFileSystem:function(e){this._fileSystemMappings[e]&&(delete this._fileSystemMappings[e],delete this._excludedFolders[e],this._saveToSettings())},addFileMapping:function(e,t,i){var n=new WebInspector.FileSystemMapping.Entry(e,t,i);this._fileSystemMappings[e].push(n),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.FileMappingAdded,n)},removeFileMapping:function(e,t,i){var n=this._mappingEntryForPathPrefix(e,i);n&&(this._fileSystemMappings[e].remove(n),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.FileMappingRemoved,n))},addExcludedFolder:function(e,t){this._excludedFolders[e]||(this._excludedFolders[e]=[]);var i=new WebInspector.FileSystemMapping.ExcludedFolderEntry(e,t);this._excludedFolders[e].push(i),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.ExcludedFolderAdded,i)},removeExcludedFolder:function(e,t){var i=this._excludedFolderEntryForPath(e,t);i&&(this._excludedFolders[e].remove(i),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.ExcludedFolderRemoved,i))},fileSystemPaths:function(){return Object.keys(this._fileSystemMappings)},_mappingEntryForURL:function(e){for(var t=this._urlPrefixes.length-1;t>=0;--t){var i=this._urlPrefixes[t];if(e.startsWith(i))return this._mappingForURLPrefix[i]}return null},_excludedFolderEntryForPath:function(e,t){var i=this._excludedFolders[e];if(!i)return null;for(var n=0;n<i.length;++n)if(i[n].path===t)return i[n];return null},_mappingEntryForPath:function(e,t){var i=this._fileSystemMappings[e];if(!i)return null;for(var n=null,r=0;r<i.length;++r){var s=i[r].pathPrefix;n&&n.pathPrefix.length>s.length||t.startsWith(s.substr(1))&&(n=i[r])}return n},_mappingEntryForPathPrefix:function(e,t){for(var i=this._fileSystemMappings[e],n=0;n<i.length;++n)if(t===i[n].pathPrefix)return i[n];return null},isFileExcluded:function(e,t){for(var i=this._excludedFolders[e]||[],n=0;n<i.length;++n)if(i[n].path===t)return!0;var r=WebInspector.settings.workspaceFolderExcludePattern.asRegExp();return r&&r.test(t)},excludedFolders:function(e){var t=this._excludedFolders[e];return t?t.slice():[]},mappingEntries:function(e){return this._fileSystemMappings[e].slice()},hasMappingForURL:function(e){return!!this._mappingEntryForURL(e)},fileForURL:function(e){var t=this._mappingEntryForURL(e);if(!t)return null;var i={};return i.fileSystemPath=t.fileSystemPath,i.filePath=t.pathPrefix.substr(1)+e.substr(t.urlPrefix.length),i},urlForPath:function(e,t){var i=this._mappingEntryForPath(e,t);return i?i.urlPrefix+t.substring(i.pathPrefix.length-1):""},removeMappingForURL:function(e){var t=this._mappingEntryForURL(e);t&&(this._fileSystemMappings[t.fileSystemPath].remove(t),this._saveToSettings())},addMappingForResource:function(e,t,i){for(var n=0,r="/"+i,s=0;s<r.length;++s){var o=r[r.length-1-s];if(o!==e[e.length-1-s])break;"/"===o&&(n=s)}var a=r.substr(0,r.length-n),c=e.substr(0,e.length-n);this.addFileMapping(t,c,a)},__proto__:WebInspector.Object.prototype},WebInspector.FileSystemMapping.Entry=function(e,t,i){this.fileSystemPath=e,this.urlPrefix=t,this.pathPrefix=i},WebInspector.FileSystemMapping.ExcludedFolderEntry=function(e,t){this.fileSystemPath=e,this.path=t},WebInspector.IsolatedFileSystem=function(e,t,i,n){this._manager=e,this._path=t,this._name=i,this._rootURL=n},WebInspector.IsolatedFileSystem.errorMessage=function(e){var t;switch(e.code){case FileError.QUOTA_EXCEEDED_ERR:t="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:t="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:t="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:t="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:t="INVALID_STATE_ERR";break;default:t=WebInspector.UIString("Unknown Error")}return WebInspector.UIString("File system error: %s",t)},WebInspector.IsolatedFileSystem.prototype={path:function(){return this._path},name:function(){return this._name},rootURL:function(){return this._rootURL},_requestFileSystem:function(e){this._manager.requestDOMFileSystem(this._path,e)},requestFilesRecursive:function(e,t){var i;this._requestFileSystem(function(n){i=n,console.assert(i),this._requestEntries(i,e,function e(n){for(var r=0;r<n.length;++r){var s=n[r];if(s.isDirectory){if(this._manager.mapping().isFileExcluded(this._path,s.fullPath+"/"))continue;this._requestEntries(i,s.fullPath,e.bind(this))}else{if(this._manager.mapping().isFileExcluded(this._path,s.fullPath))continue;t(s.fullPath.substr(1))}}}.bind(this))}.bind(this))},createFile:function(e,t,i){this._requestFileSystem(function(r){var s=r;console.assert(s),s.root.getDirectory(e,null,function(r){var s=t;n>1&&(s+=n),++n,r.getFile(s,{create:!0,exclusive:!0},function(e){i(e.fullPath.substr(1))},function(o){if(o.code!==FileError.INVALID_MODIFICATION_ERR){var a=WebInspector.IsolatedFileSystem.errorMessage(o);console.error(a+" when testing if file exists '"+this._path+"/"+e+"/"+s+"'"),i(null)}else(function r(s){var o=t;n>1&&(o+=n),++n,s.getFile(o,{create:!0,exclusive:!0},function(e){i(e.fullPath.substr(1))},function(t){if(t.code!==FileError.INVALID_MODIFICATION_ERR){var n=WebInspector.IsolatedFileSystem.errorMessage(t);console.error(n+" when testing if file exists '"+this._path+"/"+e+"/"+o+"'"),i(null)}else r.call(this,s)}.bind(this))}).call(this,r)}.bind(this))}.bind(this),function(t){var n=WebInspector.IsolatedFileSystem.errorMessage(t),r=this._path+"/"+e;console.error(n+" when getting content for file '"+r+"'"),i(null)}.bind(this))}.bind(this));var n=1;t||(t="NewFile")},deleteFile:function(e){function t(){}function i(t){var i=WebInspector.IsolatedFileSystem.errorMessage(t);console.error(i+" when deleting file '"+this._path+"/"+e+"'")}this._requestFileSystem(function(n){var r=n;console.assert(r),r.root.getFile(e,null,function(e){e.remove(t,i.bind(this))}.bind(this),i.bind(this))}.bind(this))},requestMetadata:function(e,t){function i(e){e.getMetadata(n,r)}function n(e){t(e.modificationTime,e.size)}function r(e){t(null,null)}this._requestFileSystem(function(t){var n=t;console.assert(n),n.root.getFile(e,null,i,r)})},requestFileContent:function(e,t){function i(e){var t=new FileReader;t.onloadend=n,t.readAsText(e)}function n(){t(this.result)}function r(i){if(i.code!==FileError.NOT_FOUND_ERR){var n=WebInspector.IsolatedFileSystem.errorMessage(i);console.error(n+" when getting content for file '"+this._path+"/"+e+"'"),t(null)}else t(null)}this._requestFileSystem(function(t){var n=t;console.assert(n),n.root.getFile(e,null,function(e){e.file(i,r.bind(this))}.bind(this),r.bind(this))}.bind(this))},setFileContent:function(e,t,i){function n(){i()}function r(t){var n=WebInspector.IsolatedFileSystem.errorMessage(t);console.error(n+" when setting content for file '"+this._path+"/"+e+"'"),i()}this._requestFileSystem(function(i){var s=i;console.assert(s),s.root.getFile(e,{create:!0},function(e){e.createWriter(function(e){e.onerror=r.bind(this),e.onwriteend=function(){e.onwriteend=n;var i=new Blob([t],{type:"text/plain"});e.write(i)},e.truncate(0)}.bind(this),r.bind(this))}.bind(this),r.bind(this))}.bind(this))},renameFile:function(e,t,i){var n,r;function s(e){i(!1)}function o(e){i(!0,e.name)}function a(n){var r=WebInspector.IsolatedFileSystem.errorMessage(n);console.error(r+" when renaming file '"+this._path+"/"+e+"' to '"+t+"'"),i(!1)}(t=t?t.trim():t)&&-1===t.indexOf("/")?this._requestFileSystem(function(c){var l=c;console.assert(l),l.root.getFile(e,null,function(e){e.name!==t?(n=e).getParent(function(e){(r=e).getFile(t,null,s,function(e){e.code===FileError.NOT_FOUND_ERR?n.moveTo(r,t,o,a.bind(this)):i(!1)}.bind(this))}.bind(this),a.bind(this)):i(!1)}.bind(this),a.bind(this))}.bind(this)):i(!1)},_readDirectory:function(e,t){var i=e.createReader(),n=[];function r(i){var n=WebInspector.IsolatedFileSystem.errorMessage(i);console.error(n+" when reading directory '"+e.fullPath+"'"),t([])}i.readEntries(function e(s){var o;s.length?(n=n.concat((o=s,Array.prototype.slice.call(o||[],0))),i.readEntries(e,r)):t(n.sort())},r)},_requestEntries:function(e,t,i){e.root.getDirectory(t,null,function(e){this._readDirectory(e,i)}.bind(this),function(e){var n=WebInspector.IsolatedFileSystem.errorMessage(e);console.error(n+" when requesting entry '"+t+"'"),i([])})}},WebInspector.IsolatedFileSystemManager=function(){this._fileSystems={},this._pendingFileSystemRequests={},this._fileSystemMapping=new WebInspector.FileSystemMapping,this._requestFileSystems()},WebInspector.IsolatedFileSystemManager.FileSystem,WebInspector.IsolatedFileSystemManager.Events={FileSystemAdded:"FileSystemAdded",FileSystemRemoved:"FileSystemRemoved"},WebInspector.IsolatedFileSystemManager.prototype={mapping:function(){return this._fileSystemMapping},_requestFileSystems:function(){console.assert(!this._loaded),InspectorFrontendHost.requestFileSystems()},addFileSystem:function(){InspectorFrontendHost.addFileSystem()},removeFileSystem:function(e){InspectorFrontendHost.removeFileSystem(e)},_fileSystemsLoaded:function(e){for(var t={},i=0;i<e.length;++i)this._innerAddFileSystem(e[i]),t[e[i].fileSystemPath]=!0;var n=this._fileSystemMapping.fileSystemPaths();for(i=0;i<n.length;++i){var r=n[i];t[r]||this._fileSystemRemoved(r)}this._loaded=!0,this._processPendingFileSystemRequests()},_innerAddFileSystem:function(e){var t=e.fileSystemPath;this._fileSystemMapping.addFileSystem(t);var i=new WebInspector.IsolatedFileSystem(this,t,e.fileSystemName,e.rootURL);this._fileSystems[t]=i,this.dispatchEventToListeners(WebInspector.IsolatedFileSystemManager.Events.FileSystemAdded,i)},_processPendingFileSystemRequests:function(){for(var e in this._pendingFileSystemRequests)for(var t=this._pendingFileSystemRequests[e],i=0;i<t.length;++i)t[i](this._isolatedFileSystem(e));delete this._pendingFileSystemRequests},_fileSystemAdded:function(e,t){e?WebInspector.console.showErrorMessage(e):t&&(this._innerAddFileSystem(t),t.fileSystemPath)},_fileSystemRemoved:function(e){this._fileSystemMapping.removeFileSystem(e);var t=this._fileSystems[e];delete this._fileSystems[e],t&&this.dispatchEventToListeners(WebInspector.IsolatedFileSystemManager.Events.FileSystemRemoved,t)},_isolatedFileSystem:function(e){var t=this._fileSystems[e];return t&&InspectorFrontendHost.isolatedFileSystem?InspectorFrontendHost.isolatedFileSystem(t.name(),t.rootURL()):null},requestDOMFileSystem:function(e,t){if(!this._loaded)return this._pendingFileSystemRequests[e]||(this._pendingFileSystemRequests[e]=this._pendingFileSystemRequests[e]||[]),void this._pendingFileSystemRequests[e].push(t);t(this._isolatedFileSystem(e))},__proto__:WebInspector.Object.prototype},WebInspector.isolatedFileSystemManager,WebInspector.IsolatedFileSystemDispatcher=function(e){this._IsolatedFileSystemManager=e},WebInspector.IsolatedFileSystemDispatcher.prototype={fileSystemsLoaded:function(e){this._IsolatedFileSystemManager._fileSystemsLoaded(e)},fileSystemRemoved:function(e){this._IsolatedFileSystemManager._fileSystemRemoved(e)},fileSystemAdded:function(e,t){this._IsolatedFileSystemManager._fileSystemAdded(e,t)}},WebInspector.isolatedFileSystemDispatcher,WebInspector.FileDescriptor=function(e,t,i,n,r,s,o){this.parentPath=e,this.name=t,this.originURL=i,this.url=n,this.contentType=r,this.isEditable=s,this.isContentScript=o||!1},WebInspector.ProjectDelegate=function(){},WebInspector.ProjectDelegate.Events={FileAdded:"FileAdded",FileRemoved:"FileRemoved",Reset:"Reset"},WebInspector.ProjectDelegate.prototype={id:function(){},type:function(){},displayName:function(){},requestMetadata:function(e,t){},requestFileContent:function(e,t){},canSetFileContent:function(){},setFileContent:function(e,t,i){},canRename:function(){},rename:function(e,t,i){},refresh:function(e){},excludeFolder:function(e){},createFile:function(e,t,i,n){},deleteFile:function(e){},remove:function(){},searchInFileContent:function(e,t,i,n,r){},findFilesMatchingSearchRequest:function(e,t,i,n,r,s){},indexContent:function(e,t){}},WebInspector.Project=function(e,t){this._uiSourceCodesMap={},this._uiSourceCodesList=[],this._workspace=e,this._projectDelegate=t,this._displayName=this._projectDelegate.displayName(),this._projectDelegate.addEventListener(WebInspector.ProjectDelegate.Events.FileAdded,this._fileAdded,this),this._projectDelegate.addEventListener(WebInspector.ProjectDelegate.Events.FileRemoved,this._fileRemoved,this),this._projectDelegate.addEventListener(WebInspector.ProjectDelegate.Events.Reset,this._reset,this)},WebInspector.Project.prototype={id:function(){return this._projectDelegate.id()},type:function(){return this._projectDelegate.type()},displayName:function(){return this._displayName},isServiceProject:function(){return this._projectDelegate.type()===WebInspector.projectTypes.Debugger||this._projectDelegate.type()===WebInspector.projectTypes.Formatter||this._projectDelegate.type()===WebInspector.projectTypes.LiveEdit},_fileAdded:function(e){var t=e.data,i=t.parentPath?t.parentPath+"/"+t.name:t.name,n=this.uiSourceCode(i);n||((n=new WebInspector.UISourceCode(this,t.parentPath,t.name,t.originURL,t.url,t.contentType,t.isEditable)).isContentScript=t.isContentScript,this._uiSourceCodesMap[i]={uiSourceCode:n,index:this._uiSourceCodesList.length},this._uiSourceCodesList.push(n),this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.UISourceCodeAdded,n))},_fileRemoved:function(e){var t=e.data;this._removeFile(t)},_removeFile:function(e){if(this.uiSourceCode(e)){var t=this._uiSourceCodesMap[e],i=this._uiSourceCodesList[this._uiSourceCodesList.length-1];this._uiSourceCodesList[t.index]=i,this._uiSourceCodesMap[i.path()].index=t.index,this._uiSourceCodesList.splice(this._uiSourceCodesList.length-1,1),delete this._uiSourceCodesMap[e],this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.UISourceCodeRemoved,t.uiSourceCode)}},_reset:function(){this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.ProjectWillReset,this),this._uiSourceCodesMap={},this._uiSourceCodesList=[]},workspace:function(){return this._workspace},uiSourceCode:function(e){var t=this._uiSourceCodesMap[e];return t?t.uiSourceCode:null},uiSourceCodeForOriginURL:function(e){for(var t=0;t<this._uiSourceCodesList.length;++t){var i=this._uiSourceCodesList[t];if(i.originURL()===e)return i}return null},uiSourceCodes:function(){return this._uiSourceCodesList},requestMetadata:function(e,t){this._projectDelegate.requestMetadata(e.path(),t)},requestFileContent:function(e,t){this._projectDelegate.requestFileContent(e.path(),t)},canSetFileContent:function(){return this._projectDelegate.canSetFileContent()},setFileContent:function(e,t,i){this._projectDelegate.setFileContent(e.path(),t,function(n){this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.UISourceCodeContentCommitted,{uiSourceCode:e,content:t}),i(n)}.bind(this))},canRename:function(){return this._projectDelegate.canRename()},rename:function(e,t,i){t!==e.name()?this._projectDelegate.rename(e.path(),t,function(t,n,r,s,o){if(t&&n){var a=e.path(),c=e.parentPath()?e.parentPath()+"/"+n:n;this._uiSourceCodesMap[c]=this._uiSourceCodesMap[a],delete this._uiSourceCodesMap[a],i(!0,n,r,s,o)}else i(!1)}.bind(this)):i(!0,e.name(),e.url,e.originURL(),e.contentType())},refresh:function(e){this._projectDelegate.refresh(e)},excludeFolder:function(e){this._projectDelegate.excludeFolder(e);for(var t=this._uiSourceCodesList.slice(),i=0;i<t.length;++i){var n=t[i];n.path().startsWith(e.substr(1))&&this._removeFile(n.path())}},createFile:function(e,t,i,n){this._projectDelegate.createFile(e,t,i,function(e){n(e)})},deleteFile:function(e){this._projectDelegate.deleteFile(e)},remove:function(){this._projectDelegate.remove()},searchInFileContent:function(e,t,i,n,r){this._projectDelegate.searchInFileContent(e.path(),t,i,n,r)},findFilesMatchingSearchRequest:function(e,t,i,n,r,s){this._projectDelegate.findFilesMatchingSearchRequest(e,t,i,n,r,s)},indexContent:function(e,t){this._projectDelegate.indexContent(e,t)},dispose:function(){this._projectDelegate.reset()}},WebInspector.projectTypes={Debugger:"debugger",Formatter:"formatter",LiveEdit:"liveedit",Network:"network",Snippets:"snippets",FileSystem:"filesystem"},WebInspector.Workspace=function(e){this._fileSystemMapping=e,this._projects={},this._hasResourceContentTrackingExtensions=!1},WebInspector.Workspace.Events={UISourceCodeAdded:"UISourceCodeAdded",UISourceCodeRemoved:"UISourceCodeRemoved",UISourceCodeContentCommitted:"UISourceCodeContentCommitted",ProjectWillReset:"ProjectWillReset"},WebInspector.Workspace.prototype={unsavedSourceCodes:function(){return this.uiSourceCodes().filter(function(e){return e.isDirty()})},uiSourceCode:function(e,t){var i=this._projects[e];return i?i.uiSourceCode(t):null},uiSourceCodeForOriginURL:function(e){for(var t=this.projectsForType(WebInspector.projectTypes.Network),i=0;i<t.length;++i){var n=t[i].uiSourceCodeForOriginURL(e);if(n)return n}return null},uiSourceCodesForProjectType:function(e){var t=[];for(var i in this._projects){var n=this._projects[i];n.type()===e&&(t=t.concat(n.uiSourceCodes()))}return t},addProject:function(e){var t=e.id();return this._projects[t]=new WebInspector.Project(this,e),this._projects[t]},removeProject:function(e){var t=this._projects[e];t&&(t.dispose(),delete this._projects[e])},project:function(e){return this._projects[e]},projects:function(){return Object.values(this._projects)},projectsForType:function(e){return this.projects().filter(function(t){return t.type()===e})},uiSourceCodes:function(){var e=[];for(var t in this._projects){var i=this._projects[t];e=e.concat(i.uiSourceCodes())}return e},hasMappingForURL:function(e){return this._fileSystemMapping.hasMappingForURL(e)},_networkUISourceCodeForURL:function(e){var t=WebInspector.ParsedURL.splitURL(e),i=WebInspector.SimpleProjectDelegate.projectId(t[0],WebInspector.projectTypes.Network),n=this.project(i);return n?n.uiSourceCode(t.slice(1).join("/")):null},uiSourceCodeForURL:function(e){var t=this._fileSystemMapping.fileForURL(e);if(!t)return this._networkUISourceCodeForURL(e);var i=WebInspector.FileSystemProjectDelegate.projectId(t.fileSystemPath),n=this.project(i);return n?n.uiSourceCode(t.filePath):null},urlForPath:function(e,t){return this._fileSystemMapping.urlForPath(e,t)},addMapping:function(e,t,i){var n=e.url,r=t.path(),s=i.fileSystemPath(t);this._fileSystemMapping.addMappingForResource(n,s,r)},removeMapping:function(e){this._fileSystemMapping.removeMappingForURL(e.url)},setHasResourceContentTrackingExtensions:function(e){this._hasResourceContentTrackingExtensions=e},hasResourceContentTrackingExtensions:function(){return this._hasResourceContentTrackingExtensions},__proto__:WebInspector.Object.prototype},WebInspector.workspace,WebInspector.WorkspaceController=function(e){this._workspace=e,WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._inspectedURLChanged,this),window.addEventListener("focus",this._windowFocused.bind(this),!1)},WebInspector.WorkspaceController.prototype={_inspectedURLChanged:function(e){WebInspector.Revision.filterOutStaleRevisions()},_windowFocused:function(e){this._fileSystemRefreshTimeout||(this._fileSystemRefreshTimeout=setTimeout(function(){delete this._fileSystemRefreshTimeout;for(var e=this._workspace.projects(),t=0;t<e.length;++t)e[t].refresh("/")}.bind(this),1e3))}},WebInspector.ContentProviderBasedProjectDelegate=function(e){this._type=e,this._contentProviders={},this._isContentScriptMap={}},WebInspector.ContentProviderBasedProjectDelegate.prototype={id:function(){return""},type:function(){return this._type},displayName:function(){return""},requestMetadata:function(e,t){t(null,null)},requestFileContent:function(e,t){this._contentProviders[e].requestContent(t)},canSetFileContent:function(){return!1},setFileContent:function(e,t,i){i(null)},canRename:function(){return!1},rename:function(e,t,i){this.performRename(e,t,function(t,n){t&&this._updateName(e,n),i(t,n)}.bind(this))},refresh:function(e){},excludeFolder:function(e){},createFile:function(e,t,i,n){},deleteFile:function(e){},remove:function(){},performRename:function(e,t,i){i(!1)},_updateName:function(e,t){var i=e,n=e.split("/");n[n.length-1]=t;var r=n.join("/");this._contentProviders[r]=this._contentProviders[i],delete this._contentProviders[i]},searchInFileContent:function(e,t,i,n,r){this._contentProviders[e].searchInContent(t,i,n,r)},findFilesMatchingSearchRequest:function(e,t,i,n,r,s){var o=[],a=Object.keys(this._contentProviders);if(0!==a.length){WebInspector.settings.searchInContentScripts.get()||(a=a.filter(function(e){return!this._isContentScriptMap[e]}.bind(this)));for(var c=[],l=0;l<t.length;++l)c.push(new RegExp(t[l],i?"":"i"));a=a.filter(function(e){for(var t=0;t<c.length;++t)if(!e.match(c[t]))return!1;return!0});var d=new CallbackBarrier;for(r.setTotalWork(a.length),l=0;l<a.length;++l)h.call(this,a[l],d.createCallback(p.bind(null,a[l])));d.callWhenDone(u)}else setTimeout(u,0);function h(t,r){var s=e.slice();(function e(){if(s.length){var o=s.shift();this._contentProviders[t].searchInContent(o,i,n,function(t){t.length?e.call(this):r(!1)}.bind(this))}else r(!0)}).call(this)}function p(e,t){t&&o.push(e),r.worked(1)}function u(){s(o),r.done()}},indexContent:function(e,t){setTimeout(function(){e.done(),t()},0)},addContentProvider:function(e,t,i,n,r,s){var o=e?e+"/"+t:t;if(this._contentProviders[o])return o;var a=new WebInspector.FileDescriptor(e,t,i,i,n.contentType(),r,s);return this._contentProviders[o]=n,this._isContentScriptMap[o]=s||!1,this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileAdded,a),o},removeFile:function(e){delete this._contentProviders[e],delete this._isContentScriptMap[e],this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileRemoved,e)},contentProviders:function(){return this._contentProviders},reset:function(){this._contentProviders={},this._isContentScriptMap={},this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.Reset,null)},__proto__:WebInspector.Object.prototype},WebInspector.SimpleProjectDelegate=function(e,t){WebInspector.ContentProviderBasedProjectDelegate.call(this,t),this._name=e,this._lastUniqueSuffix=0},WebInspector.SimpleProjectDelegate.projectId=function(e,t){return(t!==WebInspector.projectTypes.Network?t+":":"")+e},WebInspector.SimpleProjectDelegate.prototype={id:function(){return WebInspector.SimpleProjectDelegate.projectId(this._name,this.type())},displayName:function(){if(void 0!==this._displayName)return this._displayName;if(!this._name)return this._displayName=this.type()!==WebInspector.projectTypes.Snippets?WebInspector.UIString("(no domain)"):"",this._displayName;var e=new WebInspector.ParsedURL(this._name);return e.isValid?(this._displayName=e.host+(e.port?":"+e.port:""),this._displayName||(this._displayName=this._name)):this._displayName=this._name,this._displayName},addFile:function(e,t,i,n,r,s,o){return i&&(t=this._ensureUniqueName(e,t)),this.addContentProvider(e,t,n,r,s,o)},_ensureUniqueName:function(e,t){for(var i=e?e+"/"+t:t,n=i,r="",s=this.contentProviders();s[n];)n=i+(r=" ("+ ++this._lastUniqueSuffix+")");return t+r},__proto__:WebInspector.ContentProviderBasedProjectDelegate.prototype},WebInspector.SimpleWorkspaceProvider=function(e,t){this._workspace=e,this._type=t,this._simpleProjectDelegates={}},WebInspector.SimpleWorkspaceProvider.prototype={_projectDelegate:function(e){if(this._simpleProjectDelegates[e])return this._simpleProjectDelegates[e];var t=new WebInspector.SimpleProjectDelegate(e,this._type);return this._simpleProjectDelegates[e]=t,this._workspace.addProject(t),t},addFileForURL:function(e,t,i,n){return this._innerAddFileForURL(e,t,i,!1,n)},addUniqueFileForURL:function(e,t,i,n){return this._innerAddFileForURL(e,t,i,!0,n)},_innerAddFileForURL:function(e,t,i,n,r){var s=WebInspector.ParsedURL.splitURL(e),o=s[0],a=s.slice(1,s.length-1).join("/"),c=s[s.length-1],l=this._projectDelegate(o),d=l.addFile(a,c,n,e,t,i,r),h=this._workspace.uiSourceCode(l.id(),d);return console.assert(h),h},reset:function(){for(var e in this._simpleProjectDelegates)this._simpleProjectDelegates[e].reset();this._simpleProjectDelegates={}},__proto__:WebInspector.Object.prototype},WebInspector.BreakpointManager=function(e,t,i){this._storage=new WebInspector.BreakpointManager.Storage(this,e),this._debuggerModel=t,this._workspace=i,this._breakpointForDebuggerId={},this._breakpointsForUISourceCode=new GenericMap,this._breakpointsForPrimaryUISourceCode=new GenericMap,this._sourceFilesWithRestoredBreakpoints={},this._debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.BreakpointResolved,this._breakpointResolved,this),this._workspace.addEventListener(WebInspector.Workspace.Events.ProjectWillReset,this._projectWillReset,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAdded,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeRemoved,this._uiSourceCodeRemoved,this)},WebInspector.BreakpointManager.Events={BreakpointAdded:"breakpoint-added",BreakpointRemoved:"breakpoint-removed"},WebInspector.BreakpointManager._sourceFileId=function(e){return e.url?e.uri():""},WebInspector.BreakpointManager._breakpointStorageId=function(e,t,i){return e?e+":"+t+":"+i:""},WebInspector.BreakpointManager.prototype={_provisionalBreakpointsForSourceFileId:function(e){var t=new StringMap;for(var i in this._breakpointForDebuggerId){var n=this._breakpointForDebuggerId[i];n._sourceFileId===e&&t.put(n._breakpointStorageId(),n)}return t},removeProvisionalBreakpointsForTest:function(){for(var e in this._breakpointForDebuggerId)this._debuggerModel.removeBreakpoint(e)},_restoreBreakpoints:function(e){var t=WebInspector.BreakpointManager._sourceFileId(e);if(t&&!this._sourceFilesWithRestoredBreakpoints[t]){this._sourceFilesWithRestoredBreakpoints[t]=!0,this._storage.mute();for(var i=this._storage.breakpointItems(e),n=this._provisionalBreakpointsForSourceFileId(t),r=0;r<i.length;++r){var s=i[r],o=WebInspector.BreakpointManager._breakpointStorageId(s.sourceFileId,s.lineNumber,s.columnNumber),a=n.get(o);a?(this._breakpointsForPrimaryUISourceCode.get(e)||this._breakpointsForPrimaryUISourceCode.put(e,[]),this._breakpointsForPrimaryUISourceCode.get(e).push(a),a._updateInDebugger()):this._innerSetBreakpoint(e,s.lineNumber,s.columnNumber,s.condition,s.enabled)}this._storage.unmute()}},_uiSourceCodeAdded:function(e){var t=e.data;this._restoreBreakpoints(t),t.contentType()!==WebInspector.resourceTypes.Script&&t.contentType()!==WebInspector.resourceTypes.Document||t.addEventListener(WebInspector.UISourceCode.Events.SourceMappingChanged,this._uiSourceCodeMappingChanged,this)},_uiSourceCodeRemoved:function(e){var t=e.data;this._removeUISourceCode(t)},_uiSourceCodeMappingChanged:function(e){var t=e.target;if(!e.data.isIdentity)for(var i=this._breakpointsForPrimaryUISourceCode.get(t)||[],n=0;n<i.length;++n)i[n]._updateInDebugger()},_removeUISourceCode:function(e){for(var t=this._breakpointsForPrimaryUISourceCode.get(e)||[],i=0;i<t.length;++i)t[i]._resetLocations();var n=WebInspector.BreakpointManager._sourceFileId(e);delete this._sourceFilesWithRestoredBreakpoints[n],e.removeEventListener(WebInspector.UISourceCode.Events.SourceMappingChanged,this._uiSourceCodeMappingChanged,this),this._breakpointsForPrimaryUISourceCode.remove(e)},setBreakpoint:function(e,t,i,n,r){return this._debuggerModel.setBreakpointsActive(!0),this._innerSetBreakpoint(e,t,i,n,r)},_innerSetBreakpoint:function(e,t,i,n,r){var s=this.findBreakpoint(e,t,i);if(s)return s._updateBreakpoint(n,r),s;var o=e.project().id(),a=e.path(),c=WebInspector.BreakpointManager._sourceFileId(e);return s=new WebInspector.BreakpointManager.Breakpoint(this,o,a,c,t,i,n,r),this._breakpointsForPrimaryUISourceCode.get(e)||this._breakpointsForPrimaryUISourceCode.put(e,[]),this._breakpointsForPrimaryUISourceCode.get(e).push(s),s},findBreakpoint:function(e,t,i){var n=this._breakpointsForUISourceCode.get(e),r=n?n.get(String(t)):null,s=r?r.get(String(i)):null;return s?s[0]:null},findBreakpointOnLine:function(e,t){var i=this._breakpointsForUISourceCode.get(e),n=i?i.get(String(t)):null;return n?n.values()[0][0]:null},breakpointsForUISourceCode:function(e){for(var t=[],i=this._breakpointsForUISourceCode.get(e),n=i?i.values():[],r=0;r<n.length;++r){var s=n[r],o=s?s.values():[];t=t.concat.apply(t,o)}return t},allBreakpoints:function(){for(var e=[],t=this._breakpointsForUISourceCode.keys(),i=0;i<t.length;++i)e=e.concat(this.breakpointsForUISourceCode(t[i]));return e},breakpointLocationsForUISourceCode:function(e){for(var t=this._breakpointsForUISourceCode.get(e),i=t?t.keys():[],n=[],r=0;r<i.length;++r)for(var s=t.get(i[r]),o=s.keys(),a=0;a<o.length;++a)for(var c=s.get(o[a]),l=parseInt(i[r],10),d=parseInt(o[a],10),h=0;h<c.length;++h){var p=c[h],u=new WebInspector.UILocation(e,l,d);n.push({breakpoint:p,uiLocation:u})}return n},allBreakpointLocations:function(){for(var e=[],t=this._breakpointsForUISourceCode.keys(),i=0;i<t.length;++i)e=e.concat(this.breakpointLocationsForUISourceCode(t[i]));return e},toggleAllBreakpoints:function(e){for(var t=this.allBreakpoints(),i=0;i<t.length;++i)t[i].setEnabled(e)},removeAllBreakpoints:function(){for(var e=this.allBreakpoints(),t=0;t<e.length;++t)e[t].remove()},_projectWillReset:function(e){for(var t=e.data.uiSourceCodes(),i=0;i<t.length;++i)this._removeUISourceCode(t[i])},_breakpointResolved:function(e){var t=e.data.breakpointId,i=e.data.location,n=this._breakpointForDebuggerId[t];n&&n._addResolvedLocation(i)},_removeBreakpoint:function(e,t){var i=e.uiSourceCode(),n=i&&this._breakpointsForPrimaryUISourceCode.get(i)||[],r=n.indexOf(e);r>-1&&n.splice(r,1),t&&this._storage._removeBreakpoint(e)},_uiLocationAdded:function(e,t){var i=this._breakpointsForUISourceCode.get(t.uiSourceCode);i||(i=new StringMap,this._breakpointsForUISourceCode.put(t.uiSourceCode,i));var n=i.get(String(t.lineNumber));n||(n=new StringMap,i.put(String(t.lineNumber),n));var r=n.get(String(t.columnNumber));r||(r=[],n.put(String(t.columnNumber),r)),r.push(e),this.dispatchEventToListeners(WebInspector.BreakpointManager.Events.BreakpointAdded,{breakpoint:e,uiLocation:t})},_uiLocationRemoved:function(e,t){var i=this._breakpointsForUISourceCode.get(t.uiSourceCode);if(i){var n=i.get(String(t.lineNumber));if(n){var r=n.get(String(t.columnNumber));r&&(r.remove(e),r.length||n.remove(String(t.columnNumber)),n.size()||i.remove(String(t.lineNumber)),i.size()||this._breakpointsForUISourceCode.remove(t.uiSourceCode),this.dispatchEventToListeners(WebInspector.BreakpointManager.Events.BreakpointRemoved,{breakpoint:e,uiLocation:t}))}}},__proto__:WebInspector.Object.prototype},WebInspector.BreakpointManager.Breakpoint=function(e,t,i,n,r,s,o,a){this._breakpointManager=e,this._projectId=t,this._path=i,this._lineNumber=r,this._columnNumber=s,this._sourceFileId=n,this._liveLocations=[],this._uiLocations={},this._condition,this._enabled,this._updateBreakpoint(o,a)},WebInspector.BreakpointManager.Breakpoint.prototype={projectId:function(){return this._projectId},path:function(){return this._path},lineNumber:function(){return this._lineNumber},columnNumber:function(){return this._columnNumber},uiSourceCode:function(){return this._breakpointManager._workspace.uiSourceCode(this._projectId,this._path)},_addResolvedLocation:function(e){this._liveLocations.push(this._breakpointManager._debuggerModel.createLiveLocation(e,this._locationUpdated.bind(this,e)))},_locationUpdated:function(e,t){var i=e.scriptId+":"+e.lineNumber+":"+e.columnNumber,n=this._uiLocations[i];if(n&&this._breakpointManager._uiLocationRemoved(this,n),this._uiLocations[""]){var r=this._uiLocations[""];delete this._uiLocations[""],this._breakpointManager._uiLocationRemoved(this,r)}this._uiLocations[i]=t,this._breakpointManager._uiLocationAdded(this,t)},enabled:function(){return this._enabled},setEnabled:function(e){this._updateBreakpoint(this._condition,e)},condition:function(){return this._condition},setCondition:function(e){this._updateBreakpoint(e,this._enabled)},_updateBreakpoint:function(e,t){this._enabled===t&&this._condition===e||(this._removeFromDebugger(),this._enabled=t,this._condition=e,this._breakpointManager._storage._updateBreakpoint(this),this._fakeBreakpointAtPrimaryLocation(),this._updateInDebugger())},_updateInDebugger:function(){var e=this.uiSourceCode();if(e){var t=e&&e.scriptFile();!this._enabled||t&&t.hasDivergedFromVM()||this._setInDebugger()}},remove:function(e){var t=!e;this._resetLocations(),this._removeFromDebugger(),this._breakpointManager._removeBreakpoint(this,t)},_setInDebugger:function(){this._removeFromDebugger();var e=this._breakpointManager._workspace.uiSourceCode(this._projectId,this._path);if(e){var t=e.uiLocationToRawLocation(this._lineNumber,this._columnNumber);t?this._breakpointManager._debuggerModel.setBreakpointByScriptLocation(t,this._condition,this._didSetBreakpointInDebugger.bind(this)):e.url&&this._breakpointManager._debuggerModel.setBreakpointByURL(e.url,this._lineNumber,this._columnNumber,this._condition,this._didSetBreakpointInDebugger.bind(this))}},_didSetBreakpointInDebugger:function(e,t){if(!e)return this._resetLocations(),void this._breakpointManager._removeBreakpoint(this,!1);if(this._debuggerId=e,this._breakpointManager._breakpointForDebuggerId[e]=this,t.length){this._resetLocations();for(var i=0;i<t.length;++i){var n=this._breakpointManager._debuggerModel.scriptForId(t[i].scriptId).rawLocationToUILocation(t[i].lineNumber,t[i].columnNumber);if(this._breakpointManager.findBreakpoint(n.uiSourceCode,n.lineNumber,n.columnNumber))return void this.remove()}for(i=0;i<t.length;++i)this._addResolvedLocation(t[i])}else this._fakeBreakpointAtPrimaryLocation()},_removeFromDebugger:function(){this._debuggerId&&this._breakpointManager._debuggerModel.removeBreakpoint(this._debuggerId,this._didRemoveFromDebugger.bind(this))},_didRemoveFromDebugger:function(){delete this._breakpointManager._breakpointForDebuggerId[this._debuggerId],delete this._debuggerId},_resetLocations:function(){for(var e in this._uiLocations)this._breakpointManager._uiLocationRemoved(this,this._uiLocations[e]);for(var t=0;t<this._liveLocations.length;++t)this._liveLocations[t].dispose();this._liveLocations=[],this._uiLocations={}},_breakpointStorageId:function(){return WebInspector.BreakpointManager._breakpointStorageId(this._sourceFileId,this._lineNumber,this._columnNumber)},_fakeBreakpointAtPrimaryLocation:function(){this._resetLocations();var e=this._breakpointManager._workspace.uiSourceCode(this._projectId,this._path);if(e){var t=new WebInspector.UILocation(e,this._lineNumber,this._columnNumber);this._uiLocations[""]=t,this._breakpointManager._uiLocationAdded(this,t)}}},WebInspector.BreakpointManager.Storage=function(e,t){this._breakpointManager=e,this._setting=t;var i=this._setting.get();this._breakpoints={};for(var n=0;n<i.length;++n){var r=i[n];r.columnNumber=r.columnNumber||0,this._breakpoints[r.sourceFileId+":"+r.lineNumber+":"+r.columnNumber]=r}},WebInspector.BreakpointManager.Storage.prototype={mute:function(){this._muted=!0},unmute:function(){delete this._muted},breakpointItems:function(e){var t=[],i=WebInspector.BreakpointManager._sourceFileId(e);for(var n in this._breakpoints){var r=this._breakpoints[n];r.sourceFileId===i&&t.push(r)}return t},_updateBreakpoint:function(e){!this._muted&&e._breakpointStorageId()&&(this._breakpoints[e._breakpointStorageId()]=new WebInspector.BreakpointManager.Storage.Item(e),this._save())},_removeBreakpoint:function(e){this._muted||(delete this._breakpoints[e._breakpointStorageId()],this._save())},_save:function(){var e=[];for(var t in this._breakpoints)e.push(this._breakpoints[t]);this._setting.set(e)}},WebInspector.BreakpointManager.Storage.Item=function(e){this.sourceFileId=e._sourceFileId,this.lineNumber=e.lineNumber(),this.columnNumber=e.columnNumber(),this.condition=e.condition(),this.enabled=e.enabled()},WebInspector.breakpointManager,WebInspector.ConcatenatedScriptsContentProvider=function(e){this._scripts=e},WebInspector.ConcatenatedScriptsContentProvider.scriptOpenTag="<script>",WebInspector.ConcatenatedScriptsContentProvider.scriptCloseTag="<\/script>",WebInspector.ConcatenatedScriptsContentProvider.prototype={_sortedScripts:function(){if(this._sortedScriptsArray)return this._sortedScriptsArray;this._sortedScriptsArray=[];var e=this._scripts.slice();e.sort(function(e,t){return e.lineOffset-t.lineOffset||e.columnOffset-t.columnOffset});var t=WebInspector.ConcatenatedScriptsContentProvider.scriptOpenTag.length,i=WebInspector.ConcatenatedScriptsContentProvider.scriptCloseTag.length;this._sortedScriptsArray.push(e[0]);for(var n=1;n<e.length;++n){var r=this._sortedScriptsArray[this._sortedScriptsArray.length-1],s=r.endLine,o=r.endColumn+i+t;(s<e[n].lineOffset||s===e[n].lineOffset&&o<=e[n].columnOffset)&&this._sortedScriptsArray.push(e[n])}return this._sortedScriptsArray},contentURL:function(){return""},contentType:function(){return WebInspector.resourceTypes.Document},requestContent:function(e){var t=this._sortedScripts(),i=[];function n(n){i.push(n),i.length==t.length&&e(this._concatenateScriptsContent(t,i))}for(var r=0;r<t.length;++r)t[r].requestContent(n.bind(this))},searchInContent:function(e,t,i,n){var r={},s=this._sortedScripts(),o=s.length;function a(){if(!o){for(var e=[],t=0;t<s.length;++t)e=e.concat(r[s[t].scriptId]);n(e)}}function c(e,t){r[e.scriptId]=[];for(var i=0;i<t.length;++i){var n=new WebInspector.ContentProvider.SearchMatch(t[i].lineNumber+e.lineOffset,t[i].lineContent);r[e.scriptId].push(n)}o--,a()}a();for(var l=0;l<s.length;++l)s[l].searchInContent(e,t,i,c.bind(null,s[l]))},_concatenateScriptsContent:function(e,t){for(var i="",n=0,r=0,s=WebInspector.ConcatenatedScriptsContentProvider.scriptOpenTag,o=WebInspector.ConcatenatedScriptsContentProvider.scriptCloseTag,a=0;a<e.length;++a){for(var c=e[a].lineOffset-n;c>0;--c)r=0,i+="\n";for(var l=e[a].columnOffset-r-s.length;l>0;--l)i+=" ";i+=s,i+=t[a],i+=o,n=e[a].endLine,r=e[a].endColumn+o.length}return i}},WebInspector.CompilerSourceMappingContentProvider=function(e,t){this._sourceURL=e,this._contentType=t},WebInspector.CompilerSourceMappingContentProvider.prototype={contentURL:function(){return this._sourceURL},contentType:function(){return this._contentType},requestContent:function(e){NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,this._sourceURL,void 0,function(t,i,n,r){if(t||i>=400)return console.error("Could not load content for "+this._sourceURL+" : "+(t||"HTTP status code: "+i)),void e(null);e(r)}.bind(this))},searchInContent:function(e,t,i,n){this.requestContent(function(r){n("string"==typeof r?WebInspector.ContentProvider.performSearchInContent(r,e,t,i):[])})}},WebInspector.StaticContentProvider=function(e,t){this._content=t,this._contentType=e},WebInspector.StaticContentProvider.prototype={contentURL:function(){return""},contentType:function(){return this._contentType},requestContent:function(e){e(this._content)},searchInContent:function(e,t,i,n){window.setTimeout(function(){n(WebInspector.ContentProvider.performSearchInContent(this._content,e,t,i))}.bind(this),0)}},WebInspector.DefaultScriptMapping=function(e,t){this._debuggerModel=e,this._projectDelegate=new WebInspector.DebuggerProjectDelegate,this._workspace=t,this._workspace.addProject(this._projectDelegate),e.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this),this._debuggerReset()},WebInspector.DefaultScriptMapping.prototype={rawLocationToUILocation:function(e){var t=e,i=this._debuggerModel.scriptForId(t.scriptId),n=this._uiSourceCodeForScriptId[i.scriptId],r=t.lineNumber,s=t.columnNumber||0;return new WebInspector.UILocation(n,r,s)},uiLocationToRawLocation:function(e,t,i){var n=this._scriptIdForUISourceCode.get(e),r=this._debuggerModel.scriptForId(n);return this._debuggerModel.createRawLocation(r,t,i)},addScript:function(e){var t=this._projectDelegate.addScript(e),i=this._workspace.uiSourceCode(this._projectDelegate.id(),t);i?(this._uiSourceCodeForScriptId[e.scriptId]=i,this._scriptIdForUISourceCode.put(i,e.scriptId),i.setSourceMapping(this),e.pushSourceMapping(this),e.addEventListener(WebInspector.Script.Events.ScriptEdited,this._scriptEdited.bind(this,e.scriptId))):console.assert(i)},isIdentity:function(){return!0},_scriptEdited:function(e,t){var i=t.data;this._uiSourceCodeForScriptId[e].addRevision(i)},_debuggerReset:function(){this._uiSourceCodeForScriptId={},this._scriptIdForUISourceCode=new GenericMap,this._projectDelegate.reset()}},WebInspector.DebuggerProjectDelegate=function(){WebInspector.ContentProviderBasedProjectDelegate.call(this,WebInspector.projectTypes.Debugger)},WebInspector.DebuggerProjectDelegate.prototype={id:function(){return"debugger:"},displayName:function(){return"debugger"},addScript:function(e){var t=e.isInlineScript()?new WebInspector.ConcatenatedScriptsContentProvider([e]):e,i=WebInspector.ParsedURL.splitURL(e.sourceURL),n=i[i.length-1];return n="VM"+e.scriptId+(n?" "+n:""),this.addContentProvider("",n,e.sourceURL,t,!1,e.isContentScript)},__proto__:WebInspector.ContentProviderBasedProjectDelegate.prototype},WebInspector.ResourceScriptMapping=function(e,t){this._debuggerModel=e,this._workspace=t,this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAddedToWorkspace,this),this._boundURLs=new StringSet,e.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.ResourceScriptMapping.prototype={rawLocationToUILocation:function(e){var t=e,i=this._debuggerModel.scriptForId(t.scriptId),n=this._workspaceUISourceCodeForScript(i);if(!n)return null;var r=n.scriptFile();return r&&(r.hasDivergedFromVM()&&!r.isMergingToVM()||r.isDivergingFromVM())?null:new WebInspector.UILocation(n,t.lineNumber,t.columnNumber||0)},uiLocationToRawLocation:function(e,t,i){var n=this._scriptsForUISourceCode(e);return console.assert(n.length),this._debuggerModel.createRawLocation(n[0],t,i)},addScript:function(e){if(!e.isAnonymousScript()){e.pushSourceMapping(this);var t=this._workspaceUISourceCodeForScript(e);t&&this._bindUISourceCodeToScripts(t,[e])}},isIdentity:function(){return!0},_uiSourceCodeAddedToWorkspace:function(e){var t=e.data;if(!t.project().isServiceProject()&&t.url){var i=this._scriptsForUISourceCode(t);i.length&&this._bindUISourceCodeToScripts(t,i)}},_hasMergedToVM:function(e){var t=this._scriptsForUISourceCode(e);if(t.length)for(var i=0;i<t.length;++i)t[i].updateLocations()},_hasDivergedFromVM:function(e){var t=this._scriptsForUISourceCode(e);if(t.length)for(var i=0;i<t.length;++i)t[i].updateLocations()},_workspaceUISourceCodeForScript:function(e){return e.isAnonymousScript()?null:this._workspace.uiSourceCodeForURL(e.sourceURL)},_scriptsForUISourceCode:function(e){return e.url?this._debuggerModel.scriptsForSourceURL(e.url):[]},_bindUISourceCodeToScripts:function(e,t){console.assert(t.length);var i=new WebInspector.ResourceScriptFile(this,e,t);e.setScriptFile(i);for(var n=0;n<t.length;++n)t[n].updateLocations();e.setSourceMapping(this),this._boundURLs.put(e.url)},_unbindUISourceCode:function(e){var t=e.scriptFile();t&&(t.dispose(),e.setScriptFile(null)),e.setSourceMapping(null)},_debuggerReset:function(){for(var e=this._boundURLs.values(),t=0;t<e.length;++t){var i=this._workspace.uiSourceCodeForURL(e[t]);i&&this._unbindUISourceCode(i)}this._boundURLs.clear()}},WebInspector.ScriptFile=function(){},WebInspector.ScriptFile.Events={DidMergeToVM:"DidMergeToVM",DidDivergeFromVM:"DidDivergeFromVM"},WebInspector.ScriptFile.prototype={hasDivergedFromVM:function(){return!1},isDivergingFromVM:function(){return!1},isMergingToVM:function(){return!1},checkMapping:function(){}},WebInspector.ResourceScriptFile=function(e,t,i){console.assert(i.length),WebInspector.ScriptFile.call(this),this._resourceScriptMapping=e,this._uiSourceCode=t,this._uiSourceCode.contentType()===WebInspector.resourceTypes.Script&&(this._script=i[0]),this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this),this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this),this._update()},WebInspector.ResourceScriptFile.prototype={_workingCopyCommitted:function(e){if(this._script){var t=this._uiSourceCode.workingCopy();this._resourceScriptMapping._debuggerModel.setScriptSource(this._script.scriptId,t,function(e,i){if(e)return this._update(),void WebInspector.LiveEditSupport.logDetailedError(e,i,this._script);this._scriptSource=t,this._update(),WebInspector.LiveEditSupport.logSuccess()}.bind(this))}},_isDiverged:function(){return!!this._uiSourceCode.isDirty()||!!this._script&&void 0!==this._scriptSource&&this._uiSourceCode.workingCopy()!==this._scriptSource},_workingCopyChanged:function(e){this._update()},_update:function(){this._isDiverged()&&!this._hasDivergedFromVM?this._divergeFromVM():!this._isDiverged()&&this._hasDivergedFromVM&&this._mergeToVM()},_divergeFromVM:function(){this._isDivergingFromVM=!0,this._resourceScriptMapping._hasDivergedFromVM(this._uiSourceCode),delete this._isDivergingFromVM,this._hasDivergedFromVM=!0,this.dispatchEventToListeners(WebInspector.ScriptFile.Events.DidDivergeFromVM,this._uiSourceCode)},_mergeToVM:function(){delete this._hasDivergedFromVM,this._isMergingToVM=!0,this._resourceScriptMapping._hasMergedToVM(this._uiSourceCode),delete this._isMergingToVM,this.dispatchEventToListeners(WebInspector.ScriptFile.Events.DidMergeToVM,this._uiSourceCode)},hasDivergedFromVM:function(){return this._hasDivergedFromVM},isDivergingFromVM:function(){return this._isDivergingFromVM},isMergingToVM:function(){return this._isMergingToVM},checkMapping:function(){this._script&&void 0===this._scriptSource&&this._script.requestContent(function(e){this._scriptSource=e,this._update()}.bind(this))},dispose:function(){this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this),this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this)},__proto__:WebInspector.Object.prototype},WebInspector.CompilerScriptMapping=function(e,t,i){this._debuggerModel=e,this._workspace=t,this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAddedToWorkspace,this),this._networkWorkspaceProvider=i,this._sourceMapForSourceMapURL={},this._pendingSourceMapLoadingCallbacks={},this._sourceMapForScriptId={},this._scriptForSourceMap=new GenericMap,this._sourceMapForURL=new StringMap,e.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.CompilerScriptMapping.prototype={rawLocationToUILocation:function(e){var t=e,i=this._sourceMapForScriptId[t.scriptId];if(!i)return null;var n=t.lineNumber,r=t.columnNumber||0,s=i.findEntry(n,r);if(!s||2===s.length)return null;var o=s[2],a=this._workspace.uiSourceCodeForURL(o);return a?new WebInspector.UILocation(a,s[3],s[4]):null},uiLocationToRawLocation:function(e,t,i){if(!e.url)return null;var n=this._sourceMapForURL.get(e.url);if(!n)return null;var r=this._scriptForSourceMap.get(n);console.assert(r);var s=n.findEntryReversed(e.url,t);return this._debuggerModel.createRawLocation(r,s[0],s[1])},addScript:function(e){e.pushSourceMapping(this),this.loadSourceMapForScript(e,function(t){if(t){if(this._scriptForSourceMap.get(t))return this._sourceMapForScriptId[e.scriptId]=t,void e.updateLocations();this._sourceMapForScriptId[e.scriptId]=t,this._scriptForSourceMap.put(t,e);for(var i=t.sources(),n=0;n<i.length;++n){var r=i[n];if(!this._sourceMapForURL.get(r)){if(this._sourceMapForURL.put(r,t),!this._workspace.hasMappingForURL(r)&&!this._workspace.uiSourceCodeForURL(r)){var s=t.sourceContentProvider(r,WebInspector.resourceTypes.Script);this._networkWorkspaceProvider.addFileForURL(r,s,!0)}var o=this._workspace.uiSourceCodeForURL(r);o?(this._bindUISourceCode(o),o.isContentScript=e.isContentScript):WebInspector.console.showErrorMessage(WebInspector.UIString("Failed to locate workspace file mapped to URL %s from source map %s",r,t.url()))}}e.updateLocations()}}.bind(this))},isIdentity:function(){return!1},_bindUISourceCode:function(e){e.setSourceMapping(this)},_unbindUISourceCode:function(e){e.setSourceMapping(null)},_uiSourceCodeAddedToWorkspace:function(e){var t=e.data;t.url&&this._sourceMapForURL.get(t.url)&&this._bindUISourceCode(t)},loadSourceMapForScript:function(e,t){if(e.sourceMapURL){var i=WebInspector.ParsedURL.completeURL(WebInspector.resourceTreeModel.inspectedPageURL(),e.sourceURL);if(i){var n=WebInspector.ParsedURL.completeURL(i,e.sourceMapURL);if(n){var r=this._sourceMapForSourceMapURL[n];if(r)t(r);else{var s=this._pendingSourceMapLoadingCallbacks[n];s?s.push(t):(s=[t],this._pendingSourceMapLoadingCallbacks[n]=s,WebInspector.SourceMap.load(n,i,function(e){var t=n,i=this._pendingSourceMapLoadingCallbacks[t];if(delete this._pendingSourceMapLoadingCallbacks[t],i){e&&(this._sourceMapForSourceMapURL[t]=e);for(var r=0;r<i.length;++r)i[r](e)}}.bind(this)))}}else t(null)}else t(null)}else t(null)},_debuggerReset:function(){this._sourceMapForURL.values().forEach(function(e){for(var t=e.sources(),i=0;i<t.length;++i){var n=t[i],r=this._workspace.uiSourceCodeForURL(n);r&&this._unbindUISourceCode(r)}}.bind(this)),this._sourceMapForSourceMapURL={},this._pendingSourceMapLoadingCallbacks={},this._sourceMapForScriptId={},this._scriptForSourceMap.clear(),this._sourceMapForURL.clear()}},WebInspector.LiveEditSupport=function(e){this._workspaceProvider=new WebInspector.SimpleWorkspaceProvider(e,WebInspector.projectTypes.LiveEdit),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this),this._debuggerReset()},WebInspector.LiveEditSupport.prototype={uiSourceCodeForLiveEdit:function(e){var t=e.uiLocationToRawLocation(0,0),i=WebInspector.debuggerModel.scriptForId(t.scriptId),n=i.rawLocationToUILocation(0,0);if(n.uiSourceCode!==e)return n.uiSourceCode;if(this._uiSourceCodeForScriptId[i.scriptId])return this._uiSourceCodeForScriptId[i.scriptId];console.assert(!i.isInlineScript());var r=this._workspaceProvider.addUniqueFileForURL(i.sourceURL,i,!0,i.isContentScript);return r.setScriptFile(new WebInspector.LiveEditScriptFile(e,r,i.scriptId)),this._uiSourceCodeForScriptId[i.scriptId]=r,this._scriptIdForUISourceCode.put(r,i.scriptId),r},_debuggerReset:function(){this._uiSourceCodeForScriptId={},this._scriptIdForUISourceCode=new GenericMap,this._workspaceProvider.reset()}},WebInspector.LiveEditSupport.logDetailedError=function(e,t,i){var n=WebInspector.ConsoleMessage.MessageLevel.Warning;if(t){var r=t.compileError;if(r){var s=i?WebInspector.UIString(" at %s:%d:%d",i.sourceURL,r.lineNumber,r.columnNumber):"",o=WebInspector.UIString("LiveEdit compile failed: %s%s",r.message,s);WebInspector.console.log(o,WebInspector.ConsoleMessage.MessageLevel.Error,!1)}else WebInspector.console.log(WebInspector.UIString("Unknown LiveEdit error: %s; %s",JSON.stringify(t),e),n,!1)}else e&&WebInspector.console.log(WebInspector.UIString("LiveEdit failed: %s",e),n,!1)},WebInspector.LiveEditSupport.logSuccess=function(){WebInspector.console.log(WebInspector.UIString("Recompilation and update succeeded."),WebInspector.ConsoleMessage.MessageLevel.Debug,!1)},WebInspector.LiveEditScriptFile=function(e,t,i){WebInspector.ScriptFile.call(this),this._uiSourceCode=e,this._liveEditUISourceCode=t,this._scriptId=i,this._liveEditUISourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)},WebInspector.LiveEditScriptFile.prototype={_workingCopyCommitted:function(e){var t=WebInspector.debuggerModel.scriptForId(this._scriptId);WebInspector.debuggerModel.setScriptSource(t.scriptId,this._liveEditUISourceCode.workingCopy(),function(e,t){if(e){var i=WebInspector.debuggerModel.scriptForId(this._scriptId);WebInspector.LiveEditSupport.logDetailedError(e,t,i)}else WebInspector.LiveEditSupport.logSuccess()}.bind(this))},hasDivergedFromVM:function(){return!0},isDivergingFromVM:function(){return!1},isMergingToVM:function(){return!1},checkMapping:function(){},__proto__:WebInspector.Object.prototype},WebInspector.liveEditSupport,WebInspector.CSSStyleSheetMapping=function(e,t,i){this._cssModel=e,this._workspace=t,this._stylesSourceMapping=new WebInspector.StylesSourceMapping(e,t),this._sassSourceMapping=new WebInspector.SASSSourceMapping(e,t,i),e.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),e.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)},WebInspector.CSSStyleSheetMapping.prototype={_styleSheetAdded:function(e){var t=e.data;this._stylesSourceMapping.addHeader(t),this._sassSourceMapping.addHeader(t)},_styleSheetRemoved:function(e){var t=e.data;this._stylesSourceMapping.removeHeader(t),this._sassSourceMapping.removeHeader(t)}},WebInspector.SASSSourceMapping=function(e,t,i){this.pollPeriodMs=5e3,this.pollIntervalMs=200,this._cssModel=e,this._workspace=t,this._networkWorkspaceProvider=i,this._addingRevisionCounter=0,this._reset(),WebInspector.fileManager.addEventListener(WebInspector.FileManager.EventTypes.SavedURL,this._fileSaveFinished,this),WebInspector.settings.cssSourceMapsEnabled.addChangeListener(this._toggleSourceMapSupport,this),this._cssModel.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetChanged,this._styleSheetChanged,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAdded,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeContentCommitted,this._uiSourceCodeContentCommitted,this),this._workspace.addEventListener(WebInspector.Workspace.Events.ProjectWillReset,this._reset,this)},WebInspector.SASSSourceMapping.prototype={_styleSheetChanged:function(e){var t=e.data.styleSheetId;if(this._addingRevisionCounter)--this._addingRevisionCounter;else{var i=this._cssModel.styleSheetHeaderForId(t);i&&this.removeHeader(i)}},_toggleSourceMapSupport:function(e){for(var t=e.data,i=this._cssModel.styleSheetHeaders(),n=0;n<i.length;++n)t?this.addHeader(i[n]):this.removeHeader(i[n])},_fileSaveFinished:function(e){var t=e.data;this._sassFileSaved(t,!1)},_headerValue:function(e,t){e=e.toLowerCase();var i=null;for(var n in t)if(n.toLowerCase()===e){i=t[n];break}return i},_lastModified:function(e){var t=this._headerValue("last-modified",e);if(!t)return null;var i=new Date(t);return isNaN(i.getTime())?null:i},_checkLastModified:function(e,t){var i=this._lastModified(e);if(i)return i;var n=this._headerValue("etag",e)?', "ETag" response header found instead':"",r=String.sprintf('The "Last-Modified" response header is missing or invalid for %s%s. The CSS auto-reload functionality will not work correctly.',t,n);return WebInspector.console.log(r),null},_sassFileSaved:function(e,t){var i=this._cssURLsForSASSURL[e];if(i&&WebInspector.settings.cssReloadEnabled.get()){var n=this._workspace.uiSourceCodeForURL(e);console.assert(n),t?n.requestMetadata(r.bind(this)):NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,e,void 0,function(t,i,n,s){if(t||i>=400)console.error("Could not load content for "+e+" : "+(t||"HTTP status code: "+i));else{var o=this._checkLastModified(n,e);o&&r.call(this,o)}}.bind(this))}function r(t){if(t){var n=Date.now(),r=n+this.pollPeriodMs,s=this._pollDataForSASSURL[e];if(s){var o=s.dataByURL;for(var a in o)clearTimeout(o[a].timer)}s={dataByURL:{},deadlineMs:r,sassTimestamp:t},this._pollDataForSASSURL[e]=s;for(var c=0;c<i.length;++c)s.dataByURL[i[c]]={previousPoll:n},this._pollCallback(i[c],e,!1)}}},_pollCallback:function(e,t,i){var n,r=this._pollDataForSASSURL[t];if(r){if(i||(n=(new Date).getTime())>r.deadlineMs)return delete r.dataByURL[e],void(Object.keys(r.dataByURL).length||delete this._pollDataForSASSURL[t]);var s=this.pollIntervalMs+r.dataByURL[e].previousPoll,o=Math.max(0,s-n);r.dataByURL[e].previousPoll=n+o,r.dataByURL[e].timer=setTimeout(this._reloadCSS.bind(this,e,t,this._pollCallback.bind(this)),o)}},_reloadCSS:function(e,t,i){var n=this._workspace.uiSourceCodeForURL(e);if(!n)return WebInspector.console.log(WebInspector.UIString("%s resource missing. Please reload the page.",e)),void i(e,t,!0);this._workspace.hasMappingForURL(t)?this._reloadCSSFromFileSystem(n,t,i):this._reloadCSSFromNetwork(n,t,i)},_reloadCSSFromNetwork:function(e,t,i){var n=e.url,r=this._pollDataForSASSURL[t];if(r){var s={"if-modified-since":new Date(r.sassTimestamp.getTime()-1e3).toUTCString()};NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,n,s,function(s,o,a,c){if(s||o>=400)return console.error("Could not load content for "+n+" : "+(s||"HTTP status code: "+o)),void i(n,t,!0);if(this._pollDataForSASSURL[t])if(304!==o){var l=this._checkLastModified(a,n);l?l.getTime()<r.sassTimestamp.getTime()?i(n,t,!1):this._updateCSSRevision(e,c,t,i):i(n,t,!0)}else i(n,t,!1);else i(n,t,!0)}.bind(this))}else i(n,t,!0)},_updateCSSRevision:function(e,t,i,n){++this._addingRevisionCounter,e.addRevision(t),this._cssUISourceCodeUpdated(e.url,i,n)},_reloadCSSFromFileSystem:function(e,t,i){e.requestMetadata(function(n){var r=e.url;if(n){var s=n.getTime(),o=this._pollDataForSASSURL[t];o?s<o.sassTimestamp.getTime()?i(r,t,!1):e.requestOriginalContent(function(n){null!==n&&this._updateCSSRevision(e,n,t,i)}.bind(this)):i(r,t,!0)}else i(r,t,!1)}.bind(this))},_cssUISourceCodeUpdated:function(e,t,i){var n=this._completeSourceMapURLForCSSURL[e];if(n){var r=this._cssModel.styleSheetIdsForURL(e);if(r){for(var s=[],o=0;o<r.length;++o)s.push(this._cssModel.styleSheetHeaderForId(r[o]));for(o=0;o<r.length;++o)this._loadSourceMapAndBindUISourceCode(s,!0,n);i(e,t,!0)}}},addHeader:function(e){if(e.sourceMapURL&&e.sourceURL&&!e.isInline&&WebInspector.settings.cssSourceMapsEnabled.get()){var t=WebInspector.ParsedURL.completeURL(e.sourceURL,e.sourceMapURL);t&&(this._completeSourceMapURLForCSSURL[e.sourceURL]=t,this._loadSourceMapAndBindUISourceCode([e],!1,t))}},removeHeader:function(e){var t=e.sourceURL;if(t&&e.sourceMapURL&&!e.isInline&&this._completeSourceMapURLForCSSURL[t]){for(var i in delete this._sourceMapByStyleSheetURL[t],delete this._completeSourceMapURLForCSSURL[t],this._cssURLsForSASSURL){var n=this._cssURLsForSASSURL[i];n.remove(t),n.length||delete this._cssURLsForSASSURL[i]}var r=WebInspector.ParsedURL.completeURL(t,e.sourceMapURL);r&&delete this._sourceMapByURL[r],e.updateLocations()}},_loadSourceMapAndBindUISourceCode:function(e,t,i){console.assert(e.length);var n=e[0].sourceURL;this._loadSourceMapForStyleSheet(i,n,t,function(i){if(i){this._sourceMapByStyleSheetURL[n]=i;for(var r=0;r<e.length;++r)t?e[r].updateLocations():this._bindUISourceCode(e[r],i)}}.bind(this))},_addCSSURLforSASSURL:function(e,t){var i;this._cssURLsForSASSURL.hasOwnProperty(t)?i=this._cssURLsForSASSURL[t]:(i=[],this._cssURLsForSASSURL[t]=i),-1===i.indexOf(e)&&i.push(e)},_loadSourceMapForStyleSheet:function(e,t,i,n){var r=this._sourceMapByURL[e];if(!r||i){var s=this._pendingSourceMapLoadingCallbacks[e];s?s.push(n):(s=[n],this._pendingSourceMapLoadingCallbacks[e]=s,WebInspector.SourceMap.load(e,t,function(t){var i=this._pendingSourceMapLoadingCallbacks[e];if(delete this._pendingSourceMapLoadingCallbacks[e],i){t?this._sourceMapByURL[e]=t:delete this._sourceMapByURL[e];for(var n=0;n<i.length;++n)i[n](t)}}.bind(this)))}else n(r)},_bindUISourceCode:function(e,t){e.pushSourceMapping(this);for(var i=e.sourceURL,n=t.sources(),r=0;r<n.length;++r){var s=n[r];if(this._addCSSURLforSASSURL(i,s),!this._workspace.hasMappingForURL(s)&&!this._workspace.uiSourceCodeForURL(s)){var o=t.sourceContentProvider(s,WebInspector.resourceTypes.Stylesheet);this._networkWorkspaceProvider.addFileForURL(s,o,!0)}}},rawLocationToUILocation:function(e){var t,i=e,n=this._sourceMapByStyleSheetURL[i.url];if(!n)return null;if(!(t=n.findEntry(i.lineNumber,i.columnNumber))||2===t.length)return null;var r=this._workspace.uiSourceCodeForURL(t[2]);return r?new WebInspector.UILocation(r,t[3],t[4]):null},uiLocationToRawLocation:function(e,t,i){return new WebInspector.CSSLocation(e.url||"",t,i)},isIdentity:function(){return!1},_uiSourceCodeAdded:function(e){var t=e.data,i=this._cssURLsForSASSURL[t.url];if(i)for(var n=0;n<i.length;++n)for(var r=this._cssModel.styleSheetIdsForURL(i[n]),s=0;s<r.length;++s){var o=this._cssModel.styleSheetHeaderForId(r[s]);console.assert(o),o.updateLocations()}},_uiSourceCodeContentCommitted:function(e){var t=e.data.uiSourceCode;t.project().type()===WebInspector.projectTypes.FileSystem&&this._sassFileSaved(t.url,!0)},_reset:function(){this._addingRevisionCounter=0,this._completeSourceMapURLForCSSURL={},this._cssURLsForSASSURL={},this._pendingSourceMapLoadingCallbacks={},this._pollDataForSASSURL={},this._sourceMapByURL={},this._sourceMapByStyleSheetURL={}}},WebInspector.DOMNode=function(e,t,i,n){if(this._domModel=e,this.ownerDocument=t,this._isInShadowTree=i,this.id=n.nodeId,e._idToDOMNode[this.id]=this,this._nodeType=n.nodeType,this._nodeName=n.nodeName,this._localName=n.localName,this._nodeValue=n.nodeValue,this._pseudoType=n.pseudoType,this._shadowRootType=n.shadowRootType,this._frameId=n.frameId||null,this._shadowRoots=[],this._attributes=[],this._attributesMap={},n.attributes&&this._setAttributesPayload(n.attributes),this._userProperties={},this._descendantUserPropertyCounters={},this._childNodeCount=n.childNodeCount||0,this._children=null,this.nextSibling=null,this.previousSibling=null,this.firstChild=null,this.lastChild=null,this.parentNode=null,n.shadowRoots)for(var r=0;r<n.shadowRoots.length;++r){var s=n.shadowRoots[r],o=new WebInspector.DOMNode(this._domModel,this.ownerDocument,!0,s);this._shadowRoots.push(o),o.parentNode=this}n.templateContent&&(this._templateContent=new WebInspector.DOMNode(this._domModel,this.ownerDocument,!0,n.templateContent),this._templateContent.parentNode=this),n.importedDocument&&(this._importedDocument=new WebInspector.DOMNode(this._domModel,this.ownerDocument,!0,n.importedDocument),this._importedDocument.parentNode=this),n.children&&this._setChildrenPayload(n.children),this._setPseudoElements(n.pseudoElements),n.contentDocument&&(this._contentDocument=new WebInspector.DOMDocument(e,n.contentDocument),this._children=[this._contentDocument],this._renumber()),this._nodeType===Node.ELEMENT_NODE?(this.ownerDocument&&!this.ownerDocument.documentElement&&"HTML"===this._nodeName&&(this.ownerDocument.documentElement=this),this.ownerDocument&&!this.ownerDocument.body&&"BODY"===this._nodeName&&(this.ownerDocument.body=this)):this._nodeType===Node.DOCUMENT_TYPE_NODE?(this.publicId=n.publicId,this.systemId=n.systemId,this.internalSubset=n.internalSubset):this._nodeType===Node.ATTRIBUTE_NODE&&(this.name=n.name,this.value=n.value)},WebInspector.DOMNode.PseudoElementNames={Before:"before",After:"after"},WebInspector.DOMNode.ShadowRootTypes={UserAgent:"user-agent",Author:"author"},WebInspector.DOMNode.prototype={children:function(){return this._children?this._children.slice():null},hasAttributes:function(){return this._attributes.length>0},childNodeCount:function(){return this._childNodeCount},hasShadowRoots:function(){return!!this._shadowRoots.length},shadowRoots:function(){return this._shadowRoots.slice()},templateContent:function(){return this._templateContent},importedDocument:function(){return this._importedDocument},nodeType:function(){return this._nodeType},nodeName:function(){return this._nodeName},pseudoType:function(){return this._pseudoType},hasPseudoElements:function(){return 0!==Object.keys(this._pseudoElements).length},pseudoElements:function(){return this._pseudoElements},isInShadowTree:function(){return this._isInShadowTree},ancestorUserAgentShadowRoot:function(){if(!this._isInShadowTree)return null;for(var e=this;!e.isShadowRoot();)e=e.parentNode;return e.shadowRootType()===WebInspector.DOMNode.ShadowRootTypes.UserAgent?e:null},isShadowRoot:function(){return!!this._shadowRootType},shadowRootType:function(){return this._shadowRootType||null},nodeNameInCorrectCase:function(){var e=this.shadowRootType();return e?"#shadow-root"+(e===WebInspector.DOMNode.ShadowRootTypes.UserAgent?" (user-agent)":""):this.isXMLNode()?this.nodeName():this.nodeName().toLowerCase()},setNodeName:function(e,t){DOMAgent.setNodeName(this.id,e,WebInspector.domModel._markRevision(this,t))},localName:function(){return this._localName},nodeValue:function(){return this._nodeValue},setNodeValue:function(e,t){DOMAgent.setNodeValue(this.id,e,WebInspector.domModel._markRevision(this,t))},getAttribute:function(e){var t=this._attributesMap[e];return t?t.value:void 0},setAttribute:function(e,t,i){DOMAgent.setAttributesAsText(this.id,t,e,WebInspector.domModel._markRevision(this,i))},setAttributeValue:function(e,t,i){DOMAgent.setAttributeValue(this.id,e,t,WebInspector.domModel._markRevision(this,i))},attributes:function(){return this._attributes},removeAttribute:function(e,t){DOMAgent.removeAttribute(this.id,e,function(i){if(!i){delete this._attributesMap[e];for(var n=0;n<this._attributes.length;++n)if(this._attributes[n].name===e){this._attributes.splice(n,1);break}}WebInspector.domModel._markRevision(this,t)(i)}.bind(this))},getChildNodes:function(e){this._children?e&&e(this.children()):DOMAgent.requestChildNodes(this.id,void 0,function(t){e&&e(t?null:this.children())}.bind(this))},getSubtree:function(e,t){DOMAgent.requestChildNodes(this.id,e,function(e){t&&t(e?null:this._children)}.bind(this))},getOuterHTML:function(e){DOMAgent.getOuterHTML(this.id,e)},setOuterHTML:function(e,t){DOMAgent.setOuterHTML(this.id,e,WebInspector.domModel._markRevision(this,t))},removeNode:function(e){DOMAgent.removeNode(this.id,WebInspector.domModel._markRevision(this,e))},copyNode:function(){DOMAgent.getOuterHTML(this.id,function(e,t){e||InspectorFrontendHost.copyText(t)})},eventListeners:function(e,t){DOMAgent.getEventListenersForNode(this.id,e,t)},path:function(){function e(e){return e&&("index"in e||e.isShadowRoot()&&e.parentNode)&&e._nodeName.length}for(var t=[],i=this;e(i);){var n="number"==typeof i.index?i.index:i.shadowRootType()===WebInspector.DOMNode.ShadowRootTypes.UserAgent?"u":"a";t.push([n,i._nodeName]),i=i.parentNode}return t.reverse(),t.join(",")},isAncestor:function(e){if(!e)return!1;for(var t=e.parentNode;t;){if(this===t)return!0;t=t.parentNode}return!1},isDescendant:function(e){return null!==e&&e.isAncestor(this)},frameId:function(){for(var e=this;!e._frameId&&e.parentNode;)e=e.parentNode;return e._frameId},_setAttributesPayload:function(e){var t=!this._attributes||e.length!==2*this._attributes.length,i=this._attributesMap||{};this._attributes=[],this._attributesMap={};for(var n=0;n<e.length;n+=2){var r=e[n],s=e[n+1];this._addAttribute(r,s),t||i[r]&&i[r].value===s||(t=!0)}return t},_insertChild:function(e,t){var i=new WebInspector.DOMNode(this._domModel,this.ownerDocument,this._isInShadowTree,t);return this._children.splice(this._children.indexOf(e)+1,0,i),this._renumber(),i},_removeChild:function(e){if(e.pseudoType())delete this._pseudoElements[e.pseudoType()];else{var t=this._shadowRoots.indexOf(e);-1!==t?this._shadowRoots.splice(t,1):this._children.splice(this._children.indexOf(e),1)}e.parentNode=null,e._updateChildUserPropertyCountsOnRemoval(this),this._renumber()},_setChildrenPayload:function(e){if(!this._contentDocument){this._children=[];for(var t=0;t<e.length;++t){var i=e[t],n=new WebInspector.DOMNode(this._domModel,this.ownerDocument,this._isInShadowTree,i);this._children.push(n)}this._renumber()}},_setPseudoElements:function(e){if(this._pseudoElements={},e)for(var t=0;t<e.length;++t){var i=new WebInspector.DOMNode(this._domModel,this.ownerDocument,this._isInShadowTree,e[t]);i.parentNode=this,this._pseudoElements[i.pseudoType()]=i}},_renumber:function(){if(this._childNodeCount=this._children.length,0==this._childNodeCount)return this.firstChild=null,void(this.lastChild=null);this.firstChild=this._children[0],this.lastChild=this._children[this._childNodeCount-1];for(var e=0;e<this._childNodeCount;++e){var t=this._children[e];t.index=e,t.nextSibling=e+1<this._childNodeCount?this._children[e+1]:null,t.previousSibling=e-1>=0?this._children[e-1]:null,t.parentNode=this}},_addAttribute:function(e,t){var i={name:e,value:t,_node:this};this._attributesMap[e]=i,this._attributes.push(i)},_setAttribute:function(e,t){var i=this._attributesMap[e];i?i.value=t:this._addAttribute(e,t)},_removeAttribute:function(e){var t=this._attributesMap[e];t&&(this._attributes.remove(t),delete this._attributesMap[e])},moveTo:function(e,t,i){DOMAgent.moveTo(this.id,e.id,t?t.id:void 0,WebInspector.domModel._markRevision(this,i))},isXMLNode:function(){return!!this.ownerDocument&&!!this.ownerDocument.xmlVersion},_updateChildUserPropertyCountsOnRemoval:function(e){var t={};if(this._userProperties)for(var i in this._userProperties)t[i]=(t[i]||0)+1;if(this._descendantUserPropertyCounters)for(var i in this._descendantUserPropertyCounters){var n=this._descendantUserPropertyCounters[i];t[i]=(t[i]||0)+n}for(var i in t)e._updateDescendantUserPropertyCount(i,-t[i])},_updateDescendantUserPropertyCount:function(e,t){this._descendantUserPropertyCounters.hasOwnProperty(e)||(this._descendantUserPropertyCounters[e]=0),this._descendantUserPropertyCounters[e]+=t,this._descendantUserPropertyCounters[e]||delete this._descendantUserPropertyCounters[e],this.parentNode&&this.parentNode._updateDescendantUserPropertyCount(e,t)},setUserProperty:function(e,t){null!==t?(this.parentNode&&!this._userProperties.hasOwnProperty(e)&&this.parentNode._updateDescendantUserPropertyCount(e,1),this._userProperties[e]=t):this.removeUserProperty(e)},removeUserProperty:function(e){this._userProperties.hasOwnProperty(e)&&(delete this._userProperties[e],this.parentNode&&this.parentNode._updateDescendantUserPropertyCount(e,-1))},getUserProperty:function(e){return this._userProperties&&this._userProperties[e]||null},descendantUserPropertyCount:function(e){return this._descendantUserPropertyCounters&&this._descendantUserPropertyCounters[e]?this._descendantUserPropertyCounters[e]:0},resolveURL:function(e){if(!e)return e;for(var t=this;t;t=t.parentNode)if(t.baseURL)return WebInspector.ParsedURL.completeURL(t.baseURL,e);return null}},WebInspector.DOMDocument=function(e,t){WebInspector.DOMNode.call(this,e,this,!1,t),this.documentURL=t.documentURL||"",this.baseURL=t.baseURL||"",this.xmlVersion=t.xmlVersion,this._listeners={}},WebInspector.DOMDocument.prototype={__proto__:WebInspector.DOMNode.prototype},WebInspector.DOMModel=function(){this._idToDOMNode={},this._document=null,this._attributeLoadNodeIds={},InspectorBackend.registerDOMDispatcher(new WebInspector.DOMDispatcher(this)),this._defaultHighlighter=new WebInspector.DefaultDOMNodeHighlighter,this._highlighter=this._defaultHighlighter},WebInspector.DOMModel.Events={AttrModified:"AttrModified",AttrRemoved:"AttrRemoved",CharacterDataModified:"CharacterDataModified",NodeInserted:"NodeInserted",NodeRemoved:"NodeRemoved",DocumentUpdated:"DocumentUpdated",ChildNodeCountUpdated:"ChildNodeCountUpdated",UndoRedoRequested:"UndoRedoRequested",UndoRedoCompleted:"UndoRedoCompleted"},WebInspector.DOMModel.prototype={requestDocument:function(e){this._document?e&&e(this._document):this._pendingDocumentRequestCallbacks?this._pendingDocumentRequestCallbacks.push(e):(this._pendingDocumentRequestCallbacks=[e],DOMAgent.getDocument(function(e,t){e||this._setDocument(t);for(var i=0;i<this._pendingDocumentRequestCallbacks.length;++i){var n=this._pendingDocumentRequestCallbacks[i];n&&n(this._document)}delete this._pendingDocumentRequestCallbacks}.bind(this)))},existingDocument:function(){return this._document},pushNodeToFrontend:function(e,t){this._dispatchWhenDocumentAvailable(DOMAgent.requestNode.bind(DOMAgent,e),t)},pushNodeByPathToFrontend:function(e,t){this._dispatchWhenDocumentAvailable(DOMAgent.pushNodeByPathToFrontend.bind(DOMAgent,e),t)},pushNodesByBackendIdsToFrontend:function(e,t){this._dispatchWhenDocumentAvailable(DOMAgent.pushNodesByBackendIdsToFrontend.bind(DOMAgent,e),t)},_wrapClientCallback:function(e){if(e)return function(t,i){e(t?null:i)}},_dispatchWhenDocumentAvailable:function(e,t){var i=this._wrapClientCallback(t);this.requestDocument(function(){this._document?e(i):i&&i("No document")}.bind(this))},_attributeModified:function(e,t,i){var n=this._idToDOMNode[e];n&&(n._setAttribute(t,i),this.dispatchEventToListeners(WebInspector.DOMModel.Events.AttrModified,{node:n,name:t}))},_attributeRemoved:function(e,t){var i=this._idToDOMNode[e];i&&(i._removeAttribute(t),this.dispatchEventToListeners(WebInspector.DOMModel.Events.AttrRemoved,{node:i,name:t}))},_inlineStyleInvalidated:function(e){for(var t=0;t<e.length;++t)this._attributeLoadNodeIds[e[t]]=!0;"_loadNodeAttributesTimeout"in this||(this._loadNodeAttributesTimeout=setTimeout(this._loadNodeAttributes.bind(this),20))},_loadNodeAttributes:function(){function e(e,t,i){if(!t){var n=this._idToDOMNode[e];n&&n._setAttributesPayload(i)&&this.dispatchEventToListeners(WebInspector.DOMModel.Events.AttrModified,{node:n,name:"style"})}}for(var t in delete this._loadNodeAttributesTimeout,this._attributeLoadNodeIds){var i=parseInt(t,10);DOMAgent.getAttributes(i,e.bind(this,i))}this._attributeLoadNodeIds={}},_characterDataModified:function(e,t){var i=this._idToDOMNode[e];i._nodeValue=t,this.dispatchEventToListeners(WebInspector.DOMModel.Events.CharacterDataModified,i)},nodeForId:function(e){return this._idToDOMNode[e]||null},_documentUpdated:function(){this._setDocument(null)},_setDocument:function(e){this._idToDOMNode={},this._document=e&&"nodeId"in e?new WebInspector.DOMDocument(this,e):null,this.dispatchEventToListeners(WebInspector.DOMModel.Events.DocumentUpdated,this._document)},_setDetachedRoot:function(e){"#document"===e.nodeName?new WebInspector.DOMDocument(this,e):new WebInspector.DOMNode(this,null,!1,e)},_setChildNodes:function(e,t){e||!t.length?this._idToDOMNode[e]._setChildrenPayload(t):this._setDetachedRoot(t[0])},_childNodeCountUpdated:function(e,t){var i=this._idToDOMNode[e];i._childNodeCount=t,this.dispatchEventToListeners(WebInspector.DOMModel.Events.ChildNodeCountUpdated,i)},_childNodeInserted:function(e,t,i){var n=this._idToDOMNode[e],r=this._idToDOMNode[t],s=n._insertChild(r,i);this._idToDOMNode[s.id]=s,this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeInserted,s)},_childNodeRemoved:function(e,t){var i=this._idToDOMNode[e],n=this._idToDOMNode[t];i._removeChild(n),this._unbind(n),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeRemoved,{node:n,parent:i})},_shadowRootPushed:function(e,t){var i=this._idToDOMNode[e];if(i){var n=new WebInspector.DOMNode(this,i.ownerDocument,!0,t);n.parentNode=i,this._idToDOMNode[n.id]=n,i._shadowRoots.push(n),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeInserted,n)}},_shadowRootPopped:function(e,t){var i=this._idToDOMNode[e];if(i){var n=this._idToDOMNode[t];n&&(i._removeChild(n),this._unbind(n),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeRemoved,{node:n,parent:i}))}},_pseudoElementAdded:function(e,t){var i=this._idToDOMNode[e];if(i){var n=new WebInspector.DOMNode(this,i.ownerDocument,!1,t);n.parentNode=i,this._idToDOMNode[n.id]=n,console.assert(!i._pseudoElements[n.pseudoType()]),i._pseudoElements[n.pseudoType()]=n,this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeInserted,n)}},_pseudoElementRemoved:function(e,t){var i=this._idToDOMNode[e];if(i){var n=this._idToDOMNode[t];n&&(i._removeChild(n),this._unbind(n),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeRemoved,{node:n,parent:i}))}},_unbind:function(e){delete this._idToDOMNode[e.id];for(var t=0;e._children&&t<e._children.length;++t)this._unbind(e._children[t]);for(t=0;t<e._shadowRoots.length;++t)this._unbind(e._shadowRoots[t]);var i=e.pseudoElements();for(var n in i)this._unbind(i[n]);e._templateContent&&this._unbind(e._templateContent)},inspectElement:function(e){WebInspector.Revealer.reveal(this.nodeForId(e))},_inspectNodeRequested:function(e){this.inspectElement(e)},performSearch:function(e,t){this.cancelSearch(),DOMAgent.performSearch(e,function(e,i,n){this._searchId=i,t(n)}.bind(this))},searchResult:function(e,t){this._searchId?DOMAgent.getSearchResults(this._searchId,e,e+1,function(e,i){if(e)return console.error(e),void t(null);1==i.length&&t(this.nodeForId(i[0]))}.bind(this)):t(null)},cancelSearch:function(){this._searchId&&(DOMAgent.discardSearchResults(this._searchId),delete this._searchId)},querySelector:function(e,t,i){DOMAgent.querySelector(e,t,this._wrapClientCallback(i))},querySelectorAll:function(e,t,i){DOMAgent.querySelectorAll(e,t,this._wrapClientCallback(i))},highlightDOMNode:function(e,t,i){this._hideDOMNodeHighlightTimeout&&(clearTimeout(this._hideDOMNodeHighlightTimeout),delete this._hideDOMNodeHighlightTimeout),this._highlighter.highlightDOMNode(e||0,this._buildHighlightConfig(t),i)},hideDOMNodeHighlight:function(){this.highlightDOMNode(0)},highlightDOMNodeForTwoSeconds:function(e){this.highlightDOMNode(e),this._hideDOMNodeHighlightTimeout=setTimeout(this.hideDOMNodeHighlight.bind(this),2e3)},setInspectModeEnabled:function(e,t,i){this.requestDocument(function(){this._highlighter.setInspectModeEnabled(e,t,this._buildHighlightConfig(),i)}.bind(this))},_buildHighlightConfig:function(e){var t={showInfo:"all"===(e=e||"all"),showRulers:WebInspector.settings.showMetricsRulers.get()};return"all"!==e&&"content"!==e||(t.contentColor=WebInspector.Color.PageHighlight.Content.toProtocolRGBA()),"all"!==e&&"padding"!==e||(t.paddingColor=WebInspector.Color.PageHighlight.Padding.toProtocolRGBA()),"all"!==e&&"border"!==e||(t.borderColor=WebInspector.Color.PageHighlight.Border.toProtocolRGBA()),"all"!==e&&"margin"!==e||(t.marginColor=WebInspector.Color.PageHighlight.Margin.toProtocolRGBA()),"all"===e&&(t.eventTargetColor=WebInspector.Color.PageHighlight.EventTarget.toProtocolRGBA()),t},_markRevision:function(e,t){return function(e){e||this.markUndoableState(),t&&t.apply(this,arguments)}.bind(this)},emulateTouchEventObjects:function(e){e&&!this._addTouchEventsScriptInjecting?(this._addTouchEventsScriptInjecting=!0,PageAgent.addScriptToEvaluateOnLoad("("+function(){const e=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];for(var t=[window.__proto__,document.__proto__],i=0;i<e.length;++i)for(var n=0;n<t.length;++n)e[i]in t[n]||Object.defineProperty(t[n],e[i],{value:null,writable:!0,configurable:!0,enumerable:!0})}.toString()+")()",function(e,t){delete this._addTouchEventsScriptInjecting,e||(this._addTouchEventsScriptId=t)}.bind(this))):void 0!==this._addTouchEventsScriptId&&(PageAgent.removeScriptToEvaluateOnLoad(this._addTouchEventsScriptId),delete this._addTouchEventsScriptId),PageAgent.setTouchEmulationEnabled(e)},markUndoableState:function(){DOMAgent.markUndoableState()},undo:function(e){this.dispatchEventToListeners(WebInspector.DOMModel.Events.UndoRedoRequested),DOMAgent.undo(e)},redo:function(e){this.dispatchEventToListeners(WebInspector.DOMModel.Events.UndoRedoRequested),DOMAgent.redo(e)},setHighlighter:function(e){this._highlighter=e||this._defaultHighlighter},__proto__:WebInspector.Object.prototype},WebInspector.DOMDispatcher=function(e){this._domModel=e},WebInspector.DOMDispatcher.prototype={documentUpdated:function(){this._domModel._documentUpdated()},inspectNodeRequested:function(e){this._domModel._inspectNodeRequested(e)},attributeModified:function(e,t,i){this._domModel._attributeModified(e,t,i)},attributeRemoved:function(e,t){this._domModel._attributeRemoved(e,t)},inlineStyleInvalidated:function(e){this._domModel._inlineStyleInvalidated(e)},characterDataModified:function(e,t){this._domModel._characterDataModified(e,t)},setChildNodes:function(e,t){this._domModel._setChildNodes(e,t)},childNodeCountUpdated:function(e,t){this._domModel._childNodeCountUpdated(e,t)},childNodeInserted:function(e,t,i){this._domModel._childNodeInserted(e,t,i)},childNodeRemoved:function(e,t){this._domModel._childNodeRemoved(e,t)},shadowRootPushed:function(e,t){this._domModel._shadowRootPushed(e,t)},shadowRootPopped:function(e,t){this._domModel._shadowRootPopped(e,t)},pseudoElementAdded:function(e,t){this._domModel._pseudoElementAdded(e,t)},pseudoElementRemoved:function(e,t){this._domModel._pseudoElementRemoved(e,t)}},WebInspector.DOMNodeHighlighter=function(){},WebInspector.DOMNodeHighlighter.prototype={highlightDOMNode:function(e,t,i){},setInspectModeEnabled:function(e,t,i,n){}},WebInspector.DefaultDOMNodeHighlighter=function(){},WebInspector.DefaultDOMNodeHighlighter.prototype={highlightDOMNode:function(e,t,i){i||e?DOMAgent.highlightNode(t,i?void 0:e,i):DOMAgent.hideHighlight()},setInspectModeEnabled:function(e,t,i,n){DOMAgent.setInspectModeEnabled(e,t,i,n)}},WebInspector.domModel,WebInspector.evaluateForTestInFrontend=function(e,t){InspectorFrontendHost.isUnderTest()&&InspectorBackend.connection().runAfterPendingDispatches(function(){var i;try{t=t+"//# sourceURL=evaluateInWebInspector"+e+".js";var n=window.eval(t);i=void 0===n?'"<undefined>"':JSON.stringify(n)}catch(e){i=e.toString()}RuntimeAgent.evaluate("didEvaluateForTestInFrontend("+e+", "+i+")","test")})},WebInspector.Dialog=function(e,t){this._delegate=t,this._relativeToElement=e,this._glassPane=new WebInspector.GlassPane,this._glassPane.element.tabIndex=0,this._glassPane.element.addEventListener("focus",this._onGlassPaneFocus.bind(this),!1),this._element=this._glassPane.element.createChild("div"),this._element.tabIndex=0,this._element.addEventListener("focus",this._onFocus.bind(this),!1),this._element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._closeKeys=[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code],t.show(this._element),this._position(),this._delegate.focus()},WebInspector.Dialog.currentInstance=function(){return WebInspector.Dialog._instance},WebInspector.Dialog.show=function(e,t){WebInspector.Dialog._instance||(WebInspector.Dialog._instance=new WebInspector.Dialog(e,t))},WebInspector.Dialog.hide=function(){WebInspector.Dialog._instance&&WebInspector.Dialog._instance._hide()},WebInspector.Dialog.prototype={_hide:function(){this._isHiding||(this._isHiding=!0,this._delegate.willHide(),delete WebInspector.Dialog._instance,this._glassPane.dispose())},_onGlassPaneFocus:function(e){this._hide()},_onFocus:function(e){this._delegate.focus()},_position:function(){this._delegate.position(this._element,this._relativeToElement)},_onKeyDown:function(e){e.keyCode!==WebInspector.KeyboardShortcut.Keys.Tab.code?(e.keyCode===WebInspector.KeyboardShortcut.Keys.Enter.code&&this._delegate.onEnter(),this._closeKeys.indexOf(e.keyCode)>=0&&(this._hide(),e.consume(!0))):e.preventDefault()}},WebInspector.DialogDelegate=function(){this.element},WebInspector.DialogDelegate.prototype={show:function(e){e.appendChild(this.element),this.element.classList.add("dialog-contents"),e.classList.add("dialog")},position:function(e,t){var i=WebInspector.Dialog._modalHostView.element,n=t.boxInWindow(window).relativeToElement(i),r=n.x+(t.offsetWidth-e.offsetWidth)/2;r=Number.constrain(r,0,i.offsetWidth-e.offsetWidth);var s=n.y+(t.offsetHeight-e.offsetHeight)/2;s=Number.constrain(s,0,i.offsetHeight-e.offsetHeight),e.style.position="absolute",e.positionAt(r,s,i)},focus:function(){},onEnter:function(){},willHide:function(){},__proto__:WebInspector.Object.prototype},WebInspector.Dialog._modalHostView=null,WebInspector.Dialog.setModalHostView=function(e){WebInspector.Dialog._modalHostView=e},WebInspector.Dialog.modalHostView=function(){return WebInspector.Dialog._modalHostView},WebInspector.Dialog.modalHostRepositioned=function(){WebInspector.Dialog._instance&&WebInspector.Dialog._instance._position()},WebInspector.GoToLineDialog=function(e){WebInspector.DialogDelegate.call(this),this.element=document.createElement("div"),this.element.className="go-to-line-dialog",this.element.createChild("label").textContent=WebInspector.UIString("Go to line: "),this._input=this.element.createChild("input"),this._input.setAttribute("type","text"),this._input.setAttribute("size",6),this._goButton=this.element.createChild("button"),this._goButton.textContent=WebInspector.UIString("Go"),this._goButton.addEventListener("click",this._onGoClick.bind(this),!1),this._sourceFrame=e},WebInspector.GoToLineDialog.install=function(e,t){var i=WebInspector.GoToLineDialog.createShortcut();e.registerShortcuts([i],WebInspector.GoToLineDialog._show.bind(null,t))},WebInspector.GoToLineDialog._show=function(e,t){var i=e();return!!i&&(WebInspector.Dialog.show(i.element,new WebInspector.GoToLineDialog(i)),!0)},WebInspector.GoToLineDialog.createShortcut=function(){return WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Ctrl)},WebInspector.GoToLineDialog.prototype={focus:function(){WebInspector.setCurrentFocusElement(this._input),this._input.select()},_onGoClick:function(){this._applyLineNumber(),WebInspector.Dialog.hide()},_applyLineNumber:function(){var e=this._input.value,t=parseInt(e,10)-1;!isNaN(t)&&t>=0&&this._sourceFrame.revealPosition(t,0,!0)},onEnter:function(){this._applyLineNumber()},__proto__:WebInspector.DialogDelegate.prototype},WebInspector.SettingsScreen=function(e){WebInspector.HelpScreen.call(this),this.element.id="settings-screen",this._onHide=e,this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.element.classList.add("help-window-main");var t=document.createElement("div");t.className="help-window-label",t.createTextChild(WebInspector.UIString("Settings")),this._tabbedPane.element.insertBefore(t,this._tabbedPane.element.firstChild),this._tabbedPane.element.appendChild(this._createCloseButton()),this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.General,WebInspector.UIString("General"),new WebInspector.GenericSettingsTab),this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.Workspace,WebInspector.UIString("Workspace"),new WebInspector.WorkspaceSettingsTab),WebInspector.experimentsSettings.experimentsEnabled&&this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.Experiments,WebInspector.UIString("Experiments"),new WebInspector.ExperimentsSettingsTab),this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.Shortcuts,WebInspector.UIString("Shortcuts"),WebInspector.shortcutsScreen.createShortcutsTabView()),this._tabbedPane.shrinkableTabs=!1,this._tabbedPane.verticalTabLayout=!0,this._lastSelectedTabSetting=WebInspector.settings.createSetting("lastSelectedSettingsTab",WebInspector.SettingsScreen.Tabs.General),this.selectTab(this._lastSelectedTabSetting.get()),this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this)},WebInspector.SettingsScreen.regexValidator=function(e){var t;try{t=new RegExp(e)}catch(e){}return t?null:WebInspector.UIString("Invalid pattern")},WebInspector.SettingsScreen.integerValidator=function(e,t,i){var n=Number(i);return isNaN(n)?WebInspector.UIString("Invalid number format"):n<e||n>t?WebInspector.UIString("Value is out of range [%d, %d]",e,t):null},WebInspector.SettingsScreen.Tabs={General:"general",Overrides:"overrides",Workspace:"workspace",Experiments:"experiments",Shortcuts:"shortcuts"},WebInspector.SettingsScreen.prototype={selectTab:function(e){this._tabbedPane.selectTab(e)},_tabSelected:function(e){this._lastSelectedTabSetting.set(this._tabbedPane.selectedTabId)},wasShown:function(){this._tabbedPane.show(this.element),WebInspector.HelpScreen.prototype.wasShown.call(this)},isClosingKey:function(e){return[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code].indexOf(e)>=0},willHide:function(){this._onHide(),WebInspector.HelpScreen.prototype.willHide.call(this)},__proto__:WebInspector.HelpScreen.prototype},WebInspector.SettingsTab=function(e,t){WebInspector.VBox.call(this),this.element.classList.add("settings-tab-container"),t&&(this.element.id=t),this.element.createChild("header").createChild("h3").appendChild(document.createTextNode(e)),this.containerElement=this.element.createChild("div","help-container-wrapper").createChild("div","settings-tab help-content help-container")},WebInspector.SettingsTab.prototype={_appendSection:function(e){var t=this.containerElement.createChild("div","help-block");return e&&(t.createChild("div","help-section-title").textContent=e),t},_createSelectSetting:function(e,t,i){var n=document.createElement("p");n.createChild("label").textContent=e;for(var r=n.createChild("select"),s=i.get(),o=0;o<t.length;++o){var a=t[o];r.add(new Option(a[0],a[1])),s===a[1]&&(r.selectedIndex=o)}return r.addEventListener("change",function(e){i.set(t[r.selectedIndex][1])},!1),n},_createInputSetting:function(e,t,i,n,r,s){var o=document.createElement("p");o.createChild("label").textContent=e;var a=o.createChild("input");if(a.value=t.get(),a.type="text",i&&(a.className="numeric"),n&&(a.maxLength=n),r&&(a.style.width=r),s){var c=o.createChild("div");c.classList.add("field-error-message"),c.style.color="DarkRed",a.oninput=function(){var e=s(a.value);e||(e=""),c.textContent=e}}return a.addEventListener("blur",function(){t.set(i?Number(a.value):a.value)},!1),o},_createCustomSetting:function(e,t){var i=document.createElement("p"),n=document.createElement("fieldset");return n.createChild("label").textContent=e,n.appendChild(t),i.appendChild(n),i},__proto__:WebInspector.VBox.prototype},WebInspector.GenericSettingsTab=function(){WebInspector.SettingsTab.call(this,WebInspector.UIString("General"),"general-tab-content");var e=this._appendSection();e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Disable cache (while DevTools is open)"),WebInspector.settings.cacheDisabled));var t=WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Disable JavaScript"),WebInspector.settings.javaScriptDisabled);e.appendChild(t),WebInspector.settings.javaScriptDisabled.addChangeListener(this._javaScriptDisabledChanged,this),this._disableJSCheckbox=t.getElementsByTagName("input")[0];var i=this._disableJSCheckbox.parentElement.createChild("span","monospace");this._disableJSInfo=i.createChild("span","object-info-state-note hidden"),this._disableJSInfo.title=WebInspector.UIString("JavaScript is blocked on the inspected page (may be disabled in browser settings)."),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._updateScriptDisabledCheckbox,this),this._updateScriptDisabledCheckbox(),e=this._appendSection(WebInspector.UIString("Appearance"));var n=WebInspector.UIString("Split panels vertically when docked to %s",WebInspector.experimentsSettings.dockToLeft.isEnabled()?"left or right":"right");e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(n,WebInspector.settings.splitVerticallyWhenDockedToRight));var r=WebInspector.UIString("Enable %s + 1-9 shortcut to switch panels",WebInspector.isMac()?"Cmd":"Ctrl");e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(r,WebInspector.settings.shortcutPanelSwitch)),e=this._appendSection(WebInspector.UIString("Elements"));var s=this._createSelectSetting(WebInspector.UIString("Color format"),[[WebInspector.UIString("As authored"),WebInspector.Color.Format.Original],["HEX: #DAC0DE",WebInspector.Color.Format.HEX],["RGB: rgb(128, 255, 255)",WebInspector.Color.Format.RGB],["HSL: hsl(300, 80%, 90%)",WebInspector.Color.Format.HSL]],WebInspector.settings.colorFormat);e.appendChild(s),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show user agent styles"),WebInspector.settings.showUserAgentStyles)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show user agent shadow DOM"),WebInspector.settings.showUAShadowDOM)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Word wrap"),WebInspector.settings.domWordWrap)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show rulers"),WebInspector.settings.showMetricsRulers)),(e=this._appendSection(WebInspector.UIString("Sources"))).appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Search in content scripts"),WebInspector.settings.searchInContentScripts)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Enable JavaScript source maps"),WebInspector.settings.jsSourceMapsEnabled));var o=WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Enable CSS source maps"),WebInspector.settings.cssSourceMapsEnabled);e.appendChild(o);var a=WebInspector.SettingsUI.createSettingFieldset(WebInspector.settings.cssSourceMapsEnabled),c=a.createChild("input");a.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Auto-reload generated CSS"),WebInspector.settings.cssReloadEnabled,!1,c)),o.appendChild(a);var l=this._createSelectSetting(WebInspector.UIString("Default indentation"),[[WebInspector.UIString("2 spaces"),WebInspector.TextUtils.Indent.TwoSpaces],[WebInspector.UIString("4 spaces"),WebInspector.TextUtils.Indent.FourSpaces],[WebInspector.UIString("8 spaces"),WebInspector.TextUtils.Indent.EightSpaces],[WebInspector.UIString("Tab character"),WebInspector.TextUtils.Indent.TabCharacter]],WebInspector.settings.textEditorIndent);if(e.appendChild(l),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Detect indentation"),WebInspector.settings.textEditorAutoDetectIndent)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Autocompletion"),WebInspector.settings.textEditorAutocompletion)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Bracket matching"),WebInspector.settings.textEditorBracketMatching)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show whitespace characters"),WebInspector.settings.showWhitespacesInEditor)),WebInspector.experimentsSettings.frameworksDebuggingSupport.isEnabled()&&(o=WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Skip stepping through sources with particular names"),WebInspector.settings.skipStackFramesSwitch),(a=WebInspector.SettingsUI.createSettingFieldset(WebInspector.settings.skipStackFramesSwitch)).appendChild(this._createInputSetting(WebInspector.UIString("Pattern"),WebInspector.settings.skipStackFramesPattern,!1,1e3,"100px",WebInspector.SettingsScreen.regexValidator)),o.appendChild(a),e.appendChild(o)),WebInspector.settings.skipStackFramesSwitch.addChangeListener(this._skipStackFramesSwitchOrPatternChanged,this),WebInspector.settings.skipStackFramesPattern.addChangeListener(this._skipStackFramesSwitchOrPatternChanged,this),(e=this._appendSection(WebInspector.UIString("Profiler"))).appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show advanced heap snapshot properties"),WebInspector.settings.showAdvancedHeapSnapshotProperties)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("High resolution CPU profiling"),WebInspector.settings.highResolutionCpuProfiling)),(e=this._appendSection(WebInspector.UIString("Console"))).appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Log XMLHttpRequests"),WebInspector.settings.monitoringXHREnabled)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Preserve log upon navigation"),WebInspector.settings.preserveConsoleLog)),e.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show timestamps"),WebInspector.settings.consoleTimestampsEnabled)),WebInspector.openAnchorLocationRegistry.handlerNames.length>0){var d=new WebInspector.HandlerSelector(WebInspector.openAnchorLocationRegistry);(e=this._appendSection(WebInspector.UIString("Extensions"))).appendChild(this._createCustomSetting(WebInspector.UIString("Open links in"),d.element))}var h=(e=this._appendSection()).createChild("input","settings-tab-text-button");h.type="button",h.value=WebInspector.UIString("Restore defaults and reload"),h.addEventListener("click",function(){Sfdc.hasLocalStorage()&&window.localStorage.clear(),WebInspector.reload()})},WebInspector.GenericSettingsTab.prototype={_updateScriptDisabledCheckbox:function(){PageAgent.getScriptExecutionStatus(function(e,t){if(!e&&t){var i="forbidden"===t,n=i||"disabled"===t;this._disableJSInfo.classList.toggle("hidden",!i),this._disableJSCheckbox.checked=n,this._disableJSCheckbox.disabled=i}}.bind(this))},_javaScriptDisabledChanged:function(){PageAgent.setScriptExecutionDisabled(WebInspector.settings.javaScriptDisabled.get(),this._updateScriptDisabledCheckbox.bind(this))},_skipStackFramesSwitchOrPatternChanged:function(){WebInspector.debuggerModel.applySkipStackFrameSettings()},_appendDrawerNote:function(e){var t=e.createChild("div","help-field-note");t.createTextChild("Hit "),t.createChild("span","help-key").textContent="Esc",t.createTextChild(WebInspector.UIString(" or click the")),t.appendChild(new WebInspector.StatusBarButton(WebInspector.UIString("Drawer"),"console-status-bar-item").element),t.createTextChild(WebInspector.UIString("toolbar item"))},__proto__:WebInspector.SettingsTab.prototype},WebInspector.WorkspaceSettingsTab=function(){WebInspector.SettingsTab.call(this,WebInspector.UIString("Workspace"),"workspace-tab-content"),WebInspector.isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemAdded,this._fileSystemAdded,this),WebInspector.isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemRemoved,this._fileSystemRemoved,this),this._commonSection=this._appendSection(WebInspector.UIString("Common"));var e=this._createInputSetting(WebInspector.UIString("Folder exclude pattern"),WebInspector.settings.workspaceFolderExcludePattern,!1,0,"270px",WebInspector.SettingsScreen.regexValidator);this._commonSection.appendChild(e),this._fileSystemsSection=this._appendSection(WebInspector.UIString("Folders")),this._fileSystemsListContainer=this._fileSystemsSection.createChild("p","settings-list-container"),this._addFileSystemRowElement=this._fileSystemsSection.createChild("div");var t=this._addFileSystemRowElement.createChild("input","settings-tab-text-button");t.type="button",t.value=WebInspector.UIString("Add folder…"),t.addEventListener("click",this._addFileSystemClicked.bind(this)),this._editFileSystemButton=this._addFileSystemRowElement.createChild("input","settings-tab-text-button"),this._editFileSystemButton.type="button",this._editFileSystemButton.value=WebInspector.UIString("Edit…"),this._editFileSystemButton.addEventListener("click",this._editFileSystemClicked.bind(this)),this._updateEditFileSystemButtonState(),this._reset()},WebInspector.WorkspaceSettingsTab.prototype={wasShown:function(){WebInspector.SettingsTab.prototype.wasShown.call(this),this._reset()},_reset:function(){this._resetFileSystems()},_resetFileSystems:function(){this._fileSystemsListContainer.removeChildren();var e=WebInspector.isolatedFileSystemManager.mapping().fileSystemPaths();if(delete this._fileSystemsList,e.length){this._fileSystemsList=new WebInspector.SettingsList(["path"],this._renderFileSystem.bind(this)),this._fileSystemsList.element.classList.add("file-systems-list"),this._fileSystemsList.addEventListener(WebInspector.SettingsList.Events.Selected,this._fileSystemSelected.bind(this)),this._fileSystemsList.addEventListener(WebInspector.SettingsList.Events.Removed,this._fileSystemRemovedfromList.bind(this)),this._fileSystemsList.addEventListener(WebInspector.SettingsList.Events.DoubleClicked,this._fileSystemDoubleClicked.bind(this)),this._fileSystemsListContainer.appendChild(this._fileSystemsList.element);for(var t=0;t<e.length;++t)this._fileSystemsList.addItem(e[t]);this._updateEditFileSystemButtonState()}else this._fileSystemsListContainer.createChild("div","no-file-systems-message").textContent=WebInspector.UIString("You have no file systems added.")},_updateEditFileSystemButtonState:function(){this._editFileSystemButton.disabled=!this._selectedFileSystemPath()},_fileSystemSelected:function(e){this._updateEditFileSystemButtonState()},_fileSystemDoubleClicked:function(e){var t=e.data;this._editFileSystem(t)},_editFileSystemClicked:function(e){this._editFileSystem(this._selectedFileSystemPath())},_editFileSystem:function(e){WebInspector.EditFileSystemDialog.show(WebInspector.inspectorView.element,e)},_createRemoveButton:function(e){var t=document.createElement("button");return t.classList.add("button"),t.classList.add("remove-item-button"),t.value=WebInspector.UIString("Remove"),e?t.addEventListener("click",e,!1):t.disabled=!0,t},_renderFileSystem:function(e,t,i){if(!i)return"";var n=i,r=e.createChild("span","list-column-text").createChild("span","file-system-path");r.title=n;var s=n.lastIndexOf(WebInspector.isWin()?"\\":"/"),o=n.substr(s+1),a=n.substr(0,s+1);a=a.trimMiddle(55-Math.min(30,o.length)),o=o.trimMiddle(30),r.createChild("span").textContent=a,r.createChild("span","file-system-path-name").textContent=o},_fileSystemRemovedfromList:function(e){var t=e.data;t&&WebInspector.isolatedFileSystemManager.removeFileSystem(t)},_addFileSystemClicked:function(){WebInspector.isolatedFileSystemManager.addFileSystem()},_fileSystemAdded:function(e){var t=e.data;this._fileSystemsList?this._fileSystemsList.addItem(t.path()):this._reset()},_fileSystemRemoved:function(e){var t=e.data;this._selectedFileSystemPath(),this._fileSystemsList.itemForId(t.path())&&this._fileSystemsList.removeItem(t.path()),this._fileSystemsList.itemIds().length||this._reset(),this._updateEditFileSystemButtonState()},_selectedFileSystemPath:function(){return this._fileSystemsList?this._fileSystemsList.selectedId():null},__proto__:WebInspector.SettingsTab.prototype},WebInspector.ExperimentsSettingsTab=function(){WebInspector.SettingsTab.call(this,WebInspector.UIString("Experiments"),"experiments-tab-content");var e=WebInspector.experimentsSettings.experiments;if(e.length){var t=this._appendSection();t.appendChild(this._createExperimentsWarningSubsection());for(var i=0;i<e.length;++i)t.appendChild(this._createExperimentCheckbox(e[i]))}},WebInspector.ExperimentsSettingsTab.prototype={_createExperimentsWarningSubsection:function(){var e=document.createElement("div");return e.createChild("span","settings-experiments-warning-subsection-warning").textContent=WebInspector.UIString("WARNING:"),e.appendChild(document.createTextNode(" ")),e.createChild("span","settings-experiments-warning-subsection-message").textContent=WebInspector.UIString("These experiments could be dangerous and may require restart."),e},_createExperimentCheckbox:function(e){var t=document.createElement("input");t.type="checkbox",t.name=e.name,t.checked=e.isEnabled(),t.addEventListener("click",function(){e.setEnabled(t.checked)},!1);var i=document.createElement("p"),n=document.createElement("label");return n.appendChild(t),n.appendChild(document.createTextNode(WebInspector.UIString(e.title))),i.appendChild(n),i},__proto__:WebInspector.SettingsTab.prototype},WebInspector.SettingsController=function(){this._statusBarButton=new WebInspector.StatusBarButton(WebInspector.UIString("Settings"),"settings-status-bar-item"),this._statusBarButton.element.addEventListener("mouseup",this._mouseUp.bind(this),!1),this._settingsScreen},WebInspector.SettingsController.prototype={get statusBarItem(){return this._statusBarButton.element},_mouseUp:function(){this.showSettingsScreen()},_onHideSettingsScreen:function(){delete this._settingsScreenVisible},showSettingsScreen:function(e){this._settingsScreen||(this._settingsScreen=new WebInspector.SettingsScreen(this._onHideSettingsScreen.bind(this))),e&&this._settingsScreen.selectTab(e),this._settingsScreen.showModal(),this._settingsScreenVisible=!0},resize:function(){this._settingsScreen&&this._settingsScreen.isShowing()&&this._settingsScreen.doResize()}},WebInspector.SettingsController.SettingsScreenActionDelegate=function(){},WebInspector.SettingsController.SettingsScreenActionDelegate.prototype={handleAction:function(){return WebInspector.settingsController.showSettingsScreen(WebInspector.SettingsScreen.Tabs.General),!0}},WebInspector.SettingsList=function(e,t){this.element=document.createElement("div"),this.element.classList.add("settings-list"),this.element.tabIndex=-1,this._itemRenderer=t,this._listItems={},this._ids=[],this._columns=e},WebInspector.SettingsList.Events={Selected:"Selected",Removed:"Removed",DoubleClicked:"DoubleClicked"},WebInspector.SettingsList.prototype={addItem:function(e,t){var i=document.createElement("div");i._id=e,i.classList.add("settings-list-item"),void 0!==typeof t?this.element.insertBefore(i,this._listItems[t]):this.element.appendChild(i);var n=i.createChild("div","settings-list-item-contents"),r=n.createChild("div","settings-list-item-columns");i.columnElements={};for(var s=0;s<this._columns.length;++s){var o=r.createChild("div","list-column"),a=this._columns[s];i.columnElements[a]=o,this._itemRenderer(o,a,e)}var c=this._createRemoveButton(function(t){c.disabled=!0,this.removeItem(e),this.dispatchEventToListeners(WebInspector.SettingsList.Events.Removed,e),t.consume()}.bind(this));return n.addEventListener("click",this.selectItem.bind(this,e),!1),n.addEventListener("dblclick",this._onDoubleClick.bind(this,e),!1),n.appendChild(c),this._listItems[e]=i,void 0!==typeof t?this._ids.splice(this._ids.indexOf(t),0,e):this._ids.push(e),i},removeItem:function(e){this._listItems[e].remove(),delete this._listItems[e],this._ids.remove(e),e===this._selectedId&&(delete this._selectedId,this._ids.length&&this.selectItem(this._ids[0]))},itemIds:function(){return this._ids.slice()},columns:function(){return this._columns.slice()},selectedId:function(){return this._selectedId},selectedItem:function(){return this._selectedId?this._listItems[this._selectedId]:null},itemForId:function(e){return this._listItems[e]},_onDoubleClick:function(e,t){this.dispatchEventToListeners(WebInspector.SettingsList.Events.DoubleClicked,e)},selectItem:function(e,t){void 0!==this._selectedId&&this._listItems[this._selectedId].classList.remove("selected"),this._selectedId=e,void 0!==this._selectedId&&this._listItems[this._selectedId].classList.add("selected"),this.dispatchEventToListeners(WebInspector.SettingsList.Events.Selected,e),t&&t.consume()},_createRemoveButton:function(e){var t=document.createElement("button");return t.classList.add("remove-item-button"),t.value=WebInspector.UIString("Remove"),t.addEventListener("click",e,!1),t},__proto__:WebInspector.Object.prototype},WebInspector.EditableSettingsList=function(e,t,i,n){WebInspector.SettingsList.call(this,e,this._renderColumn.bind(this)),this._validateHandler=i,this._editHandler=n,this._valuesProvider=t,this._addInputElements={},this._editInputElements={},this._textElements={},this._addMappingItem=this.addItem(null),this._addMappingItem.classList.add("item-editing"),this._addMappingItem.classList.add("add-list-item")},WebInspector.EditableSettingsList.prototype={addItem:function(e,t){var i=WebInspector.SettingsList.prototype.addItem.call(this,e,t);return i.classList.add("editable"),i},_renderColumn:function(e,t,i){e.classList.add("settings-list-column-"+t);var n="url"===t?WebInspector.UIString("URL prefix"):WebInspector.UIString("Folder path");if(null===i)return(s=e.createChild("input","list-column-editor")).placeholder=n,s.addEventListener("blur",this._onAddMappingInputBlur.bind(this)),s.addEventListener("input",this._validateEdit.bind(this,i)),void(this._addInputElements[t]=s);var r=i;this._editInputElements[i]||(this._editInputElements[i]={}),this._textElements[i]||(this._textElements[i]={});var s,o=this._valuesProvider(i,t),a=e.createChild("span","list-column-text");a.textContent=o,a.title=o,e.addEventListener("click",function(e){if(i!==this._editingId){e.consume(),console.assert(!this._editingId),this._editingId=r,this.itemForId(r).classList.add("item-editing");var t=e.target.inputElement||this._editInputElements[r][this.columns()[0]];t.focus(),t.select()}}.bind(this),!1),this._textElements[i][t]=a,(s=e.createChild("input","list-column-editor")).value=o,s.addEventListener("blur",this._editMappingBlur.bind(this,i)),s.addEventListener("input",this._validateEdit.bind(this,i)),e.inputElement=s,this._editInputElements[i][t]=s},_data:function(e){for(var t=this._inputElements(e),i={},n=this.columns(),r=0;r<n.length;++r)i[n[r]]=t[n[r]].value;return i},_inputElements:function(e){return e?this._editInputElements[e]||null:this._addInputElements},_validateEdit:function(e){for(var t=this._validateHandler(e,this._data(e)),i=this._hasChanges(e),n=this.columns(),r=0;r<n.length;++r){var s=n[r],o=this._inputElements(e)[s];i&&-1!==t.indexOf(s)?o.classList.add("editable-item-error"):o.classList.remove("editable-item-error")}return!t.length},_hasChanges:function(e){for(var t=!1,i=this.columns(),n=0;n<i.length;++n){var r=i[n];if((e?this._textElements[e][r].textContent:"")!==this._inputElements(e)[r].value){t=!0;break}}return t},_editMappingBlur:function(e,t){if(-1===Object.values(this._editInputElements[e]).indexOf(t.relatedTarget)&&(this.itemForId(e).classList.remove("item-editing"),delete this._editingId,this._hasChanges(e)))if(this._validateEdit(e))this._editHandler(e,this._data(e));else for(var i=this.columns(),n=0;n<i.length;++n){var r=i[n],s=this._editInputElements[e][r];s.value=this._textElements[e][r].textContent,s.classList.remove("editable-item-error")}},_onAddMappingInputBlur:function(e){if(-1===Object.values(this._addInputElements).indexOf(e.relatedTarget)&&this._hasChanges(null)&&this._validateEdit(null)){this._editHandler(null,this._data(null));for(var t=this.columns(),i=0;i<t.length;++i){var n=t[i];this._addInputElements[n].value=""}}},__proto__:WebInspector.SettingsList.prototype},WebInspector.settingsController,WebInspector.EditFileSystemDialog=function(e){WebInspector.DialogDelegate.call(this),this._fileSystemPath=e,this.element=document.createElement("div"),this.element.className="edit-file-system-dialog";var t=this.element.createChild("div","header");t.createChild("span").textContent=WebInspector.UIString("Edit file system"),t.createChild("div","close-button-gray done-button").addEventListener("click",this._onDoneClick.bind(this),!1);var i=this.element.createChild("div","contents");WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.FileMappingAdded,this._fileMappingAdded,this),WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.FileMappingRemoved,this._fileMappingRemoved,this),WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.ExcludedFolderAdded,this._excludedFolderAdded,this),WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.ExcludedFolderRemoved,this._excludedFolderRemoved,this);var n=i.createChild("div","block-header");n.textContent=WebInspector.UIString("Mappings"),this._fileMappingsSection=i.createChild("div","section file-mappings-section"),this._fileMappingsListContainer=this._fileMappingsSection.createChild("div","settings-list-container");var r=WebInspector.isolatedFileSystemManager.mapping().mappingEntries(this._fileSystemPath);this._fileMappingsList=new WebInspector.EditableSettingsList(["url","path"],this._fileMappingValuesProvider.bind(this),this._fileMappingValidate.bind(this),this._fileMappingEdit.bind(this)),this._fileMappingsList.addEventListener(WebInspector.SettingsList.Events.Removed,this._fileMappingRemovedfromList.bind(this)),this._fileMappingsList.element.classList.add("file-mappings-list"),this._fileMappingsListContainer.appendChild(this._fileMappingsList.element),this._entries={};for(var s=0;s<r.length;++s)this._addMappingRow(r[s]);(n=i.createChild("div","block-header")).textContent=WebInspector.UIString("Excluded folders"),this._excludedFolderListSection=i.createChild("div","section excluded-folders-section"),this._excludedFolderListContainer=this._excludedFolderListSection.createChild("div","settings-list-container");var o=WebInspector.isolatedFileSystemManager.mapping().excludedFolders(e);for(this._excludedFolderList=new WebInspector.EditableSettingsList(["path"],this._excludedFolderValueProvider.bind(this),this._excludedFolderValidate.bind(this),this._excludedFolderEdit.bind(this)),this._excludedFolderList.addEventListener(WebInspector.SettingsList.Events.Removed,this._excludedFolderRemovedfromList.bind(this)),this._excludedFolderList.element.classList.add("excluded-folders-list"),this._excludedFolderListContainer.appendChild(this._excludedFolderList.element),this._excludedFolderEntries=new StringMap,s=0;s<o.length;++s)this._addExcludedFolderRow(o[s]);this.element.tabIndex=0},WebInspector.EditFileSystemDialog.show=function(e,t){WebInspector.Dialog.show(e,new WebInspector.EditFileSystemDialog(t)),document.getElementById("glass-pane").classList.add("settings-glass-pane")},WebInspector.EditFileSystemDialog.prototype={show:function(e){e.appendChild(this.element),this.element.classList.add("dialog-contents"),e.classList.add("settings-dialog"),e.classList.add("settings-tab"),this._dialogElement=e},_resize:function(){if(this._dialogElement&&this._relativeToElement){var e=this._relativeToElement.offsetHeight-10;e=Math.max(150,e);var t=Math.min(540,this._relativeToElement.offsetWidth-10);t=Math.max(200,t),this._dialogElement.style.maxHeight=e+"px",this._dialogElement.style.width=t+"px",WebInspector.DialogDelegate.prototype.position(this._dialogElement,this._relativeToElement)}},position:function(e,t){this._relativeToElement=t,this._resize()},willHide:function(e){},_fileMappingAdded:function(e){var t=e.data;this._addMappingRow(t)},_fileMappingRemoved:function(e){var t=e.data;this._fileSystemPath===t.fileSystemPath&&(delete this._entries[t.urlPrefix],this._fileMappingsList.itemForId(t.urlPrefix)&&this._fileMappingsList.removeItem(t.urlPrefix),this._resize())},_fileMappingValuesProvider:function(e,t){if(!e)return"";var i=this._entries[e];switch(t){case"url":return i.urlPrefix;case"path":return i.pathPrefix;default:console.assert("Should not be reached.")}return""},_fileMappingValidate:function(e,t){var i=e?this._entries[e].pathPrefix:null;return this._validateMapping(t.url,e,t.path,i)},_fileMappingEdit:function(e,t){if(e){var i=e,n=this._entries[e].pathPrefix,r=this._entries[e].fileSystemPath;WebInspector.isolatedFileSystemManager.mapping().removeFileMapping(r,i,n)}this._addFileMapping(t.url,t.path)},_validateMapping:function(e,t,i,n){var r=[];return this._checkURLPrefix(e,t)||r.push("url"),this._checkPathPrefix(i,n)||r.push("path"),r},_fileMappingRemovedfromList:function(e){var t=e.data;if(t){var i=this._entries[t];WebInspector.isolatedFileSystemManager.mapping().removeFileMapping(i.fileSystemPath,i.urlPrefix,i.pathPrefix)}},_addFileMapping:function(e,t){var i=this._normalizePrefix(e),n=this._normalizePrefix(t);return WebInspector.isolatedFileSystemManager.mapping().addFileMapping(this._fileSystemPath,i,n),this._fileMappingsList.selectItem(i),!0},_normalizePrefix:function(e){return e?e+("/"===e[e.length-1]?"":"/"):""},_addMappingRow:function(e){var t=e.fileSystemPath,i=e.urlPrefix;this._fileSystemPath&&this._fileSystemPath===t&&(this._entries[i]=e,this._fileMappingsList.addItem(i,null),this._resize())},_excludedFolderAdded:function(e){var t=e.data;this._addExcludedFolderRow(t)},_excludedFolderRemoved:function(e){var t=e.data,i=t.fileSystemPath;i&&this._fileSystemPath===i&&(delete this._excludedFolderEntries[t.path],this._excludedFolderList.itemForId(t.path)&&this._excludedFolderList.removeItem(t.path))},_excludedFolderValueProvider:function(e,t){return e},_excludedFolderValidate:function(e,t){this._fileSystemPath;var i=[];return this._validateExcludedFolder(t.path,e)||i.push("path"),i},_validateExcludedFolder:function(e,t){return!(!e||e!==t&&this._excludedFolderEntries.contains(e))},_excludedFolderEdit:function(e,t){var i=this._fileSystemPath;e&&WebInspector.isolatedFileSystemManager.mapping().removeExcludedFolder(i,e);var n=t.path;WebInspector.isolatedFileSystemManager.mapping().addExcludedFolder(i,n)},_excludedFolderRemovedfromList:function(e){var t=e.data;t&&WebInspector.isolatedFileSystemManager.mapping().removeExcludedFolder(this._fileSystemPath,t)},_addExcludedFolderRow:function(e){var t=e.fileSystemPath;if(t&&this._fileSystemPath===t){var i=e.path;this._excludedFolderEntries.put(i,e),this._excludedFolderList.addItem(i,null),this._resize()}},_checkURLPrefix:function(e,t){var i=this._normalizePrefix(e);return!(!i||i!==t&&this._entries[i])},_checkPathPrefix:function(e,t){var i=this._normalizePrefix(e);if(!i)return!1;if(i===t)return!0;for(var n in this._entries){var r=this._entries[n];if(n&&r.pathPrefix===i)return!1}return!0},focus:function(){WebInspector.setCurrentFocusElement(this.element)},_onDoneClick:function(){WebInspector.Dialog.hide()},onEnter:function(){},__proto__:WebInspector.DialogDelegate.prototype},WebInspector.ShortcutsScreen=function(){this._sections={}},WebInspector.ShortcutsScreen.prototype={section:function(e){var t=this._sections[e];return t||(this._sections[e]=t=new WebInspector.ShortcutsSection(e)),t},createShortcutsTabView:function(){var e=[];for(var t in this._sections)e.push(this._sections[t]);e.sort(function(e,t){return e.order-t.order});var i=new WebInspector.View;i.element.className="settings-tab-container",i.element.createChild("header").createChild("h3").appendChild(document.createTextNode(WebInspector.UIString("Shortcuts")));var n=i.element.createChild("div","help-container-wrapper"),r=n.createChild("div");r.className="help-content help-container";for(var s=0;s<e.length;++s)e[s].renderSection(r);var o=n.createChild("p","help-footnote").createChild("a");return o.href="https://developers.google.com/chrome-developer-tools/docs/shortcuts",o.target="_blank",o.createTextChild(WebInspector.UIString("Full list of keyboard shortcuts and gestures")),i}},WebInspector.shortcutsScreen,WebInspector.ShortcutsSection=function(e){this.name=e,this._lines=[],this.order=++WebInspector.ShortcutsSection._sequenceNumber},WebInspector.ShortcutsSection._sequenceNumber=0,WebInspector.ShortcutsSection.prototype={addKey:function(e,t){this._addLine(this._renderKey(e),t)},addRelatedKeys:function(e,t){this._addLine(this._renderSequence(e,"/"),t)},addAlternateKeys:function(e,t){this._addLine(this._renderSequence(e,WebInspector.UIString("or")),t)},_addLine:function(e,t){this._lines.push({key:e,text:t})},renderSection:function(e){var t=e.createChild("div","help-block"),i=t.createChild("div","help-line");i.createChild("div","help-key-cell"),i.createChild("div","help-section-title help-cell").textContent=this.name;for(var n=0;n<this._lines.length;++n){var r=t.createChild("div","help-line"),s=r.createChild("div","help-key-cell");s.appendChild(this._lines[n].key),s.appendChild(this._createSpan("help-key-delimiter",":")),r.createChild("div","help-cell").textContent=this._lines[n].text}},_renderSequence:function(e,t){var i=this._createSpan("help-key-delimiter",t);return this._joinNodes(e.map(this._renderKey.bind(this)),i)},_renderKey:function(e){var t=e.name,i=this._createSpan("help-combine-keys","+");return this._joinNodes(t.split(" + ").map(this._createSpan.bind(this,"help-key")),i)},_createSpan:function(e,t){var i=document.createElement("span");return i.className=e,i.textContent=t,i},_joinNodes:function(e,t){for(var i=document.createDocumentFragment(),n=0;n<e.length;++n)n>0&&i.appendChild(t.cloneNode(!0)),i.appendChild(e[n]);return i}},WebInspector.ShortcutsScreen.registerShortcuts=function(){var e=WebInspector.shortcutsScreen.section(WebInspector.UIString("Elements Panel")),t=WebInspector.ShortcutsScreen.ElementsPanelShortcuts.NavigateUp.concat(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.NavigateDown);e.addRelatedKeys(t,WebInspector.UIString("Navigate elements"));var i=WebInspector.ShortcutsScreen.ElementsPanelShortcuts.Expand.concat(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.Collapse);e.addRelatedKeys(i,WebInspector.UIString("Expand/collapse")),e.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.EditAttribute,WebInspector.UIString("Edit attribute")),e.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.HideElement,WebInspector.UIString("Hide element")),e.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.ToggleEditAsHTML,WebInspector.UIString("Toggle edit as HTML"));var n=WebInspector.shortcutsScreen.section(WebInspector.UIString("Styles Pane")),r=WebInspector.ShortcutsScreen.ElementsPanelShortcuts.NextProperty.concat(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.PreviousProperty);n.addRelatedKeys(r,WebInspector.UIString("Next/previous property")),n.addRelatedKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementValue,WebInspector.UIString("Increment value")),n.addRelatedKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementValue,WebInspector.UIString("Decrement value")),n.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy10,WebInspector.UIString("Increment by %f",10)),n.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy10,WebInspector.UIString("Decrement by %f",10)),n.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy100,WebInspector.UIString("Increment by %f",100)),n.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy100,WebInspector.UIString("Decrement by %f",100)),n.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy01,WebInspector.UIString("Increment by %f",.1)),n.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy01,WebInspector.UIString("Decrement by %f",.1));var s=WebInspector.shortcutsScreen.section(WebInspector.UIString("Sources Panel"));s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.PauseContinue,WebInspector.UIString("Pause/Continue")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.StepOver,WebInspector.UIString("Step over")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.StepInto,WebInspector.UIString("Step into")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.StepOut,WebInspector.UIString("Step out"));var o=WebInspector.ShortcutsScreen.SourcesPanelShortcuts.NextCallFrame.concat(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.PrevCallFrame);s.addRelatedKeys(o,WebInspector.UIString("Next/previous call frame")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.EvaluateSelectionInConsole,WebInspector.UIString("Evaluate selection in console")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.AddSelectionToWatch,WebInspector.UIString("Add selection to watch")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.GoToMember,WebInspector.UIString("Go to member")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.GoToLine,WebInspector.UIString("Go to line")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.ToggleBreakpoint,WebInspector.UIString("Toggle breakpoint")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.ToggleComment,WebInspector.UIString("Toggle comment")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.CloseEditorTab,WebInspector.UIString("Close editor tab")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.IncreaseCSSUnitByOne,WebInspector.UIString("Increment CSS unit by 1")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.DecreaseCSSUnitByOne,WebInspector.UIString("Decrement CSS unit by 1")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.IncreaseCSSUnitByTen,WebInspector.UIString("Increment CSS unit by 10")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.DecreaseCSSUnitByTen,WebInspector.UIString("Decrement CSS unit by 10")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.JumpToPreviousLocation,WebInspector.UIString("Jump to previous editing location")),s.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.JumpToNextLocation,WebInspector.UIString("Jump to next editing location")),(s=WebInspector.shortcutsScreen.section(WebInspector.UIString("Timeline Panel"))).addAlternateKeys(WebInspector.ShortcutsScreen.TimelinePanelShortcuts.StartStopRecording,WebInspector.UIString("Start/stop recording")),s.addAlternateKeys(WebInspector.ShortcutsScreen.TimelinePanelShortcuts.SaveToFile,WebInspector.UIString("Save timeline data")),s.addAlternateKeys(WebInspector.ShortcutsScreen.TimelinePanelShortcuts.LoadFromFile,WebInspector.UIString("Load timeline data")),(s=WebInspector.shortcutsScreen.section(WebInspector.UIString("Profiles Panel"))).addAlternateKeys(WebInspector.ShortcutsScreen.ProfilesPanelShortcuts.StartStopRecording,WebInspector.UIString("Start/stop recording"))},WebInspector.ShortcutsScreen.ElementsPanelShortcuts={NavigateUp:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up)],NavigateDown:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down)],Expand:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Right)],Collapse:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Left)],EditAttribute:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Enter)],HideElement:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.H)],ToggleEditAsHTML:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F2)],NextProperty:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Tab)],PreviousProperty:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Tab,WebInspector.KeyboardShortcut.Modifiers.Shift)],IncrementValue:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up)],DecrementValue:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down)],IncrementBy10:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up,WebInspector.KeyboardShortcut.Modifiers.Shift)],DecrementBy10:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down,WebInspector.KeyboardShortcut.Modifiers.Shift)],IncrementBy100:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp,WebInspector.KeyboardShortcut.Modifiers.Shift)],DecrementBy100:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown,WebInspector.KeyboardShortcut.Modifiers.Shift)],IncrementBy01:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp,WebInspector.KeyboardShortcut.Modifiers.Alt)],DecrementBy01:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown,WebInspector.KeyboardShortcut.Modifiers.Alt)]},WebInspector.ShortcutsScreen.SourcesPanelShortcuts={IncreaseCSSUnitByOne:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up,WebInspector.KeyboardShortcut.Modifiers.Alt)],DecreaseCSSUnitByOne:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down,WebInspector.KeyboardShortcut.Modifiers.Alt)],IncreaseCSSUnitByTen:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp,WebInspector.KeyboardShortcut.Modifiers.Alt)],DecreaseCSSUnitByTen:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown,WebInspector.KeyboardShortcut.Modifiers.Alt)],RunSnippet:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Enter,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],PauseContinue:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F8),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Backslash,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],StepOver:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F10),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.SingleQuote,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],StepInto:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F11),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Semicolon,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],StepOut:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F11,WebInspector.KeyboardShortcut.Modifiers.Shift),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Semicolon,WebInspector.KeyboardShortcut.Modifiers.Shift|WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],EvaluateSelectionInConsole:[WebInspector.KeyboardShortcut.makeDescriptor("e",WebInspector.KeyboardShortcut.Modifiers.Shift|WebInspector.KeyboardShortcut.Modifiers.Ctrl)],AddSelectionToWatch:[WebInspector.KeyboardShortcut.makeDescriptor("a",WebInspector.KeyboardShortcut.Modifiers.Shift|WebInspector.KeyboardShortcut.Modifiers.Ctrl)],GoToMember:[WebInspector.KeyboardShortcut.makeDescriptor("o",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta|WebInspector.KeyboardShortcut.Modifiers.Shift)],GoToLine:[WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Ctrl)],ToggleBreakpoint:[WebInspector.KeyboardShortcut.makeDescriptor("b",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],NextCallFrame:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Period,WebInspector.KeyboardShortcut.Modifiers.Ctrl)],PrevCallFrame:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Comma,WebInspector.KeyboardShortcut.Modifiers.Ctrl)],ToggleComment:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Slash,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],JumpToPreviousLocation:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Minus,WebInspector.KeyboardShortcut.Modifiers.Alt)],JumpToNextLocation:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Plus,WebInspector.KeyboardShortcut.Modifiers.Alt)],CloseEditorTab:[WebInspector.KeyboardShortcut.makeDescriptor("w",WebInspector.KeyboardShortcut.Modifiers.Alt)],Save:[WebInspector.KeyboardShortcut.makeDescriptor("s",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)]},WebInspector.ShortcutsScreen.TimelinePanelShortcuts={StartStopRecording:[WebInspector.KeyboardShortcut.makeDescriptor("e",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],SaveToFile:[WebInspector.KeyboardShortcut.makeDescriptor("s",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],LoadFromFile:[WebInspector.KeyboardShortcut.makeDescriptor("o",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)]},WebInspector.ShortcutsScreen.ProfilesPanelShortcuts={StartStopRecording:[WebInspector.KeyboardShortcut.makeDescriptor("e",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)]},WebInspector.HAREntry=function(e){this._request=e},WebInspector.HAREntry.prototype={build:function(){var e={startedDateTime:new Date(1e3*this._request.startTime),time:this._request.timing?WebInspector.HAREntry._toMilliseconds(this._request.duration):0,request:this._buildRequest(),response:this._buildResponse(),cache:{},timings:this._buildTimings()};this._request.connectionId&&(e.connection=String(this._request.connectionId));var t=WebInspector.networkLog.pageLoadForRequest(this._request);return t&&(e.pageref="page_"+t.id),e},_buildRequest:function(){var e=this._request.requestHeadersText(),t={method:this._request.requestMethod,url:this._buildRequestURL(this._request.url),httpVersion:this._request.requestHttpVersion(),headers:this._request.requestHeaders(),queryString:this._buildParameters(this._request.queryParameters||[]),cookies:this._buildCookies(this._request.requestCookies||[]),headersSize:e?e.length:-1,bodySize:this.requestBodySize};return this._request.requestFormData&&(t.postData=this._buildPostData()),t},_buildResponse:function(){var e=this._request.responseHeadersText;return{status:this._request.statusCode,statusText:this._request.statusText,httpVersion:this._request.responseHttpVersion,headers:this._request.responseHeaders,cookies:this._buildCookies(this._request.responseCookies||[]),content:this._buildContent(),redirectURL:this._request.responseHeaderValue("Location")||"",headersSize:e?e.length:-1,bodySize:this.responseBodySize,_error:this._request.localizedFailDescription}},_buildContent:function(){var e={size:this._request.resourceSize,mimeType:this._request.mimeType||"x-unknown"},t=this.responseCompression;return"number"==typeof t&&(e.compression=t),e},_buildTimings:function(){var e=this._request.timing;if(!e)return{blocked:-1,dns:-1,connect:-1,send:0,wait:0,receive:0,ssl:-1};function t(e){for(var t=0;t<e.length;++t)if(e[t]>=0)return e[t];console.assert(!1,"Incomplete requet timing information.")}var i=t([e.dnsStart,e.connectStart,e.sendStart]),n=-1;e.dnsStart>=0&&(n=t([e.connectStart,e.sendStart])-e.dnsStart);var r=-1;e.connectStart>=0&&(r=e.sendStart-e.connectStart);var s=e.sendEnd-e.sendStart,o=e.receiveHeadersEnd-e.sendEnd,a=WebInspector.HAREntry._toMilliseconds(this._request.duration)-e.receiveHeadersEnd,c=-1;return e.sslStart>=0&&e.sslEnd>=0&&(c=e.sslEnd-e.sslStart),{blocked:i,dns:n,connect:r,send:s,wait:o,receive:a,ssl:c}},_buildPostData:function(){var e={mimeType:this._request.requestContentType(),text:this._request.requestFormData};return this._request.formParameters&&(e.params=this._buildParameters(this._request.formParameters)),e},_buildParameters:function(e){return e.slice()},_buildRequestURL:function(e){return e.split("#",2)[0]},_buildCookies:function(e){return e.map(this._buildCookie.bind(this))},_buildCookie:function(e){return{name:e.name(),value:e.value(),path:e.path(),domain:e.domain(),expires:e.expiresDate(new Date(1e3*this._request.startTime)),httpOnly:e.httpOnly(),secure:e.secure()}},get requestBodySize(){return this._request.requestFormData?this._request.requestFormData.length:0},get responseBodySize(){return this._request.cached||304===this._request.statusCode?0:this._request.responseHeadersText?this._request.transferSize-this._request.responseHeadersText.length:-1},get responseCompression(){if(!this._request.cached&&304!==this._request.statusCode&&206!==this._request.statusCode&&this._request.responseHeadersText)return this._request.resourceSize-this.responseBodySize}},WebInspector.HAREntry._toMilliseconds=function(e){return-1===e?-1:1e3*e},WebInspector.HARLog=function(e){this._requests=e},WebInspector.HARLog.prototype={build:function(){return{version:"1.2",creator:this._creator(),pages:this._buildPages(),entries:this._requests.map(this._convertResource.bind(this))}},_creator:function(){var e=/AppleWebKit\/([^ ]+)/.exec(window.navigator.userAgent);return{name:"WebInspector",version:e?e[1]:"n/a"}},_buildPages:function(){for(var e={},t=[],i=0;i<this._requests.length;++i){var n=WebInspector.networkLog.pageLoadForRequest(this._requests[i]);n&&!e[n.id]&&(e[n.id]=!0,t.push(this._convertPage(n)))}return t},_convertPage:function(e){return{startedDateTime:new Date(1e3*e.startTime),id:"page_"+e.id,title:e.url,pageTimings:{onContentLoad:this._pageEventTime(e,e.contentLoadTime),onLoad:this._pageEventTime(e,e.loadTime)}}},_convertResource:function(e){return new WebInspector.HAREntry(e).build()},_pageEventTime:function(e,t){var i=e.startTime;return-1===t||-1===i?-1:WebInspector.HAREntry._toMilliseconds(t-i)}},WebInspector.HARWriter=function(){},WebInspector.HARWriter.prototype={write:function(e,t,i){this._stream=e,this._harLog=new WebInspector.HARLog(t).build(),this._pendingRequests=1;for(var n=this._harLog.entries,r=0;r<n.length;++r){var s=t[r].content;void 0===s&&t[r].finished?(++this._pendingRequests,t[r].requestContent(this._onContentAvailable.bind(this,n[r]))):null!==s&&(n[r].response.content.text=s)}var o=new WebInspector.CompositeProgress(i);this._writeProgress=o.createSubProgress(),--this._pendingRequests?(this._requestsProgress=o.createSubProgress(),this._requestsProgress.setTitle(WebInspector.UIString("Collecting contentâ€¦")),this._requestsProgress.setTotalWork(this._pendingRequests)):this._beginWrite()},_onContentAvailable:function(e,t){null!==t&&(e.response.content.text=t),this._requestsProgress&&this._requestsProgress.worked(),--this._pendingRequests||(this._requestsProgress.done(),this._beginWrite())},_beginWrite:function(){this._text=JSON.stringify({log:this._harLog},null,2),this._writeProgress.setTitle(WebInspector.UIString("Writing fileâ€¦")),this._writeProgress.setTotalWork(this._text.length),this._bytesWritten=0,this._writeNextChunk(this._stream)},_writeNextChunk:function(e,t){if(this._bytesWritten>=this._text.length||t)return e.close(),void this._writeProgress.done();var i=this._text.substring(this._bytesWritten,this._bytesWritten+1e5);this._bytesWritten+=i.length,e.write(i,this._writeNextChunk.bind(this)),this._writeProgress.setWorked(this._bytesWritten)}},WebInspector.CookieParser=function(){},WebInspector.CookieParser.KeyValue=function(e,t,i){this.key=e,this.value=t,this.position=i},WebInspector.CookieParser.prototype={cookies:function(){return this._cookies},parseCookie:function(e){if(!this._initialize(e))return null;for(var t=this._extractKeyValue();t;t=this._extractKeyValue())"$"===t.key.charAt(0)&&this._lastCookie?this._lastCookie.addAttribute(t.key.slice(1),t.value):"$version"!==t.key.toLowerCase()&&"string"==typeof t.value&&this._addCookie(t,WebInspector.Cookie.Type.Request),this._advanceAndCheckCookieDelimiter();return this._flushCookie(),this._cookies},parseSetCookie:function(e){if(!this._initialize(e))return null;for(var t=this._extractKeyValue();t;t=this._extractKeyValue())this._lastCookie?this._lastCookie.addAttribute(t.key,t.value):this._addCookie(t,WebInspector.Cookie.Type.Response),this._advanceAndCheckCookieDelimiter()&&this._flushCookie();return this._flushCookie(),this._cookies},_initialize:function(e){return this._input=e,"string"==typeof e&&(this._cookies=[],this._lastCookie=null,this._originalInputLength=this._input.length,!0)},_flushCookie:function(){this._lastCookie&&this._lastCookie.setSize(this._originalInputLength-this._input.length-this._lastCookiePosition),this._lastCookie=null},_extractKeyValue:function(){if(!this._input||!this._input.length)return null;var e=/^[ \t]*([^\s=;]+)[ \t]*(?:=[ \t]*([^;\n]*))?/.exec(this._input);if(!e)return console.log("Failed parsing cookie header before: "+this._input),null;var t=new WebInspector.CookieParser.KeyValue(e[1],e[2]&&e[2].trim(),this._originalInputLength-this._input.length);return this._input=this._input.slice(e[0].length),t},_advanceAndCheckCookieDelimiter:function(){var e=/^\s*[\n;]\s*/.exec(this._input);return!!e&&(this._input=this._input.slice(e[0].length),null!==e[0].match("\n"))},_addCookie:function(e,t){this._lastCookie&&this._lastCookie.setSize(e.position-this._lastCookiePosition),this._lastCookie="string"==typeof e.value?new WebInspector.Cookie(e.key,e.value,t):new WebInspector.Cookie("",e.key,t),this._lastCookiePosition=e.position,this._cookies.push(this._lastCookie)}},WebInspector.CookieParser.parseCookie=function(e){return(new WebInspector.CookieParser).parseCookie(e)},WebInspector.CookieParser.parseSetCookie=function(e){return(new WebInspector.CookieParser).parseSetCookie(e)},WebInspector.Cookie=function(e,t,i){this._name=e,this._value=t,this._type=i,this._attributes={}},WebInspector.Cookie.prototype={name:function(){return this._name},value:function(){return this._value},type:function(){return this._type},httpOnly:function(){return"httponly"in this._attributes},secure:function(){return"secure"in this._attributes},session:function(){return!("expires"in this._attributes||"max-age"in this._attributes)},path:function(){return this._attributes.path},port:function(){return this._attributes.port},domain:function(){return this._attributes.domain},expires:function(){return this._attributes.expires},maxAge:function(){return this._attributes["max-age"]},size:function(){return this._size},setSize:function(e){this._size=e},expiresDate:function(e){if(this.maxAge()){var t=null===e?new Date:e;return new Date(t.getTime()+1e3*this.maxAge())}return this.expires()?new Date(this.expires()):null},attributes:function(){return this._attributes},addAttribute:function(e,t){this._attributes[e.toLowerCase()]=t},remove:function(e){PageAgent.deleteCookie(this.name(),(this.secure()?"https://":"http://")+this.domain()+this.path(),e)}},WebInspector.Cookie.Type={Request:0,Response:1},WebInspector.Cookies={},WebInspector.Cookies.getCookiesAsync=function(e){PageAgent.getCookies(function(t,i){t||e(i.map(WebInspector.Cookies.buildCookieProtocolObject))})},WebInspector.Cookies.buildCookieProtocolObject=function(e){var t=new WebInspector.Cookie(e.name,e.value,null);return t.addAttribute("domain",e.domain),t.addAttribute("path",e.path),t.addAttribute("port",e.port),e.expires&&t.addAttribute("expires",e.expires),e.httpOnly&&t.addAttribute("httpOnly"),e.secure&&t.addAttribute("secure"),t.setSize(e.size),t},WebInspector.Cookies.cookieMatchesResourceURL=function(e,t){var i=t.asParsedURL();return!(!i||!WebInspector.Cookies.cookieDomainMatchesResourceDomain(e.domain(),i.host))&&i.path.startsWith(e.path())&&(!e.port()||i.port==e.port())&&(!e.secure()||"https"===i.scheme)},WebInspector.Cookies.cookieDomainMatchesResourceDomain=function(e,t){return"."!==e.charAt(0)?t===e:!!t.match(new RegExp("^([^\\.]+\\.)*"+e.substring(1).escapeForRegExp()+"$","i"))},WebInspector.SearchableView=function(e){WebInspector.VBox.call(this),this._searchProvider=e,this.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._footerElementContainer=this.element.createChild("div","search-bar status-bar hidden"),this._footerElementContainer.style.order=100,this._footerElement=this._footerElementContainer.createChild("table","toolbar-search"),this._footerElement.cellSpacing=0,this._firstRowElement=this._footerElement.createChild("tr"),this._secondRowElement=this._footerElement.createChild("tr","hidden");var t=this._firstRowElement.createChild("td");this._searchControlElement=t.createChild("span","toolbar-search-control"),this._searchInputElement=this._searchControlElement.createChild("input","search-replace"),this._searchInputElement.id="search-input-field",this._searchInputElement.placeholder=WebInspector.UIString("Find"),this._matchesElement=this._searchControlElement.createChild("label","search-results-matches"),this._matchesElement.setAttribute("for","search-input-field"),this._searchNavigationElement=this._searchControlElement.createChild("div","toolbar-search-navigation-controls"),this._searchNavigationPrevElement=this._searchNavigationElement.createChild("div","toolbar-search-navigation toolbar-search-navigation-prev"),this._searchNavigationPrevElement.addEventListener("click",this._onPrevButtonSearch.bind(this),!1),this._searchNavigationPrevElement.title=WebInspector.UIString("Search Previous"),this._searchNavigationNextElement=this._searchNavigationElement.createChild("div","toolbar-search-navigation toolbar-search-navigation-next"),this._searchNavigationNextElement.addEventListener("click",this._onNextButtonSearch.bind(this),!1),this._searchNavigationNextElement.title=WebInspector.UIString("Search Next"),this._searchInputElement.addEventListener("mousedown",this._onSearchFieldManualFocus.bind(this),!1),this._searchInputElement.addEventListener("keydown",this._onSearchKeyDown.bind(this),!0),this._searchInputElement.addEventListener("input",this._onInput.bind(this),!1),this._replaceInputElement=this._secondRowElement.createChild("td").createChild("input","search-replace toolbar-replace-control"),this._replaceInputElement.addEventListener("keydown",this._onReplaceKeyDown.bind(this),!0),this._replaceInputElement.placeholder=WebInspector.UIString("Replace"),this._findButtonElement=this._firstRowElement.createChild("td").createChild("button","hidden"),this._findButtonElement.textContent=WebInspector.UIString("Find"),this._findButtonElement.tabIndex=-1,this._findButtonElement.addEventListener("click",this._onNextButtonSearch.bind(this),!1),this._replaceButtonElement=this._secondRowElement.createChild("td").createChild("button"),this._replaceButtonElement.textContent=WebInspector.UIString("Replace"),this._replaceButtonElement.disabled=!0,this._replaceButtonElement.tabIndex=-1,this._replaceButtonElement.addEventListener("click",this._replace.bind(this),!1),this._prevButtonElement=this._firstRowElement.createChild("td").createChild("button","hidden"),this._prevButtonElement.textContent=WebInspector.UIString("Previous"),this._prevButtonElement.disabled=!0,this._prevButtonElement.tabIndex=-1,this._prevButtonElement.addEventListener("click",this._onPrevButtonSearch.bind(this),!1),this._replaceAllButtonElement=this._secondRowElement.createChild("td").createChild("button"),this._replaceAllButtonElement.textContent=WebInspector.UIString("Replace All"),this._replaceAllButtonElement.addEventListener("click",this._replaceAll.bind(this),!1),this._replaceElement=this._firstRowElement.createChild("td").createChild("span"),this._replaceCheckboxElement=this._replaceElement.createChild("input"),this._replaceCheckboxElement.type="checkbox",this._replaceCheckboxElement.id="search-replace-trigger",this._replaceCheckboxElement.addEventListener("change",this._updateSecondRowVisibility.bind(this),!1),this._replaceLabelElement=this._replaceElement.createChild("label"),this._replaceLabelElement.textContent=WebInspector.UIString("Replace"),this._replaceLabelElement.setAttribute("for","search-replace-trigger");var i=this._firstRowElement.createChild("td").createChild("button");i.textContent=WebInspector.UIString("Cancel"),i.tabIndex=-1,i.addEventListener("click",this.closeSearch.bind(this),!1),this._minimalSearchQuerySize=3,this._registerShortcuts()},WebInspector.SearchableView.findShortcuts=function(){return WebInspector.SearchableView._findShortcuts?WebInspector.SearchableView._findShortcuts:(WebInspector.SearchableView._findShortcuts=[WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],WebInspector.isMac()||WebInspector.SearchableView._findShortcuts.push(WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F3)),WebInspector.SearchableView._findShortcuts)},WebInspector.SearchableView.cancelSearchShortcuts=function(){return WebInspector.SearchableView._cancelSearchShortcuts?WebInspector.SearchableView._cancelSearchShortcuts:(WebInspector.SearchableView._cancelSearchShortcuts=[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Esc)],WebInspector.SearchableView._cancelSearchShortcuts)},WebInspector.SearchableView.findNextShortcut=function(){return WebInspector.SearchableView._findNextShortcut?WebInspector.SearchableView._findNextShortcut:(WebInspector.SearchableView._findNextShortcut=[],WebInspector.isMac()&&WebInspector.SearchableView._findNextShortcut.push(WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Meta)),WebInspector.SearchableView._findNextShortcut)},WebInspector.SearchableView.findPreviousShortcuts=function(){return WebInspector.SearchableView._findPreviousShortcuts?WebInspector.SearchableView._findPreviousShortcuts:(WebInspector.SearchableView._findPreviousShortcuts=[],WebInspector.isMac()&&WebInspector.SearchableView._findPreviousShortcuts.push(WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Meta|WebInspector.KeyboardShortcut.Modifiers.Shift)),WebInspector.SearchableView._findPreviousShortcuts)},WebInspector.SearchableView.prototype={_onKeyDown:function(e){var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),i=this._shortcuts[t];i&&i(e)&&e.consume(!0)},_registerShortcuts:function(){function e(e,t){for(var i=0;i<e.length;++i)this._shortcuts[e[i].key]=t}this._shortcuts={},e.call(this,WebInspector.SearchableView.findShortcuts(),this.handleFindShortcut.bind(this)),e.call(this,WebInspector.SearchableView.cancelSearchShortcuts(),this.handleCancelSearchShortcut.bind(this)),e.call(this,WebInspector.SearchableView.findNextShortcut(),this.handleFindNextShortcut.bind(this)),e.call(this,WebInspector.SearchableView.findPreviousShortcuts(),this.handleFindPreviousShortcut.bind(this))},setMinimalSearchQuerySize:function(e){this._minimalSearchQuerySize=e},setReplaceable:function(e){this._replaceable=e},updateSearchMatchesCount:function(e){this._searchProvider.currentSearchMatches=e,this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentQuery?e:0,-1)},updateCurrentMatchIndex:function(e){this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentSearchMatches,e)},isSearchVisible:function(){return this._searchIsVisible},closeSearch:function(){this.cancelSearch(),WebInspector.currentFocusElement().isDescendant(this._footerElementContainer)&&WebInspector.setCurrentFocusElement(WebInspector.previousFocusElement())},_toggleSearchBar:function(e){this._footerElementContainer.classList.toggle("hidden",!e),this.doResize()},cancelSearch:function(){this._searchIsVisible&&(this.resetSearch(),delete this._searchIsVisible,this._toggleSearchBar(!1))},resetSearch:function(){this._clearSearch(),this._updateReplaceVisibility(),this._matchesElement.textContent=""},handleFindNextShortcut:function(){return!!this._searchIsVisible&&(this._searchProvider.jumpToNextSearchResult(),!0)},handleFindPreviousShortcut:function(){return!!this._searchIsVisible&&(this._searchProvider.jumpToPreviousSearchResult(),!0)},handleFindShortcut:function(){return this.showSearchField(),!0},handleCancelSearchShortcut:function(){return!!this._searchIsVisible&&(this.closeSearch(),!0)},_updateSearchNavigationButtonState:function(e){this._replaceButtonElement.disabled=!e,this._prevButtonElement.disabled=!e,e?(this._searchNavigationPrevElement.classList.add("enabled"),this._searchNavigationNextElement.classList.add("enabled")):(this._searchNavigationPrevElement.classList.remove("enabled"),this._searchNavigationNextElement.classList.remove("enabled"))},_updateSearchMatchesCountAndCurrentMatchIndex:function(e,t){this._currentQuery?this._matchesElement.textContent=0===e||t>=0?WebInspector.UIString("%d of %d",t+1,e):1===e?WebInspector.UIString("1 match"):WebInspector.UIString("%d matches",e):this._matchesElement.textContent="",this._updateSearchNavigationButtonState(e>0)},showSearchField:function(){if(this._searchIsVisible&&this.cancelSearch(),this._toggleSearchBar(!0),this._updateReplaceVisibility(),WebInspector.currentFocusElement()!==this._searchInputElement){var e=window.getSelection();if(e.rangeCount){var t=e.toString().replace(/\r?\n.*/,"");t&&(this._searchInputElement.value=t)}}this._performSearch(!1,!1),this._searchInputElement.focus(),this._searchInputElement.select(),this._searchIsVisible=!0},_updateReplaceVisibility:function(){this._replaceElement.classList.toggle("hidden",!this._replaceable),this._replaceable||(this._replaceCheckboxElement.checked=!1,this._updateSecondRowVisibility())},_onSearchFieldManualFocus:function(e){WebInspector.setCurrentFocusElement(e.target)},_onSearchKeyDown:function(e){isEnterKey(e)&&(this._currentQuery?this._jumpToNextSearchResult(e.shiftKey):this._performSearch(!0,!0))},_onReplaceKeyDown:function(e){isEnterKey(e)&&this._replace()},_jumpToNextSearchResult:function(e){this._currentQuery&&this._searchNavigationPrevElement.classList.contains("enabled")&&(e?this._searchProvider.jumpToPreviousSearchResult():this._searchProvider.jumpToNextSearchResult())},_onNextButtonSearch:function(e){this._searchNavigationNextElement.classList.contains("enabled")&&(this._jumpToNextSearchResult(),this._searchInputElement.focus())},_onPrevButtonSearch:function(e){this._searchNavigationPrevElement.classList.contains("enabled")&&(this._jumpToNextSearchResult(!0),this._searchInputElement.focus())},_clearSearch:function(){delete this._currentQuery,this._searchProvider.currentQuery&&(delete this._searchProvider.currentQuery,this._searchProvider.searchCanceled()),this._updateSearchMatchesCountAndCurrentMatchIndex(0,-1)},_performSearch:function(e,t){var i=this._searchInputElement.value;!i||!e&&i.length<this._minimalSearchQuerySize&&!this._currentQuery?this._clearSearch():(this._currentQuery=i,this._searchProvider.currentQuery=i,this._searchProvider.performSearch(i,t))},_updateSecondRowVisibility:function(){var e=this._replaceCheckboxElement.checked;this._footerElementContainer.classList.toggle("replaceable",e),this._footerElement.classList.toggle("toolbar-search-replace",e),this._secondRowElement.classList.toggle("hidden",!e),this._prevButtonElement.classList.toggle("hidden",!e),this._findButtonElement.classList.toggle("hidden",!e),this._replaceCheckboxElement.tabIndex=e?-1:0,e?this._replaceInputElement.focus():this._searchInputElement.focus(),this.doResize()},_replace:function(){this._searchProvider.replaceSelectionWith(this._replaceInputElement.value),delete this._currentQuery,this._performSearch(!0,!0)},_replaceAll:function(){this._searchProvider.replaceAllWith(this._searchInputElement.value,this._replaceInputElement.value)},_onInput:function(e){this._onValueChanged()},_onValueChanged:function(){this._performSearch(!1,!0)},__proto__:WebInspector.VBox.prototype},WebInspector.Searchable=function(){},WebInspector.Searchable.prototype={searchCanceled:function(){},performSearch:function(e,t){},jumpToNextSearchResult:function(){},jumpToPreviousSearchResult:function(){}},WebInspector.Replaceable=function(){},WebInspector.Replaceable.prototype={replaceSelectionWith:function(e){},replaceAllWith:function(e,t){}},WebInspector.FilterBar=function(){this._filtersShown=!1,this._element=document.createElement("div"),this._element.className="hbox",this._filterButton=new WebInspector.StatusBarButton(WebInspector.UIString("Filter"),"filters-toggle",3),this._filterButton.element.addEventListener("click",this._handleFilterButtonClick.bind(this),!1),this._filters=[]},WebInspector.FilterBar.Events={FiltersToggled:"FiltersToggled"},WebInspector.FilterBar.FilterBarState={Inactive:"inactive",Active:"active",Shown:"shown"},WebInspector.FilterBar.prototype={setName:function(e){this._stateSetting=WebInspector.settings.createSetting("filterBar-"+e+"-toggled",!1),this._setState(this._stateSetting.get())},filterButton:function(){return this._filterButton},filtersElement:function(){return this._element},filtersToggled:function(){return this._filtersShown},addFilter:function(e){this._filters.push(e),this._element.appendChild(e.element()),e.addEventListener(WebInspector.FilterUI.Events.FilterChanged,this._filterChanged,this),this._updateFilterButton()},_filterChanged:function(e){this._updateFilterButton()},_filterBarState:function(){if(this._filtersShown)return WebInspector.FilterBar.FilterBarState.Shown;for(var e=0;e<this._filters.length;++e)if(this._filters[e].isActive())return WebInspector.FilterBar.FilterBarState.Active;return WebInspector.FilterBar.FilterBarState.Inactive},_updateFilterButton:function(){this._filterButton.state=this._filterBarState()},_handleFilterButtonClick:function(e){this._setState(!this._filtersShown)},_setState:function(e){if(this._filtersShown!==e&&(this._filtersShown=e,this._stateSetting&&this._stateSetting.set(e),this._updateFilterButton(),this.dispatchEventToListeners(WebInspector.FilterBar.Events.FiltersToggled,this._filtersShown),this._filtersShown))for(var t=0;t<this._filters.length;++t)this._filters[t]instanceof WebInspector.TextFilterUI&&this._filters[t].focus()},clear:function(){this._element.removeChildren(),this._filters=[],this._updateFilterButton()},__proto__:WebInspector.Object.prototype},WebInspector.FilterUI=function(){},WebInspector.FilterUI.Events={FilterChanged:"FilterChanged"},WebInspector.FilterUI.prototype={isActive:function(){},element:function(){}},WebInspector.TextFilterUI=function(e){this._supportRegex=!!e,this._regex=null,this._filterElement=document.createElement("div"),this._filterElement.className="filter-text-filter",this._filterInputElement=this._filterElement.createChild("input","search-replace toolbar-replace-control"),this._filterInputElement.placeholder=WebInspector.UIString("Filter"),this._filterInputElement.id="filter-input-field",this._filterInputElement.addEventListener("mousedown",this._onFilterFieldManualFocus.bind(this),!1),this._filterInputElement.addEventListener("input",this._onInput.bind(this),!1),this._filterInputElement.addEventListener("change",this._onChange.bind(this),!1),this._filterInputElement.addEventListener("keydown",this._onInputKeyDown.bind(this),!0),this._filterInputElement.addEventListener("blur",this._onBlur.bind(this),!0),this._suggestionBuilder=null,this._suggestBox=new WebInspector.SuggestBox(this,this._filterElement),this._supportRegex&&(this._filterElement.classList.add("supports-regex"),this._regexCheckBox=this._filterElement.createChild("input"),this._regexCheckBox.type="checkbox",this._regexCheckBox.id="text-filter-regex",this._regexCheckBox.addEventListener("change",this._onInput.bind(this),!1),this._regexLabel=this._filterElement.createChild("label"),this._regexLabel.htmlFor="text-filter-regex",this._regexLabel.textContent=WebInspector.UIString("Regex"))},WebInspector.TextFilterUI.prototype={isActive:function(){return!!this._filterInputElement.value},element:function(){return this._filterElement},value:function(){return this._filterInputElement.value},setValue:function(e){this._filterInputElement.value=e,this._valueChanged(!1)},regex:function(){return this._regex},_onFilterFieldManualFocus:function(e){WebInspector.setCurrentFocusElement(e.target)},_onBlur:function(e){this._cancelSuggestion()},_cancelSuggestion:function(){this._suggestionBuilder&&this._suggestBox.visible&&(this._suggestionBuilder.unapplySuggestion(this._filterInputElement),this._suggestBox.hide())},_onInput:function(e){this._valueChanged(!0)},_onChange:function(e){this._valueChanged(!1)},focus:function(){this._filterInputElement.focus()},setSuggestionBuilder:function(e){this._cancelSuggestion(),this._suggestionBuilder=e},_updateSuggestions:function(){if(this._suggestionBuilder){var e=this._suggestionBuilder.buildSuggestions(this._filterInputElement);e&&e.length?(this._suppressSuggestion?delete this._suppressSuggestion:this._suggestionBuilder.applySuggestion(this._filterInputElement,e[0],!0),this._suggestBox.updateSuggestions(null,e,0,!0,"")):this._suggestBox.hide()}},_valueChanged:function(e){e?this._updateSuggestions():this._suggestBox.hide();var t=this.value();if(this._regex=null,this._filterInputElement.classList.remove("filter-text-invalid"),t)if(this._supportRegex&&this._regexCheckBox.checked)try{this._regex=new RegExp(t,"i")}catch(e){this._filterInputElement.classList.add("filter-text-invalid")}else this._regex=createPlainTextSearchRegex(t,"i");this._dispatchFilterChanged()},_dispatchFilterChanged:function(){this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},_onInputKeyDown:function(e){var t=!1;return"U+0008"===e.keyIdentifier?this._suppressSuggestion=!0:this._suggestBox.visible()&&("U+001B"===e.keyIdentifier?(this._cancelSuggestion(),t=!0):"U+0009"===e.keyIdentifier?(this._suggestBox.acceptSuggestion(),this._valueChanged(!0),t=!0):t=this._suggestBox.keyPressed(e)),t&&e.consume(!0),t},applySuggestion:function(e,t){this._suggestionBuilder&&(this._suggestionBuilder.applySuggestion(this._filterInputElement,e,!!t),t&&this._dispatchFilterChanged())},acceptSuggestion:function(){this._filterInputElement.scrollLeft=this._filterInputElement.scrollWidth,this._valueChanged(!0)},__proto__:WebInspector.Object.prototype},WebInspector.TextFilterUI.SuggestionBuilder=function(){},WebInspector.TextFilterUI.SuggestionBuilder.prototype={buildSuggestions:function(e){},applySuggestion:function(e,t,i){},unapplySuggestion:function(e){}},WebInspector.NamedBitSetFilterUI=function(e,t){this._filtersElement=document.createElement("div"),this._filtersElement.className="filter-bitset-filter status-bar-item",this._filtersElement.title=WebInspector.UIString("Use %s Click to select multiple types.",WebInspector.KeyboardShortcut.shortcutToString("",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)),this._allowedTypes={},this._typeFilterElements={},this._addBit(WebInspector.NamedBitSetFilterUI.ALL_TYPES,WebInspector.UIString("All")),this._filtersElement.createChild("div","filter-bitset-filter-divider");for(var i=0;i<e.length;++i)this._addBit(e[i].name,e[i].label);t?(this._setting=t,t.addChangeListener(this._settingChanged.bind(this)),this._settingChanged()):this._toggleTypeFilter(WebInspector.NamedBitSetFilterUI.ALL_TYPES,!1)},WebInspector.NamedBitSetFilterUI.Item,WebInspector.NamedBitSetFilterUI.ALL_TYPES="all",WebInspector.NamedBitSetFilterUI.prototype={isActive:function(){return!this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]},element:function(){return this._filtersElement},accept:function(e){return!!this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]||!!this._allowedTypes[e]},_settingChanged:function(){var e=this._setting.get();for(var t in this._allowedTypes={},this._typeFilterElements)e[t]&&(this._allowedTypes[t]=!0);this._update()},_update:function(){for(var e in(0===Object.keys(this._allowedTypes).length||this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES])&&(this._allowedTypes={},this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]=!0),this._typeFilterElements)this._typeFilterElements[e].classList.toggle("selected",this._allowedTypes[e]);this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},_addBit:function(e,t){var i=this._filtersElement.createChild("li",e);i.typeName=e,i.createTextChild(t),i.addEventListener("click",this._onTypeFilterClicked.bind(this),!1),this._typeFilterElements[e]=i},_onTypeFilterClicked:function(e){var t;t=WebInspector.isMac()?e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey:e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey,this._toggleTypeFilter(e.target.typeName,t)},_toggleTypeFilter:function(e,t){t&&e!==WebInspector.NamedBitSetFilterUI.ALL_TYPES?this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]=!1:this._allowedTypes={},this._allowedTypes[e]=!this._allowedTypes[e],this._setting?this._setting.set(this._allowedTypes):this._update()},__proto__:WebInspector.Object.prototype},WebInspector.ComboBoxFilterUI=function(e){this._filterElement=document.createElement("div"),this._filterElement.className="filter-combobox-filter",this._options=e,this._filterComboBox=new WebInspector.StatusBarComboBox(this._filterChanged.bind(this));for(var t=0;t<e.length;++t){var i=e[t],n=document.createElement("option");n.text=i.label,n.title=i.title,this._filterComboBox.addOption(n),this._filterComboBox.element.title=this._filterComboBox.selectedOption().title}this._filterElement.appendChild(this._filterComboBox.element)},WebInspector.ComboBoxFilterUI.prototype={isActive:function(){return 0!==this._filterComboBox.selectedIndex()},element:function(){return this._filterElement},value:function(e){return this._options[this._filterComboBox.selectedIndex()].value},setSelectedIndex:function(e){this._filterComboBox.setSelectedIndex(e)},selectedIndex:function(e){return this._filterComboBox.selectedIndex()},_filterChanged:function(e){var t=this._options[this._filterComboBox.selectedIndex()];this._filterComboBox.element.title=t.title,this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},__proto__:WebInspector.Object.prototype},WebInspector.CheckboxFilterUI=function(e,t,i,n){this._filterElement=document.createElement("div"),this._filterElement.classList.add("filter-checkbox-filter","filter-checkbox-filter-"+e),this._activeWhenChecked=!!i,this._createCheckbox(t),n?(this._setting=n,n.addChangeListener(this._settingChanged.bind(this)),this._settingChanged()):(this._checked=!this._activeWhenChecked,this._update())},WebInspector.CheckboxFilterUI.prototype={isActive:function(){return this._activeWhenChecked===this._checked},element:function(){return this._filterElement},checked:function(){return this._checked},setState:function(e){this._checked=e,this._update()},_update:function(){this._checkElement.classList.toggle("checkbox-filter-checkbox-checked",this._checked),this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},_settingChanged:function(){this._checked=this._setting.get(),this._update()},_onClick:function(e){this._checked=!this._checked,this._setting?this._setting.set(this._checked):this._update()},_createCheckbox:function(e){var t=this._filterElement.createChild("label"),i=t.createChild("div","checkbox-filter-checkbox");this._checkElement=i.createChild("div","checkbox-filter-checkbox-check"),this._filterElement.addEventListener("click",this._onClick.bind(this),!1),t.createChild("span","type").textContent=e},__proto__:WebInspector.Object.prototype},WebInspector.FilterSuggestionBuilder=function(e){this._keys=e,this._valueSets={},this._valueLists={}},WebInspector.FilterSuggestionBuilder.prototype={buildSuggestions:function(e){var t=e.value;if(e.selectionEnd!=t.length)return null;var i=e.selectionStart,n=(t=t.substring(0,i)).lastIndexOf(" ")+1,r=t.substring(n);if(!r)return[];var s=r.indexOf(":"),o=[];if(-1===s)for(var a=0;a<this._keys.length;++a)this._keys[a].startsWith(r)&&o.push(this._keys[a]+":");else for(var c=r.substring(0,s),l=r.substring(s+1),d=this._values(c),h=0;h<d.length;++h)d[h].startsWith(l)&&d[h]!==l&&o.push(c+":"+d[h]);return o},applySuggestion:function(e,t,i){var n=e.value,r=e.selectionStart,s=(n=n.substring(0,r)).lastIndexOf(" ")+1;n=n.substring(0,s)+t,e.value=n,i||(r=n.length),e.setSelectionRange(r,n.length)},unapplySuggestion:function(e){var t=e.selectionStart,i=e.selectionEnd,n=e.value;t!==i&&i===n.length&&(e.value=n.substring(0,t))},_values:function(e){var t=this._valueLists[e];return t?(t.sort(),t):[]},addItem:function(e,t){if(t){var i=this._valueSets[e],n=this._valueLists[e];i||(i={},this._valueSets[e]=i,n=[],this._valueLists[e]=n),i[t]||(i[t]=!0,n.push(t))}},parseQuery:function(e){for(var t,i={},n=[],r=0,s=0;;){var o=e.indexOf(":",r);if(-1==o){(t=e.substring(s))&&n.push(t);break}var a=e.lastIndexOf(" ",o),c=e.substring(a+1,o);if(-1!=this._keys.indexOf(c)){(t=a>s?e.substring(s,a):"")&&n.push(t);var l=e.indexOf(" ",o+1);if(-1==l){i[c]=e.substring(o+1);break}i[c]=e.substring(o+1,l),s=r=l+1}else r=o+1}return{text:n,filters:i}}},WebInspector.InspectElementModeController=function(){this.toggleSearchButton=new WebInspector.StatusBarButton(WebInspector.UIString("Select an element in the page to inspect it."),"node-search-status-bar-item"),this.toggleSearchButton.addEventListener("click",this.toggleSearch,this),this._shortcut=WebInspector.InspectElementModeController.createShortcut()},WebInspector.InspectElementModeController.createShortcut=function(){return WebInspector.KeyboardShortcut.makeDescriptor("c",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta|WebInspector.KeyboardShortcut.Modifiers.Shift)},WebInspector.InspectElementModeController.prototype={enabled:function(){return this.toggleSearchButton.toggled},disable:function(){this.enabled()&&this.toggleSearch()},toggleSearch:function(){var e=!this.enabled();WebInspector.domModel.setInspectModeEnabled(e,WebInspector.settings.showUAShadowDOM.get(),function(t){t||(this.toggleSearchButton.toggled=e)}.bind(this))},handleShortcut:function(e){return WebInspector.KeyboardShortcut.makeKeyFromEvent(e)===this._shortcut.key&&(this.toggleSearch(),e.consume(!0),!0)}},WebInspector.inspectElementModeController,WebInspector.WorkerManager=function(e,t){this._reset(),e.registerWorkerDispatcher(new WebInspector.WorkerDispatcher(this)),t&&(WorkerAgent.enable(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._mainFrameNavigated,this))},WebInspector.WorkerManager.Events={WorkerAdded:"WorkerAdded",WorkerRemoved:"WorkerRemoved",WorkersCleared:"WorkersCleared",WorkerSelectionChanged:"WorkerSelectionChanged",WorkerDisconnected:"WorkerDisconnected",MessageFromWorker:"MessageFromWorker"},WebInspector.WorkerManager.MainThreadId=0,WebInspector.WorkerManager.prototype={_reset:function(){this._threadUrlByThreadId={},this._threadUrlByThreadId[WebInspector.WorkerManager.MainThreadId]=WebInspector.UIString("Thread: Main"),this._threadsList=[WebInspector.WorkerManager.MainThreadId],this._selectedThreadId=WebInspector.WorkerManager.MainThreadId},_workerCreated:function(e,t,i){this._threadsList.push(e),this._threadUrlByThreadId[e]=t,this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkerAdded,{workerId:e,url:t,inspectorConnected:i})},_workerTerminated:function(e){this._threadsList.remove(e),delete this._threadUrlByThreadId[e],this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkerRemoved,e)},_dispatchMessageFromWorker:function(e,t){this.dispatchEventToListeners(WebInspector.WorkerManager.Events.MessageFromWorker,{workerId:e,message:t})},_disconnectedFromWorker:function(){this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkerDisconnected)},_mainFrameNavigated:function(e){this._reset(),this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkersCleared)},threadsList:function(){return this._threadsList},threadUrl:function(e){return this._threadUrlByThreadId[e]},setSelectedThreadId:function(e){this._selectedThreadId=e},selectedThreadId:function(){return this._selectedThreadId},__proto__:WebInspector.Object.prototype},WebInspector.WorkerDispatcher=function(e){this._workerManager=e},WebInspector.WorkerDispatcher.prototype={workerCreated:function(e,t,i){this._workerManager._workerCreated(e,t,i)},workerTerminated:function(e){this._workerManager._workerTerminated(e)},dispatchMessageFromWorker:function(e,t){this._workerManager._dispatchMessageFromWorker(e,t)},disconnectedFromWorker:function(){this._workerManager._disconnectedFromWorker()}},WebInspector.workerManager,WebInspector.ExternalWorkerConnection=function(e,t){InspectorBackendClass.Connection.call(this),this._workerId=e,window.addEventListener("message",this._processMessage.bind(this),!0),t(this)},WebInspector.ExternalWorkerConnection.prototype={_processMessage:function(e){if(e){var t=e.data;this.dispatch(t)}},sendMessage:function(e){window.opener.postMessage({workerId:this._workerId,command:"sendMessageToBackend",message:e},"*")},__proto__:InspectorBackendClass.Connection.prototype},WebInspector.WorkerFrontendManager=function(){this._workerIdToWindow={},WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerAdded,this._workerAdded,this),WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerRemoved,this._workerRemoved,this),WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkersCleared,this._workersCleared,this),WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.MessageFromWorker,this._sendMessageToWorkerInspector,this),window.addEventListener("message",this._handleMessage.bind(this),!0)},WebInspector.WorkerFrontendManager.prototype={_workerAdded:function(e){var t=e.data;t.inspectorConnected&&this._openInspectorWindow(t.workerId,!0)},_workerRemoved:function(e){var t=e.data;this.closeWorkerInspector(t.workerId)},_workersCleared:function(){for(var e in this._workerIdToWindow)this.closeWorkerInspector(e)},_handleMessage:function(e){var t=e.data,i=t.workerId;i=parseInt(i,10);var n=t.command,r=t.message;"sendMessageToBackend"==n&&WorkerAgent.sendMessageToWorker(i,r)},_sendMessageToWorkerInspector:function(e){var t=e.data,i=this._workerIdToWindow[t.workerId];i&&i.postMessage(t.message,"*")},openWorkerInspector:function(e){var t=this._workerIdToWindow[e];t?t.focus():(this._openInspectorWindow(e,!1),WorkerAgent.connectToWorker(e))},_openInspectorWindow:function(e,t){var i=window.location.search,n=window.location.hash,r=window.location.href;r=r.replace(n,""),r+=(i?"&dedicatedWorkerId=":"?dedicatedWorkerId=")+e,t&&(r+="&workerPaused=true"),r=(r=r.replace("docked=true&","")).replace("can_dock=true&",""),r+=n;var s=WebInspector.settings.workerInspectorWidth.get(),o=WebInspector.settings.workerInspectorHeight.get(),a=window.open(r,void 0,"location=0,width="+s+",height="+o);a.addEventListener("resize",this._onWorkerInspectorResize.bind(this,a),!1),this._workerIdToWindow[e]=a,a.addEventListener("beforeunload",this._workerInspectorClosing.bind(this,e),!0),window.addEventListener("unload",this._pageInspectorClosing.bind(this),!0)},closeWorkerInspector:function(e){var t=this._workerIdToWindow[e];t&&t.close()},_onWorkerInspectorResize:function(e){var t=e.document;WebInspector.settings.workerInspectorWidth.set(t.width),WebInspector.settings.workerInspectorHeight.set(t.height)},_workerInspectorClosing:function(e,t){"about:blank"!==t.target.location.href&&(this._ignoreWorkerInspectorClosing||(delete this._workerIdToWindow[e],WorkerAgent.disconnectFromWorker(e)))},_pageInspectorClosing:function(){for(var e in this._ignoreWorkerInspectorClosing=!0,this._workerIdToWindow)this._workerIdToWindow[e].close(),WorkerAgent.disconnectFromWorker(parseInt(e,10))}},WebInspector.workerFrontendManager=null,WebInspector.WorkerTargetManager=function(e,t){this._mainTarget=e,this._targetManager=t,e.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerAdded,this._onWorkerAdded,this)},WebInspector.WorkerTargetManager.prototype={_onWorkerAdded:function(e){var t=e.data;function i(e){e.runtimeModel.addWorkerContextList(t.url)}new WebInspector.WorkerConnection(this._mainTarget,t.workerId,function(e){this._targetManager.createTarget(e,i)}.bind(this))}},WebInspector.WorkerConnection=function(e,t,i){InspectorBackendClass.Connection.call(this),this._workerId=t,this._workerAgent=e.workerAgent(),this._workerAgent.connectToWorker(t,i.bind(null,this)),e.workerManager.addEventListener(WebInspector.WorkerManager.Events.MessageFromWorker,this._dispatchMessageFromWorker,this)},WebInspector.WorkerConnection.prototype={_dispatchMessageFromWorker:function(e){var t=e.data;t.workerId===this._workerId&&this.dispatch(t.message)},sendMessage:function(e){this._workerAgent.sendMessageToWorker(this._workerId,e)},__proto__:InspectorBackendClass.Connection.prototype},WebInspector.UserMetrics=function(){for(var e in WebInspector.UserMetrics._ActionCodes){var t=WebInspector.UserMetrics._ActionCodes[e];this[e]=new WebInspector.UserMetrics._Recorder(t)}},WebInspector.UserMetrics._ActionCodes={WindowDocked:1,WindowUndocked:2,ScriptsBreakpointSet:3,TimelineStarted:4,ProfilesCPUProfileTaken:5,ProfilesHeapProfileTaken:6,AuditsStarted:7,ConsoleEvaluated:8},WebInspector.UserMetrics._PanelCodes={elements:1,resources:2,network:3,scripts:4,timeline:5,profiles:6,audits:7,console:8},WebInspector.UserMetrics.UserAction="UserAction",WebInspector.UserMetrics.UserActionNames={ForcedElementState:"forcedElementState",FileSaved:"fileSaved",RevertRevision:"revertRevision",ApplyOriginalContent:"applyOriginalContent",TogglePrettyPrint:"togglePrettyPrint",SetBreakpoint:"setBreakpoint",OpenSourceLink:"openSourceLink",NetworkSort:"networkSort",NetworkRequestSelected:"networkRequestSelected",NetworkRequestTabSelected:"networkRequestTabSelected",HeapSnapshotFilterChanged:"heapSnapshotFilterChanged"},WebInspector.UserMetrics.prototype={panelShown:function(e){InspectorFrontendHost.recordPanelShown(WebInspector.UserMetrics._PanelCodes[e]||0)}},WebInspector.UserMetrics._Recorder=function(e){this._actionCode=e},WebInspector.UserMetrics._Recorder.prototype={record:function(){InspectorFrontendHost.recordActionTaken(this._actionCode)}},WebInspector.userMetrics=new WebInspector.UserMetrics,WebInspector.RuntimeModel=function(e){e.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameAdded,this._frameAdded,this),e.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,this._frameNavigated,this),e.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this._frameDetached,this),e.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded,this._didLoadCachedResources,this),this._target=e,this._debuggerModel=e.debuggerModel,this._agent=e.runtimeAgent(),this._contextListById={}},WebInspector.RuntimeModel.Events={ExecutionContextListAdded:"ExecutionContextListAdded",ExecutionContextListRemoved:"ExecutionContextListRemoved"},WebInspector.RuntimeModel.prototype={addWorkerContextList:function(e){console.assert(this._target.isWorkerTarget(),"Worker context list was added in a non-worker target");var t=new WebInspector.WorkerExecutionContextList("worker",e);this._addContextList(t);var i=new WebInspector.ExecutionContext(void 0,e,!0);t._addExecutionContext(i)},setCurrentExecutionContext:function(e){this._currentExecutionContext=e},currentExecutionContext:function(){return this._currentExecutionContext},contextLists:function(){return Object.values(this._contextListById)},contextListByFrame:function(e){return this._contextListById[e.id]},_frameAdded:function(e){console.assert(!this._target.isWorkerTarget(),"Frame was added in a worker target.t");var t=e.data,i=new WebInspector.FrameExecutionContextList(t);this._addContextList(i)},_addContextList:function(e){this._contextListById[e.id()]=e,this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextListAdded,e)},_frameNavigated:function(e){console.assert(!this._target.isWorkerTarget(),"Frame was navigated in worker's target");var t=e.data,i=this._contextListById[t.id];i&&i._frameNavigated(t)},_frameDetached:function(e){console.assert(!this._target.isWorkerTarget(),"Frame was detached in worker's target");var t=e.data,i=this._contextListById[t.id];i&&(this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextListRemoved,i),delete this._contextListById[t.id])},_didLoadCachedResources:function(){this._target.registerRuntimeDispatcher(new WebInspector.RuntimeDispatcher(this)),this._agent.enable()},_executionContextCreated:function(e){var t=this._contextListById[e.frameId];console.assert(t),t._addExecutionContext(new WebInspector.ExecutionContext(e.id,e.name,e.isPageContext))},evaluate:function(e,t,i,n,r,s,o){this._debuggerModel.selectedCallFrame()?this._debuggerModel.evaluateOnSelectedCallFrame(e,t,i,n,r,s,o):(e||(e="this"),this._agent.evaluate(e,t,i,n,this._currentExecutionContext?this._currentExecutionContext.id:void 0,r,s,function(e,t,i){e?o(null,!1):r?o(null,!!i,i?null:t):o(WebInspector.RemoteObject.fromPayload(t,this._target),!!i)}.bind(this)))},completionsForTextPrompt:function(e,t,i,n){var r=t.startContainer.rangeOfWord(t.startOffset," =:[({;,!+-*/&|^<>",e,"backward").toString(),s=t.toString();this._completionsForExpression(r,s,i,n)},_completionsForExpression:function(e,t,i,n){var r=e.length-1,s="."===e[r],o="["===e[r];function a(i){if(this._agent.releaseObjectGroup("completion"),i){if(!s&&!o){const e=["dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear","getEventListeners","debug","undebug","monitor","unmonitor","table","$","$$","$x"];for(var r=0;r<e.length;++r)i[e[r]]=!0}this._reportCompletions(n,s,o,e,t,Object.keys(i))}else n([])}(s||o)&&(e=e.substr(0,r)),e&&parseInt(e,10)==e?n([]):t||e||i?!e&&this._debuggerModel.selectedCallFrame()?this._debuggerModel.getSelectedCallFrameVariables(a.bind(this)):this.evaluate(e,"completion",!0,!0,!1,!1,function(e,t){function i(e){for(var t={},i="string"===e?new String(""):"number"===e?new Number(0):"boolean"===e?new Boolean(!1):this;i;i=i.__proto__)try{for(var n=Object.getOwnPropertyNames(i),r=0;r<n.length;++r)t[n[r]]=!0}catch(e){}return t}e&&!t?"object"===e.type||"function"===e.type?e.callFunctionJSON(i,void 0,a.bind(this)):"string"!==e.type&&"number"!==e.type&&"boolean"!==e.type||this.evaluate("("+i+')("'+e.type+'")',"completion",!1,!0,!0,!1,function(e,t,i){i&&!t?a.call(this,i.value):n([])}.bind(this)):n([])}.bind(this)):n([])},_reportCompletions:function(e,t,i,n,r,s){if(i)if(r.length&&"'"===r[0])var o="'";else o='"';var a=[];if(!n){const e=["break","case","catch","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with"];s=s.concat(e)}s.sort();for(var c=0;c<s.length;++c){var l=s[c];t&&!/^[a-zA-Z_$\u008F-\uFFFF][a-zA-Z0-9_$\u008F-\uFFFF]*$/.test(l)||(i&&(/^[0-9]+$/.test(l)||(l=o+l.escapeCharacters(o+"\\")+o),l+="]"),l.length<r.length||r.length&&!l.startsWith(r)||a.push(l))}e(a)},__proto__:WebInspector.Object.prototype},WebInspector.runtimeModel,WebInspector.RuntimeDispatcher=function(e){this._runtimeModel=e},WebInspector.RuntimeDispatcher.prototype={executionContextCreated:function(e){this._runtimeModel._executionContextCreated(e)}},WebInspector.ExecutionContext=function(e,t,i){this.id=e,this.name=i&&!t?"<page context>":t,this.isMainWorldContext=i},WebInspector.ExecutionContext.comparator=function(e,t){return e.isMainWorldContext?-1:t.isMainWorldContext?1:e.name.localeCompare(t.name)},WebInspector.ExecutionContextList=function(){this._executionContexts=[]},WebInspector.ExecutionContextList.EventTypes={Reset:"Reset",ContextAdded:"ContextAdded"},WebInspector.ExecutionContextList.prototype={_reset:function(){this._executionContexts=[],this.dispatchEventToListeners(WebInspector.ExecutionContextList.EventTypes.Reset,this)},_addExecutionContext:function(e){var t=insertionIndexForObjectInListSortedByFunction(e,this._executionContexts,WebInspector.ExecutionContext.comparator);this._executionContexts.splice(t,0,e),this.dispatchEventToListeners(WebInspector.ExecutionContextList.EventTypes.ContextAdded,this)},executionContexts:function(){return this._executionContexts},mainWorldContext:function(){return this._executionContexts[0]},contextBySecurityOrigin:function(e){for(var t=0;t<this._executionContexts.length;++t){var i=this._executionContexts[t];if(!i.isMainWorldContext&&i.name===e)return i}return null},id:function(){throw"Not implemented"},url:function(){throw"Not implemented"},displayName:function(){throw"Not implemented"},__proto__:WebInspector.Object.prototype},WebInspector.FrameExecutionContextList=function(e){WebInspector.ExecutionContextList.call(this),this._frame=e},WebInspector.FrameExecutionContextList.prototype={_frameNavigated:function(e){this._frame=e,this._reset()},id:function(){return this._frame.id},url:function(){return this._frame.url},displayName:function(){return this._frame.displayName()},__proto__:WebInspector.ExecutionContextList.prototype},WebInspector.WorkerExecutionContextList=function(e,t){WebInspector.ExecutionContextList.call(this),this._url=t,this._id=e},WebInspector.WorkerExecutionContextList.prototype={id:function(){return this._id},url:function(){return this._url},displayName:function(){return this._url},__proto__:WebInspector.ExecutionContextList.prototype},WebInspector.HandlerRegistry=function(e){WebInspector.Object.call(this),this._handlers={},this._setting=e,this._activeHandler=this._setting.get(),WebInspector.moduleManager.registerModule("handler-registry")},WebInspector.HandlerRegistry.prototype={get handlerNames(){return Object.getOwnPropertyNames(this._handlers)},get activeHandler(){return this._activeHandler},set activeHandler(e){this._activeHandler=e,this._setting.set(e)},dispatch:function(e){return this.dispatchToHandler(this._activeHandler,e)},dispatchToHandler:function(e,t){var i=this._handlers[e];return!(!i||!i(t))},registerHandler:function(e,t){this._handlers[e]=t,this.dispatchEventToListeners(WebInspector.HandlerRegistry.EventTypes.HandlersUpdated)},unregisterHandler:function(e){delete this._handlers[e],this.dispatchEventToListeners(WebInspector.HandlerRegistry.EventTypes.HandlersUpdated)},_openInNewTab:function(e){InspectorFrontendHost.openInNewTab(e)},_appendContentProviderItems:function(e,t){if(t instanceof WebInspector.UISourceCode||t instanceof WebInspector.Resource||t instanceof WebInspector.NetworkRequest){var i=t;if(i.contentURL()){e.appendItem(WebInspector.openLinkExternallyLabel(),this._openInNewTab.bind(this,i.contentURL()));for(var n=1;n<this.handlerNames.length;++n){var r=this.handlerNames[n];e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open using %s":"Open Using %s",r),this.dispatchToHandler.bind(this,r,{url:i.contentURL()}))}if(e.appendItem(WebInspector.copyLinkAddressLabel(),InspectorFrontendHost.copyText.bind(InspectorFrontendHost,i.contentURL())),i.contentURL()){var s=i.contentType();s!==WebInspector.resourceTypes.Document&&s!==WebInspector.resourceTypes.Stylesheet&&s!==WebInspector.resourceTypes.Script||(e.appendSeparator(),e.appendItem(WebInspector.UIString("Save"),o.bind(null,!1)),e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Save as...":"Save As..."),o.bind(null,!0)))}}}function o(e){i instanceof WebInspector.UISourceCode?i.saveToFileSystem(e):i.requestContent(function(e,t){var n=i.contentURL();WebInspector.fileManager.save(n,t,e),WebInspector.fileManager.close(n)}.bind(null,e))}},_appendHrefItems:function(e,t){if(t instanceof Node){var i=t,n=i.enclosingNodeOrSelfWithClass("webkit-html-resource-link")||i.enclosingNodeOrSelfWithClass("webkit-html-external-link");if(n){var r=n.href;r&&(e.appendItem(WebInspector.openLinkExternallyLabel(),this._openInNewTab.bind(this,r)),WebInspector.resourceForURL(r)&&e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open link in Resources panel":"Open Link in Resources Panel"),function(e){var t=WebInspector.resourceForURL(e);t?WebInspector.Revealer.reveal(t):InspectorFrontendHost.openInNewTab(e)}.bind(null,r)),e.appendItem(WebInspector.copyLinkAddressLabel(),InspectorFrontendHost.copyText.bind(InspectorFrontendHost,r)))}}},__proto__:WebInspector.Object.prototype},WebInspector.HandlerRegistry.EventTypes={HandlersUpdated:"HandlersUpdated"},WebInspector.HandlerSelector=function(e){this._handlerRegistry=e,this.element=document.createElement("select"),this.element.addEventListener("change",this._onChange.bind(this),!1),this._update(),this._handlerRegistry.addEventListener(WebInspector.HandlerRegistry.EventTypes.HandlersUpdated,this._update.bind(this))},WebInspector.HandlerSelector.prototype={_update:function(){this.element.removeChildren();for(var e=this._handlerRegistry.handlerNames,t=this._handlerRegistry.activeHandler,i=0;i<e.length;++i){var n=document.createElement("option");n.textContent=e[i],n.selected=t===e[i],this.element.appendChild(n)}this.element.disabled=e.length<=1},_onChange:function(e){var t=e.target.value;this._handlerRegistry.activeHandler=t}},WebInspector.HandlerRegistry.ContextMenuProvider=function(){},WebInspector.HandlerRegistry.ContextMenuProvider.prototype={appendApplicableItems:function(e,t,i){WebInspector.openAnchorLocationRegistry._appendContentProviderItems(t,i),WebInspector.openAnchorLocationRegistry._appendHrefItems(t,i)}},WebInspector.HandlerRegistry.LinkHandler=function(){},WebInspector.HandlerRegistry.LinkHandler.prototype={handleLink:function(e,t){return WebInspector.openAnchorLocationRegistry.dispatch({url:e,lineNumber:t})}},WebInspector.openAnchorLocationRegistry,WebInspector.SnippetStorage=function(e,t){this._snippets={},this._lastSnippetIdentifierSetting=WebInspector.settings.createSetting(e+"Snippets_lastIdentifier",0),this._snippetsSetting=WebInspector.settings.createSetting(e+"Snippets",[]),this._namePrefix=t,this._loadSettings()},WebInspector.SnippetStorage.prototype={get namePrefix(){return this._namePrefix},_saveSettings:function(){var e=[];for(var t in this._snippets)e.push(this._snippets[t].serializeToObject());this._snippetsSetting.set(e)},snippets:function(){var e=[];for(var t in this._snippets)e.push(this._snippets[t]);return e},snippetForId:function(e){return this._snippets[e]},snippetForName:function(e){for(var t=Object.values(this._snippets),i=0;i<t.length;++i)if(t[i].name===e)return t[i];return null},_loadSettings:function(){for(var e=this._snippetsSetting.get(),t=0;t<e.length;++t)this._snippetAdded(WebInspector.Snippet.fromObject(this,e[t]))},deleteSnippet:function(e){delete this._snippets[e.id],this._saveSettings()},createSnippet:function(){var e=this._lastSnippetIdentifierSetting.get()+1,t=String(e);this._lastSnippetIdentifierSetting.set(e);var i=new WebInspector.Snippet(this,t);return this._snippetAdded(i),this._saveSettings(),i},_snippetAdded:function(e){this._snippets[e.id]=e},reset:function(){this._lastSnippetIdentifierSetting.set(0),this._snippetsSetting.set([]),this._snippets={}},__proto__:WebInspector.Object.prototype},WebInspector.Snippet=function(e,t,i,n){this._storage=e,this._id=t,this._name=i||e.namePrefix+t,this._content=n||""},WebInspector.Snippet.fromObject=function(e,t){return new WebInspector.Snippet(e,t.id,t.name,t.content)},WebInspector.Snippet.prototype={get id(){return this._id},get name(){return this._name},set name(e){this._name!==e&&(this._name=e,this._storage._saveSettings())},get content(){return this._content},set content(e){this._content!==e&&(this._content=e,this._storage._saveSettings())},serializeToObject:function(){var e={};return e.id=this.id,e.name=this.name,e.content=this.content,e},__proto__:WebInspector.Object.prototype},WebInspector.ScriptSnippetModel=function(e){this._workspace=e,this._uiSourceCodeForScriptId={},this._scriptForUISourceCode=new GenericMap,this._uiSourceCodeForSnippetId={},this._snippetIdForUISourceCode=new GenericMap,this._snippetStorage=new WebInspector.SnippetStorage("script","Script snippet #"),this._lastSnippetEvaluationIndexSetting=WebInspector.settings.createSetting("lastSnippetEvaluationIndex",0),this._snippetScriptMapping=new WebInspector.SnippetScriptMapping(this),this._projectDelegate=new WebInspector.SnippetsProjectDelegate(this),this._project=this._workspace.addProject(this._projectDelegate),this.reset(),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.ScriptSnippetModel.prototype={get scriptMapping(){return this._snippetScriptMapping},project:function(){return this._project},_loadSnippets:function(){for(var e=this._snippetStorage.snippets(),t=0;t<e.length;++t)this._addScriptSnippet(e[t])},createScriptSnippet:function(e){var t=this._snippetStorage.createSnippet();return t.content=e,this._addScriptSnippet(t)},_addScriptSnippet:function(e){var t=this._projectDelegate.addSnippet(e.name,new WebInspector.SnippetContentProvider(e)),i=this._workspace.uiSourceCode(this._projectDelegate.id(),t);if(!i)return console.assert(i),"";var n=new WebInspector.SnippetScriptFile(this,i);return i.setScriptFile(n),this._snippetIdForUISourceCode.put(i,e.id),i.setSourceMapping(this._snippetScriptMapping),this._uiSourceCodeForSnippetId[e.id]=i,t},deleteScriptSnippet:function(e){var t=this._workspace.uiSourceCode(this._projectDelegate.id(),e);if(t){var i=this._snippetIdForUISourceCode.get(t)||"",n=this._snippetStorage.snippetForId(i);this._snippetStorage.deleteSnippet(n),this._removeBreakpoints(t),this._releaseSnippetScript(t),delete this._uiSourceCodeForSnippetId[n.id],this._snippetIdForUISourceCode.remove(t),this._projectDelegate.removeFile(n.name)}},renameScriptSnippet:function(e,t,i){if((t=t.trim())&&-1===t.indexOf("/")&&e!==t&&!this._snippetStorage.snippetForName(t)){var n=this._snippetStorage.snippetForName(e);console.assert(n,"Snippet '"+e+"' was not found.");var r=this._uiSourceCodeForSnippetId[n.id];console.assert(r,"No uiSourceCode was found for snippet '"+e+"'.");var s=this._removeBreakpoints(r);n.name=t,this._restoreBreakpoints(r,s),i(!0,t)}else i(!1)},_setScriptSnippetContent:function(e,t){this._snippetStorage.snippetForName(e).content=t},_scriptSnippetEdited:function(e){var t=this._scriptForUISourceCode.get(e);if(t){var i=this._removeBreakpoints(e);this._releaseSnippetScript(e),this._restoreBreakpoints(e,i);var n=t.rawLocationToUILocation(0,0).uiSourceCode;n&&this._restoreBreakpoints(n,i)}},_nextEvaluationIndex:function(e){var t=this._lastSnippetEvaluationIndexSetting.get()+1;return this._lastSnippetEvaluationIndexSetting.set(t),t},evaluateScriptSnippet:function(e){var t=this._removeBreakpoints(e);this._releaseSnippetScript(e),this._restoreBreakpoints(e,t);var i=this._snippetIdForUISourceCode.get(e)||"",n=this._nextEvaluationIndex(i);e._evaluationIndex=n;var r=this._evaluationSourceURL(e),s=e.workingCopy();WebInspector.console.show(),DebuggerAgent.compileScript(s,r,function(t,i,r){if(e&&e._evaluationIndex===n)if(t)console.error(t);else if(i){var s=this._removeBreakpoints(e);this._restoreBreakpoints(e,s),this._runScript(i)}else{var o=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.JS,WebInspector.ConsoleMessage.MessageLevel.Error,r||"");WebInspector.console.addMessage(o)}}.bind(this))},_runScript:function(e){var t=WebInspector.runtimeModel.currentExecutionContext();DebuggerAgent.runScript(e,t?t.id:void 0,"console",!1,function(e,t,i){e?console.error(e):this._printRunScriptResult(t,i)}.bind(this))},_printRunScriptResult:function(e,t){var i=t?WebInspector.ConsoleMessage.MessageLevel.Error:WebInspector.ConsoleMessage.MessageLevel.Log,n=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.JS,i,"",void 0,void 0,void 0,void 0,void 0,[e]);WebInspector.console.addMessage(n)},_rawLocationToUILocation:function(e){var t=this._uiSourceCodeForScriptId[e.scriptId];return t?new WebInspector.UILocation(t,e.lineNumber,e.columnNumber||0):null},_uiLocationToRawLocation:function(e,t,i){var n=this._scriptForUISourceCode.get(e);return n?WebInspector.debuggerModel.createRawLocation(n,t,i):null},_addScript:function(e){var t=this._snippetIdForSourceURL(e.sourceURL);if(t){var i=this._uiSourceCodeForSnippetId[t];i&&this._evaluationSourceURL(i)===e.sourceURL&&(console.assert(!this._scriptForUISourceCode.get(i)),this._uiSourceCodeForScriptId[e.scriptId]=i,this._scriptForUISourceCode.put(i,e),i.scriptFile().setHasDivergedFromVM(!1),e.pushSourceMapping(this._snippetScriptMapping))}},_removeBreakpoints:function(e){for(var t=WebInspector.breakpointManager.breakpointLocationsForUISourceCode(e),i=0;i<t.length;++i)t[i].breakpoint.remove();return t},_restoreBreakpoints:function(e,t){for(var i=0;i<t.length;++i){var n=t[i].uiLocation,r=t[i].breakpoint;WebInspector.breakpointManager.setBreakpoint(e,n.lineNumber,n.columnNumber,r.condition(),r.enabled())}},_releaseSnippetScript:function(e){var t=this._scriptForUISourceCode.get(e);if(!t)return null;e.scriptFile().setIsDivergingFromVM(!0),e.scriptFile().setHasDivergedFromVM(!0),delete this._uiSourceCodeForScriptId[t.scriptId],this._scriptForUISourceCode.remove(e),delete e._evaluationIndex,e.scriptFile().setIsDivergingFromVM(!1)},_debuggerReset:function(){for(var e in this._uiSourceCodeForSnippetId){var t=this._uiSourceCodeForSnippetId[e];this._releaseSnippetScript(t)}},_evaluationSourceURL:function(e){var t="_"+e._evaluationIndex,i=this._snippetIdForUISourceCode.get(e);return WebInspector.Script.snippetSourceURLPrefix+i+t},_snippetIdForSourceURL:function(e){var t=WebInspector.Script.snippetSourceURLPrefix;return e.startsWith(t)?e.substring(t.length).split("_")[0]:null},reset:function(){this._uiSourceCodeForScriptId={},this._scriptForUISourceCode=new GenericMap,this._uiSourceCodeForSnippetId={},this._snippetIdForUISourceCode=new GenericMap,this._projectDelegate.reset(),this._loadSnippets()},__proto__:WebInspector.Object.prototype},WebInspector.SnippetScriptFile=function(e,t){WebInspector.ScriptFile.call(this),this._scriptSnippetModel=e,this._uiSourceCode=t,this._hasDivergedFromVM=!0,this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this)},WebInspector.SnippetScriptFile.prototype={hasDivergedFromVM:function(){return this._hasDivergedFromVM},setHasDivergedFromVM:function(e){this._hasDivergedFromVM=e},isDivergingFromVM:function(){return this._isDivergingFromVM},checkMapping:function(){},isMergingToVM:function(){return!1},setIsDivergingFromVM:function(e){this._isDivergingFromVM=e},_workingCopyChanged:function(){this._scriptSnippetModel._scriptSnippetEdited(this._uiSourceCode)},__proto__:WebInspector.Object.prototype},WebInspector.SnippetScriptMapping=function(e){this._scriptSnippetModel=e},WebInspector.SnippetScriptMapping.prototype={rawLocationToUILocation:function(e){var t=e;return this._scriptSnippetModel._rawLocationToUILocation(t)},uiLocationToRawLocation:function(e,t,i){return this._scriptSnippetModel._uiLocationToRawLocation(e,t,i)},snippetIdForSourceURL:function(e){return this._scriptSnippetModel._snippetIdForSourceURL(e)},addScript:function(e){this._scriptSnippetModel._addScript(e)},isIdentity:function(){return!1}},WebInspector.SnippetContentProvider=function(e){this._snippet=e},WebInspector.SnippetContentProvider.prototype={contentURL:function(){return""},contentType:function(){return WebInspector.resourceTypes.Script},requestContent:function(e){e(this._snippet.content)},searchInContent:function(e,t,i,n){window.setTimeout(function(){n(WebInspector.ContentProvider.performSearchInContent(this._snippet.content,e,t,i))}.bind(this),0)}},WebInspector.SnippetsProjectDelegate=function(e){WebInspector.ContentProviderBasedProjectDelegate.call(this,WebInspector.projectTypes.Snippets),this._model=e},WebInspector.SnippetsProjectDelegate.prototype={id:function(){return WebInspector.projectTypes.Snippets+":"},addSnippet:function(e,t){return this.addContentProvider("",e,e,t,!0,!1)},canSetFileContent:function(){return!0},setFileContent:function(e,t,i){this._model._setScriptSnippetContent(e,t),i("")},canRename:function(){return!0},performRename:function(e,t,i){this._model.renameScriptSnippet(e,t,i)},createFile:function(e,t,i,n){n(this._model.createScriptSnippet(i))},deleteFile:function(e){this._model.deleteScriptSnippet(e)},__proto__:WebInspector.ContentProviderBasedProjectDelegate.prototype},WebInspector.scriptSnippetModel,WebInspector.Progress=function(){},WebInspector.Progress.Events={Canceled:"Canceled"},WebInspector.Progress.prototype={setTotalWork:function(e){},setTitle:function(e){},setWorked:function(e,t){},worked:function(e){},done:function(){},isCanceled:function(){return!1},addEventListener:function(e,t,i){}},WebInspector.CompositeProgress=function(e){this._parent=e,this._children=[],this._childrenDone=0,this._parent.setTotalWork(1),this._parent.setWorked(0),e.addEventListener(WebInspector.Progress.Events.Canceled,this._parentCanceled.bind(this))},WebInspector.CompositeProgress.prototype={_childDone:function(){++this._childrenDone===this._children.length&&this._parent.done()},_parentCanceled:function(){this.dispatchEventToListeners(WebInspector.Progress.Events.Canceled);for(var e=0;e<this._children.length;++e)this._children[e].dispatchEventToListeners(WebInspector.Progress.Events.Canceled)},createSubProgress:function(e){var t=new WebInspector.SubProgress(this,e);return this._children.push(t),t},_update:function(){for(var e=0,t=0,i=0;i<this._children.length;++i){var n=this._children[i];n._totalWork&&(t+=n._weight*n._worked/n._totalWork),e+=n._weight}this._parent.setWorked(t/e)},__proto__:WebInspector.Object.prototype},WebInspector.SubProgress=function(e,t){this._composite=e,this._weight=t||1,this._worked=0},WebInspector.SubProgress.prototype={isCanceled:function(){return this._composite._parent.isCanceled()},setTitle:function(e){this._composite._parent.setTitle(e)},done:function(){this.setWorked(this._totalWork),this._composite._childDone()},setTotalWork:function(e){this._totalWork=e,this._composite._update()},setWorked:function(e,t){this._worked=e,void 0!==t&&this.setTitle(t),this._composite._update()},worked:function(e){this.setWorked(this._worked+(e||1))},__proto__:WebInspector.Object.prototype},WebInspector.ProgressIndicator=function(){this.element=document.createElement("div"),this.element.className="progress-bar-container",this._labelElement=this.element.createChild("span"),this._progressElement=this.element.createChild("progress"),this._stopButton=new WebInspector.StatusBarButton(WebInspector.UIString("Cancel"),"progress-bar-stop-button"),this._stopButton.addEventListener("click",this.cancel,this),this.element.appendChild(this._stopButton.element),this._isCanceled=!1,this._worked=0},WebInspector.ProgressIndicator.Events={Done:"Done"},WebInspector.ProgressIndicator.prototype={show:function(e){e.appendChild(this.element)},hide:function(){var e=this.element.parentElement;e&&e.removeChild(this.element)},done:function(){this._isDone||(this._isDone=!0,this.hide(),this.dispatchEventToListeners(WebInspector.ProgressIndicator.Events.Done))},cancel:function(){this._isCanceled=!0,this.dispatchEventToListeners(WebInspector.Progress.Events.Canceled)},isCanceled:function(){return this._isCanceled},setTitle:function(e){this._labelElement.textContent=e},setTotalWork:function(e){this._progressElement.max=e},setWorked:function(e,t){this._worked=e,this._progressElement.value=e,t&&this.setTitle(t)},worked:function(e){this.setWorked(this._worked+(e||1))},__proto__:WebInspector.Object.prototype},WebInspector.StylesSourceMapping=function(e,t){this._cssModel=e,this._workspace=t,this._workspace.addEventListener(WebInspector.Workspace.Events.ProjectWillReset,this._projectWillReset,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAddedToWorkspace,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeRemoved,this._uiSourceCodeRemoved,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,this._mainFrameCreatedOrNavigated,this),this._cssModel.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetChanged,this._styleSheetChanged,this),this._initialize()},WebInspector.StylesSourceMapping.MinorChangeUpdateTimeoutMs=1e3,WebInspector.StylesSourceMapping.prototype={rawLocationToUILocation:function(e){var t=e,i=this._workspace.uiSourceCodeForURL(t.url);return i?new WebInspector.UILocation(i,t.lineNumber,t.columnNumber):null},uiLocationToRawLocation:function(e,t,i){return new WebInspector.CSSLocation(e.url||"",t,i)},isIdentity:function(){return!0},addHeader:function(e){var t=e.resourceURL();if(t){e.pushSourceMapping(this);var i=this._urlToHeadersByFrameId[t];i||(i=new StringMap,this._urlToHeadersByFrameId[t]=i);var n=i.get(e.frameId);n||(n=new StringMap,i.put(e.frameId,n)),n.put(e.id,e);var r=this._workspace.uiSourceCodeForURL(t);r&&this._bindUISourceCode(r,e)}},removeHeader:function(e){var t=e.resourceURL();if(t){var i=this._urlToHeadersByFrameId[t];console.assert(i);var n=i.get(e.frameId);if(console.assert(n),n.remove(e.id),!n.size()&&(i.remove(e.frameId),!i.size())){delete this._urlToHeadersByFrameId[t];var r=this._workspace.uiSourceCodeForURL(t);r&&this._unbindUISourceCode(r)}}},_unbindUISourceCode:function(e){var t=this._styleFiles.get(e);t&&(t.dispose(),this._styleFiles.remove(e))},_uiSourceCodeAddedToWorkspace:function(e){var t=e.data,i=t.url;i&&this._urlToHeadersByFrameId[i]&&this._bindUISourceCode(t,this._urlToHeadersByFrameId[i].values()[0].values()[0])},_bindUISourceCode:function(e,t){this._styleFiles.get(e)||t.isInline||(e.url,this._styleFiles.put(e,new WebInspector.StyleFile(e,this)),t.updateLocations())},_projectWillReset:function(e){for(var t=e.data.uiSourceCodes(),i=0;i<t.length;++i)this._unbindUISourceCode(t[i])},_uiSourceCodeRemoved:function(e){var t=e.data;this._unbindUISourceCode(t)},_initialize:function(){this._urlToHeadersByFrameId={},this._styleFiles=new GenericMap},_mainFrameCreatedOrNavigated:function(e){for(var t in this._urlToHeadersByFrameId){var i=this._workspace.uiSourceCodeForURL(t);i&&this._unbindUISourceCode(i)}this._initialize()},_setStyleContent:function(e,t,i,n){var r=this._cssModel.styleSheetIdsForURL(e.url);r.length?(this._isSettingContent=!0,this._cssModel.setStyleSheetText(r[0],t,i,function(e){n(e),delete this._isSettingContent}.bind(this))):n("No stylesheet found: "+e.url)},_styleSheetChanged:function(e){this._isSettingContent||(e.data.majorChange?this._updateStyleSheetText(e.data.styleSheetId):this._updateStyleSheetTextSoon(e.data.styleSheetId))},_updateStyleSheetTextSoon:function(e){this._updateStyleSheetTextTimer&&clearTimeout(this._updateStyleSheetTextTimer),this._updateStyleSheetTextTimer=setTimeout(this._updateStyleSheetText.bind(this,e),WebInspector.StylesSourceMapping.MinorChangeUpdateTimeoutMs)},_updateStyleSheetText:function(e){this._updateStyleSheetTextTimer&&(clearTimeout(this._updateStyleSheetTextTimer),delete this._updateStyleSheetTextTimer);var t=this._cssModel.styleSheetHeaderForId(e);if(t){var i=t.resourceURL();if(i){var n=this._workspace.uiSourceCodeForURL(i);n&&t.requestContent(function(e,t){var i=this._styleFiles.get(e);i&&i.addRevision(t||"")}.bind(this,n))}}}},WebInspector.StyleFile=function(e,t){this._uiSourceCode=e,this._mapping=t,this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this),this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)},WebInspector.StyleFile.updateTimeout=200,WebInspector.StyleFile.prototype={_workingCopyCommitted:function(e){this._isAddingRevision||this._commitIncrementalEdit(!0)},_workingCopyChanged:function(e){this._isAddingRevision||(WebInspector.StyleFile.updateTimeout>=0?this._incrementalUpdateTimer=setTimeout(this._commitIncrementalEdit.bind(this,!1),WebInspector.StyleFile.updateTimeout):this._commitIncrementalEdit(!1))},_commitIncrementalEdit:function(e){this._clearIncrementalUpdateTimer(),this._mapping._setStyleContent(this._uiSourceCode,this._uiSourceCode.workingCopy(),e,this._styleContentSet.bind(this))},_styleContentSet:function(e){e&&WebInspector.console.showErrorMessage(e)},_clearIncrementalUpdateTimer:function(){this._incrementalUpdateTimer&&(clearTimeout(this._incrementalUpdateTimer),delete this._incrementalUpdateTimer)},addRevision:function(e){this._isAddingRevision=!0,this._uiSourceCode.addRevision(e),delete this._isAddingRevision},dispose:function(){this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this),this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this)}},WebInspector.NetworkUISourceCodeProvider=function(e,t){this._networkWorkspaceProvider=e,this._workspace=t,WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,this._resourceAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._mainFrameNavigated,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),WebInspector.cssModel.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._processedURLs={}},WebInspector.NetworkUISourceCodeProvider.prototype={_populate:function(){(function e(t){for(var i=0;i<t.childFrames.length;++i)e.call(this,t.childFrames[i]);var n=t.resources();for(i=0;i<n.length;++i)this._resourceAdded({data:n[i]})}).call(this,WebInspector.resourceTreeModel.mainFrame)},_parsedScriptSource:function(e){var t=e.data;if(t.sourceURL&&!t.isInlineScript()&&!t.isSnippet()){if(t.isContentScript&&!t.hasSourceURL&&!new WebInspector.ParsedURL(t.sourceURL).isValid)return;this._addFile(t.sourceURL,t,t.isContentScript)}},_styleSheetAdded:function(e){var t=e.data;(t.hasSourceURL&&!t.isInline||"inspector"===t.origin)&&this._addFile(t.resourceURL(),t,!1)},_resourceAdded:function(e){var t=e.data;this._addFile(t.url,new WebInspector.NetworkUISourceCodeProvider.FallbackResource(t))},_mainFrameNavigated:function(e){this._reset()},_addFile:function(e,t,i){if(!this._workspace.hasMappingForURL(e)){var n=t.contentType();if((n===WebInspector.resourceTypes.Stylesheet||n===WebInspector.resourceTypes.Document||n===WebInspector.resourceTypes.Script)&&!this._processedURLs[e]){this._processedURLs[e]=!0;var r=n!==WebInspector.resourceTypes.Document;this._networkWorkspaceProvider.addFileForURL(e,t,r,i)}}},_reset:function(){this._processedURLs={},this._networkWorkspaceProvider.reset(),this._populate()}},WebInspector.NetworkUISourceCodeProvider.FallbackResource=function(e){this._resource=e},WebInspector.NetworkUISourceCodeProvider.FallbackResource.prototype={contentURL:function(){return this._resource.contentURL()},contentType:function(){return this._resource.contentType()},requestContent:function(e){this._resource.requestContent(function(t){t?e(t):function(){var t,i=WebInspector.debuggerModel.scriptsForSourceURL(this._resource.url);i.length?(this._resource.type===WebInspector.resourceTypes.Document?t=new WebInspector.ConcatenatedScriptsContentProvider(i):this._resource.type===WebInspector.resourceTypes.Script&&(t=i[0]),console.assert(t,"Resource content request failed. "+this._resource.url),t.requestContent(e)):e(null)}.call(this)}.bind(this))},searchInContent:function(e,t,i,n){this.contentType()!==WebInspector.resourceTypes.Document?this._resource.searchInContent(e,t,i,n):this.requestContent(function(r){if(null!==r){var s=WebInspector.ContentProvider.performSearchInContent(r,e,t,i);n(s)}else n([])})}},WebInspector.networkWorkspaceProvider,WebInspector.CPUProfilerModel=function(){this._delegate=null,this._isRecording=!1,InspectorBackend.registerProfilerDispatcher(this),ProfilerAgent.enable()},WebInspector.CPUProfilerModel.EventTypes={ProfileStarted:"profile-started",ProfileStopped:"profile-stopped"},WebInspector.CPUProfilerModel.prototype={setDelegate:function(e){this._delegate=e},consoleProfileFinished:function(e,t,i,n){WebInspector.moduleManager.loadModule("profiles"),this._delegate.consoleProfileFinished(e,t,i,n)},consoleProfileStarted:function(e,t,i){WebInspector.moduleManager.loadModule("profiles"),this._delegate.consoleProfileStarted(e,t,i)},setRecording:function(e){this._isRecording=e,this.dispatchEventToListeners(e?WebInspector.CPUProfilerModel.EventTypes.ProfileStarted:WebInspector.CPUProfilerModel.EventTypes.ProfileStopped)},isRecordingProfile:function(){return this._isRecording},__proto__:WebInspector.Object.prototype},WebInspector.CPUProfilerModel.Delegate=function(){},WebInspector.CPUProfilerModel.Delegate.prototype={consoleProfileStarted:function(e,t,i){},consoleProfileFinished:function(e,t,i,n){}},WebInspector.cpuProfilerModel,WebInspector.DockController=function(e){if(this._canDock=e,!e)return this._dockSide=WebInspector.DockController.State.Undocked,void this._updateUI();WebInspector.settings.currentDockState=WebInspector.settings.createSetting("currentDockState",""),WebInspector.settings.lastDockState=WebInspector.settings.createSetting("lastDockState","");var t=[WebInspector.DockController.State.DockedToBottom,WebInspector.DockController.State.Undocked,WebInspector.DockController.State.DockedToRight],i=[WebInspector.UIString("Dock to main window."),WebInspector.UIString("Undock into separate window."),WebInspector.UIString("Dock to main window.")];WebInspector.experimentsSettings.dockToLeft.isEnabled()&&(t.push(WebInspector.DockController.State.DockedToLeft),i.push(WebInspector.UIString("Dock to main window."))),this._dockToggleButton=new WebInspector.StatusBarStatesSettingButton("dock-status-bar-item",t,i,WebInspector.settings.currentDockState,WebInspector.settings.lastDockState,this._dockSideChanged.bind(this))},WebInspector.DockController.State={DockedToBottom:"bottom",DockedToRight:"right",DockedToLeft:"left",Undocked:"undocked"},WebInspector.DockController.Events={DockSideChanged:"DockSideChanged"},WebInspector.DockController.prototype={get element(){return this._canDock?this._dockToggleButton.element:null},dockSide:function(){return this._dockSide},canDock:function(){return this._canDock},isVertical:function(){return this._dockSide===WebInspector.DockController.State.DockedToRight||this._dockSide===WebInspector.DockController.State.DockedToLeft},_dockSideChanged:function(e){this._dockSide!==e&&(this._dockSide=e,this._updateUI(),this.dispatchEventToListeners(WebInspector.DockController.Events.DockSideChanged,this._dockSide),this._canDock&&InspectorFrontendHost.setIsDocked(e!==WebInspector.DockController.State.Undocked))},_updateUI:function(){var e=document.body;switch(this._dockSide){case WebInspector.DockController.State.DockedToBottom:e.classList.remove("undocked"),e.classList.remove("dock-to-right"),e.classList.remove("dock-to-left"),e.classList.add("dock-to-bottom");break;case WebInspector.DockController.State.DockedToRight:e.classList.remove("undocked"),e.classList.add("dock-to-right"),e.classList.remove("dock-to-left"),e.classList.remove("dock-to-bottom");break;case WebInspector.DockController.State.DockedToLeft:e.classList.remove("undocked"),e.classList.remove("dock-to-right"),e.classList.add("dock-to-left"),e.classList.remove("dock-to-bottom");break;case WebInspector.DockController.State.Undocked:e.classList.add("undocked"),e.classList.remove("dock-to-right"),e.classList.remove("dock-to-left"),e.classList.remove("dock-to-bottom")}},__proto__:WebInspector.Object.prototype},WebInspector.dockController,WebInspector.TracingAgent=function(){this._active=!1,InspectorBackend.registerTracingDispatcher(new WebInspector.TracingDispatcher(this))},WebInspector.TracingAgent.prototype={start:function(e,t,i){TracingAgent.start(e,t,i),this._active=!0,this._events=[]},stop:function(e){this._active?(this._pendingStopCallback=e,TracingAgent.end()):e()},events:function(){return this._events},_eventsCollected:function(e){Array.prototype.push.apply(this._events,e)},_tracingComplete:function(){this._active=!1,this._pendingStopCallback&&(this._pendingStopCallback(),this._pendingStopCallback=null)}},WebInspector.TracingDispatcher=function(e){this._tracingAgent=e},WebInspector.TracingDispatcher.prototype={dataCollected:function(e){this._tracingAgent._eventsCollected(e)},tracingComplete:function(){this._tracingAgent._tracingComplete()}},WebInspector.tracingAgent,WebInspector.ScreencastView=function(){WebInspector.VBox.call(this),this.setMinimumSize(150,150),this.registerRequiredCSS("screencastView.css")},WebInspector.ScreencastView._bordersSize=40,WebInspector.ScreencastView._navBarHeight=29,WebInspector.ScreencastView._HttpRegex=/^https?:\/\/(.+)/,WebInspector.ScreencastView.prototype={initialize:function(){this.element.classList.add("screencast"),this._createNavigationBar(),this._viewportElement=this.element.createChild("div","screencast-viewport hidden"),this._glassPaneElement=this.element.createChild("div","screencast-glasspane hidden"),this._canvasElement=this._viewportElement.createChild("canvas"),this._canvasElement.tabIndex=1,this._canvasElement.addEventListener("mousedown",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("mouseup",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("mousemove",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("mousewheel",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("click",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!1),this._canvasElement.addEventListener("keydown",this._handleKeyEvent.bind(this),!1),this._canvasElement.addEventListener("keyup",this._handleKeyEvent.bind(this),!1),this._canvasElement.addEventListener("keypress",this._handleKeyEvent.bind(this),!1),this._titleElement=this._viewportElement.createChild("div","screencast-element-title monospace hidden"),this._tagNameElement=this._titleElement.createChild("span","screencast-tag-name"),this._nodeIdElement=this._titleElement.createChild("span","screencast-node-id"),this._classNameElement=this._titleElement.createChild("span","screencast-class-name"),this._titleElement.appendChild(document.createTextNode(" ")),this._nodeWidthElement=this._titleElement.createChild("span"),this._titleElement.createChild("span","screencast-px").textContent="px",this._titleElement.appendChild(document.createTextNode(" × ")),this._nodeHeightElement=this._titleElement.createChild("span"),this._titleElement.createChild("span","screencast-px").textContent="px",this._imageElement=new Image,this._isCasting=!1,this._context=this._canvasElement.getContext("2d"),this._checkerboardPattern=this._createCheckerboardPattern(this._context),this._shortcuts={},this._shortcuts[WebInspector.KeyboardShortcut.makeKey("l",WebInspector.KeyboardShortcut.Modifiers.Ctrl)]=this._focusNavigationBar.bind(this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.ScreencastFrame,this._screencastFrame,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.ScreencastVisibilityChanged,this._screencastVisibilityChanged,this),WebInspector.timelineManager.addEventListener(WebInspector.TimelineManager.EventTypes.TimelineStarted,this._onTimeline.bind(this,!0),this),WebInspector.timelineManager.addEventListener(WebInspector.TimelineManager.EventTypes.TimelineStopped,this._onTimeline.bind(this,!1),this),this._timelineActive=WebInspector.timelineManager.isStarted(),WebInspector.cpuProfilerModel.addEventListener(WebInspector.CPUProfilerModel.EventTypes.ProfileStarted,this._onProfiler.bind(this,!0),this),WebInspector.cpuProfilerModel.addEventListener(WebInspector.CPUProfilerModel.EventTypes.ProfileStopped,this._onProfiler.bind(this,!1),this),this._profilerActive=WebInspector.cpuProfilerModel.isRecordingProfile(),this._updateGlasspane()},wasShown:function(){this._startCasting()},willHide:function(){this._stopCasting()},_startCasting:function(){if(!this._timelineActive&&!this._profilerActive&&!this._isCasting){this._isCasting=!0;var e=this._viewportDimensions();e.width<0||e.height<0?this._isCasting=!1:(e.width*=WebInspector.zoomManager.zoomFactor(),e.height*=WebInspector.zoomManager.zoomFactor(),PageAgent.startScreencast("jpeg",80,Math.min(1024,e.width),Math.min(1024,e.height)),WebInspector.domModel.setHighlighter(this))}},_stopCasting:function(){this._isCasting&&(this._isCasting=!1,PageAgent.stopScreencast(),WebInspector.domModel.setHighlighter(null))},_screencastFrame:function(e){var t=e.data.metadata;if(t.deviceScaleFactor){var i=e.data.data;if(this._imageElement.src="data:image/jpg;base64,"+i,this._deviceScaleFactor=t.deviceScaleFactor,this._pageScaleFactor=t.pageScaleFactor,this._viewport=t.viewport,this._viewport){var n=t.offsetTop||0,r=t.offsetBottom||0,s=this._viewport.width*this._pageScaleFactor,o=this._viewport.height*this._pageScaleFactor+n+r;this._screenOffsetTop=n,this._resizeViewport(s,o),this._imageZoom=this._imageElement.naturalWidth?this._canvasElement.offsetWidth/this._imageElement.naturalWidth:1,this.highlightDOMNode(this._highlightNodeId,this._highlightConfig)}}else console.log(e.data.data)},_isGlassPaneActive:function(){return!this._glassPaneElement.classList.contains("hidden")},_screencastVisibilityChanged:function(e){this._targetInactive=!e.data.visible,this._updateGlasspane()},_onTimeline:function(e){this._timelineActive=e,this._timelineActive?this._stopCasting():this._startCasting(),this._updateGlasspane()},_onProfiler:function(e,t){this._profilerActive=e,this._profilerActive?this._stopCasting():this._startCasting(),this._updateGlasspane()},_updateGlasspane:function(){this._targetInactive?(this._glassPaneElement.textContent=WebInspector.UIString("The tab is inactive"),this._glassPaneElement.classList.remove("hidden")):this._timelineActive?(this._glassPaneElement.textContent=WebInspector.UIString("Timeline is active"),this._glassPaneElement.classList.remove("hidden")):this._profilerActive?(this._glassPaneElement.textContent=WebInspector.UIString("CPU profiler is active"),this._glassPaneElement.classList.remove("hidden")):this._glassPaneElement.classList.add("hidden")},_resizeViewport:function(e,t){var i=this._viewportDimensions();this._screenZoom=Math.min(i.width/e,i.height/t);var n=WebInspector.ScreencastView._bordersSize;this._viewportElement.classList.remove("hidden"),this._viewportElement.style.width=e*this._screenZoom+n+"px",this._viewportElement.style.height=t*this._screenZoom+n+"px"},_handleMouseEvent:function(e){if(this._isGlassPaneActive())e.consume();else if(this._viewport){if(!this._inspectModeConfig||"mousewheel"===e.type)return this._simulateTouchGestureForMouseEvent(e),e.preventDefault(),void("mousedown"===e.type&&this._canvasElement.focus());var t=this._convertIntoScreenSpace(e);DOMAgent.getNodeForLocation(t.x/this._pageScaleFactor,t.y/this._pageScaleFactor,function(t,i){t||("mousemove"===e.type?this.highlightDOMNode(i,this._inspectModeConfig):"click"===e.type&&WebInspector.Revealer.reveal(WebInspector.domModel.nodeForId(i)))}.bind(this))}},_handleKeyEvent:function(e){if(this._isGlassPaneActive())e.consume();else{var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),i=this._shortcuts[t];if(i&&i(e))e.consume();else{var n;switch(e.type){case"keydown":n="keyDown";break;case"keyup":n="keyUp";break;case"keypress":n="char";break;default:return}var r="keypress"===e.type?String.fromCharCode(e.charCode):void 0;InputAgent.dispatchKeyEvent(n,this._modifiersForEvent(e),e.timeStamp/1e3,r,r?r.toLowerCase():void 0,e.keyIdentifier,e.keyCode,e.keyCode,void 0,!1,!1,!1),e.consume(),this._canvasElement.focus()}}},_handleContextMenuEvent:function(e){e.consume(!0)},_simulateTouchGestureForMouseEvent:function(e){var t=this._convertIntoScreenSpace(e),i=e.timeStamp/1e3,n=t.x,r=t.y;switch(e.which){case 1:if("mousedown"===e.type)InputAgent.dispatchGestureEvent("scrollBegin",n,r,i);else if("mousemove"===e.type){var s=this._lastScrollPosition?t.x-this._lastScrollPosition.x:0,o=this._lastScrollPosition?t.y-this._lastScrollPosition.y:0;(s||o)&&InputAgent.dispatchGestureEvent("scrollUpdate",n,r,i,s,o)}else if("mouseup"===e.type)InputAgent.dispatchGestureEvent("scrollEnd",n,r,i);else if("mousewheel"===e.type)if(e.altKey){var a=e.wheelDeltaY<0?1/1.1:1.1;InputAgent.dispatchGestureEvent("pinchBegin",n,r,i),InputAgent.dispatchGestureEvent("pinchUpdate",n,r,i,0,0,a),InputAgent.dispatchGestureEvent("pinchEnd",n,r,i)}else InputAgent.dispatchGestureEvent("scrollBegin",n,r,i),InputAgent.dispatchGestureEvent("scrollUpdate",n,r,i,e.wheelDeltaX,e.wheelDeltaY),InputAgent.dispatchGestureEvent("scrollEnd",n,r,i);else"click"===e.type&&(InputAgent.dispatchMouseEvent("mousePressed",n,r,0,i,"left",1,!0),InputAgent.dispatchMouseEvent("mouseReleased",n,r,0,i,"left",1,!0));this._lastScrollPosition=t;break;case 2:"mousedown"===e.type?InputAgent.dispatchGestureEvent("tapDown",n,r,i):"mouseup"===e.type&&InputAgent.dispatchGestureEvent("tap",n,r,i);break;case 3:"mousedown"===e.type?(this._pinchStart=t,InputAgent.dispatchGestureEvent("pinchBegin",n,r,i)):"mousemove"===e.type?(s=this._pinchStart?t.x-this._pinchStart.x:0,o=this._pinchStart?t.y-this._pinchStart.y:0,(s||o)&&(a=Math.pow(o<0?.999:1.001,Math.abs(o)),InputAgent.dispatchGestureEvent("pinchUpdate",this._pinchStart.x,this._pinchStart.y,i,0,0,a))):"mouseup"===e.type&&InputAgent.dispatchGestureEvent("pinchEnd",n,r,i)}},_convertIntoScreenSpace:function(e){var t=this._canvasElement.offsetWidth/this._viewport.width/this._pageScaleFactor,i={};return i.x=Math.round(e.offsetX/t),i.y=Math.round(e.offsetY/t-this._screenOffsetTop),i},_modifiersForEvent:function(e){var t=0;return e.altKey&&(t=1),e.ctrlKey&&(t+=2),e.metaKey&&(t+=4),e.shiftKey&&(t+=8),t},onResize:function(){this._deferredCasting&&(clearTimeout(this._deferredCasting),delete this._deferredCasting),this._stopCasting(),this._deferredCasting=setTimeout(this._startCasting.bind(this),100)},highlightDOMNode:function(e,t,i){if(this._highlightNodeId=e,this._highlightConfig=t,!e)return this._model=null,this._config=null,this._node=null,this._titleElement.classList.add("hidden"),void this._repaint();this._node=WebInspector.domModel.nodeForId(e),DOMAgent.getBoxModel(e,function(e,i){e?this._repaint():(this._model=this._scaleModel(i),this._config=t,this._repaint())}.bind(this))},_scaleModel:function(e){var t=this._canvasElement.offsetWidth/this._viewport.width;function i(e){for(var i=0;i<e.length;i+=2)e[i]=(e[i]-this._viewport.x)*t,e[i+1]=(e[i+1]-this._viewport.y)*t+this._screenOffsetTop*this._screenZoom}return i.call(this,e.content),i.call(this,e.padding),i.call(this,e.border),i.call(this,e.margin),e},_repaint:function(){var e=this._model,t=this._config;if(this._canvasElement.width=window.devicePixelRatio*this._canvasElement.offsetWidth,this._canvasElement.height=window.devicePixelRatio*this._canvasElement.offsetHeight,this._context.save(),this._context.scale(window.devicePixelRatio,window.devicePixelRatio),this._context.save(),this._context.fillStyle=this._checkerboardPattern,this._context.fillRect(0,0,this._canvasElement.offsetWidth,this._screenOffsetTop*this._screenZoom),this._context.fillRect(0,this._screenOffsetTop*this._screenZoom+this._imageElement.naturalHeight*this._imageZoom,this._canvasElement.offsetWidth,this._canvasElement.offsetHeight),this._context.restore(),e&&t){this._context.save();const s="rgba(0, 0, 0, 0)";var i=e.content&&t.contentColor!==s,n=e.padding&&t.paddingColor!==s,r=e.border&&t.borderColor!==s;!(e.margin&&t.marginColor!==s)||r&&this._quadsAreEqual(e.margin,e.border)||(this._drawOutlinedQuadWithClip(e.margin,e.border,t.marginColor),e.border),!r||n&&this._quadsAreEqual(e.border,e.padding)||(this._drawOutlinedQuadWithClip(e.border,e.padding,t.borderColor),e.padding),!n||i&&this._quadsAreEqual(e.padding,e.content)||(this._drawOutlinedQuadWithClip(e.padding,e.content,t.paddingColor),e.content),i&&this._drawOutlinedQuad(e.content,t.contentColor),this._context.restore(),this._drawElementTitle(),this._context.globalCompositeOperation="destination-over"}this._context.drawImage(this._imageElement,0,this._screenOffsetTop*this._screenZoom,this._imageElement.naturalWidth*this._imageZoom,this._imageElement.naturalHeight*this._imageZoom),this._context.restore()},_quadsAreEqual:function(e,t){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},_cssColor:function(e){return e?WebInspector.Color.fromRGBA([e.r,e.g,e.b,e.a]).toString(WebInspector.Color.Format.RGBA)||"":"transparent"},_quadToPath:function(e){return this._context.beginPath(),this._context.moveTo(e[0],e[1]),this._context.lineTo(e[2],e[3]),this._context.lineTo(e[4],e[5]),this._context.lineTo(e[6],e[7]),this._context.closePath(),this._context},_drawOutlinedQuad:function(e,t){this._context.save(),this._context.lineWidth=2,this._quadToPath(e).clip(),this._context.fillStyle=this._cssColor(t),this._context.fill(),this._context.restore()},_drawOutlinedQuadWithClip:function(e,t,i){this._context.fillStyle=this._cssColor(i),this._context.save(),this._context.lineWidth=0,this._quadToPath(e).fill(),this._context.globalCompositeOperation="destination-out",this._context.fillStyle="red",this._quadToPath(t).fill(),this._context.restore()},_drawElementTitle:function(){if(this._node){var e=this._canvasElement.offsetWidth,t=this._canvasElement.offsetHeight,i=this._node.localName()||this._node.nodeName().toLowerCase();this._tagNameElement.textContent=i,this._nodeIdElement.textContent=this._node.getAttribute("id")?"#"+this._node.getAttribute("id"):"",this._nodeIdElement.textContent=this._node.getAttribute("id")?"#"+this._node.getAttribute("id"):"";var n=this._node.getAttribute("class");n&&n.length>50&&(n=n.substring(0,50)+"…"),this._classNameElement.textContent=n||"",this._nodeWidthElement.textContent=this._model.width,this._nodeHeightElement.textContent=this._model.height,this._model.margin;var r,s=this._titleElement.offsetWidth+6,o=this._titleElement.offsetHeight+4,a=this._model.margin[1],c=this._model.margin[7],l=!1,d=!1,h=Math.max(2,this._model.margin[0]);h+s>e&&(h=e-s-2),a>t?(r=t-o-7,d=!0):c<0?(r=7,l=!0):c+o+7<t?(r=c+7-4,l=!0):a-o-7>0?(r=a-o-7+3,d=!0):r=7,this._context.save(),this._context.translate(.5,.5),this._context.beginPath(),this._context.moveTo(h,r),l&&(this._context.lineTo(h+14,r),this._context.lineTo(h+21,r-7),this._context.lineTo(h+28,r)),this._context.lineTo(h+s,r),this._context.lineTo(h+s,r+o),d&&(this._context.lineTo(h+28,r+o),this._context.lineTo(h+21,r+o+7),this._context.lineTo(h+14,r+o)),this._context.lineTo(h,r+o),this._context.closePath(),this._context.fillStyle="rgb(255, 255, 194)",this._context.fill(),this._context.strokeStyle="rgb(128, 128, 128)",this._context.stroke(),this._context.restore(),this._titleElement.classList.remove("hidden"),this._titleElement.style.top=r+3+"px",this._titleElement.style.left=h+3+"px"}},_viewportDimensions:function(){const e=WebInspector.ScreencastView._bordersSize;return{width:this.element.offsetWidth-e-30,height:this.element.offsetHeight-e-30-WebInspector.ScreencastView._navBarHeight}},setInspectModeEnabled:function(e,t,i,n){this._inspectModeConfig=e?i:null,n&&n(null)},_createCheckerboardPattern:function(e){var t=document.createElement("canvas");t.width=64,t.height=64;var i=t.getContext("2d");return i.fillStyle="rgb(195, 195, 195)",i.fillRect(0,0,64,64),i.fillStyle="rgb(225, 225, 225)",i.fillRect(0,0,32,32),i.fillRect(32,32,32,32),e.createPattern(t,"repeat")},_createNavigationBar:function(){this._navigationBar=this.element.createChild("div","toolbar-background screencast-navigation"),this._navigationBack=this._navigationBar.createChild("button","back"),this._navigationBack.disabled=!0,this._navigationBack.addEventListener("click",this._navigateToHistoryEntry.bind(this,-1),!1),this._navigationForward=this._navigationBar.createChild("button","forward"),this._navigationForward.disabled=!0,this._navigationForward.addEventListener("click",this._navigateToHistoryEntry.bind(this,1),!1),this._navigationReload=this._navigationBar.createChild("button","reload"),this._navigationReload.addEventListener("click",this._navigateReload.bind(this),!1),this._navigationUrl=this._navigationBar.createChild("input"),this._navigationUrl.type="text",this._navigationUrl.addEventListener("keyup",this._navigationUrlKeyUp.bind(this),!0),this._navigationProgressBar=new WebInspector.ScreencastView.ProgressTracker(this._navigationBar.createChild("div","progress")),this._requestNavigationHistory(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._requestNavigationHistory,this)},_navigateToHistoryEntry:function(e){var t=this._historyIndex+e;t<0||t>=this._historyEntries.length||(PageAgent.navigateToHistoryEntry(this._historyEntries[t].id),this._requestNavigationHistory())},_navigateReload:function(){WebInspector.resourceTreeModel.reloadPage()},_navigationUrlKeyUp:function(e){if("Enter"==e.keyIdentifier){var t=this._navigationUrl.value;t&&(t.match(WebInspector.ScreencastView._HttpRegex)||(t="http://"+t),PageAgent.navigate(t),this._canvasElement.focus())}},_requestNavigationHistory:function(){PageAgent.getNavigationHistory(this._onNavigationHistory.bind(this))},_onNavigationHistory:function(e,t,i){if(!e){this._historyIndex=t,this._historyEntries=i,this._navigationBack.disabled=0==t,this._navigationForward.disabled=t==i.length-1;var n=i[t].url,r=n.match(WebInspector.ScreencastView._HttpRegex);r&&(n=r[1]),this._navigationUrl.value=n}},_focusNavigationBar:function(){return this._navigationUrl.focus(),this._navigationUrl.select(),!0},__proto__:WebInspector.VBox.prototype},WebInspector.ScreencastView.ProgressTracker=function(e){this._element=e,WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._onMainFrameNavigated,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.Load,this._onLoad,this),WebInspector.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestStarted,this._onRequestStarted,this),WebInspector.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestFinished,this._onRequestFinished,this)},WebInspector.ScreencastView.ProgressTracker.prototype={_onMainFrameNavigated:function(){this._requestIds={},this._startedRequests=0,this._finishedRequests=0,this._maxDisplayedProgress=0,this._updateProgress(.1)},_onLoad:function(){delete this._requestIds,this._updateProgress(1),setTimeout(function(){this._navigationProgressVisible()||this._displayProgress(0)}.bind(this),500)},_navigationProgressVisible:function(){return!!this._requestIds},_onRequestStarted:function(e){if(this._navigationProgressVisible()){var t=e.data;t.type!==WebInspector.resourceTypes.WebSocket&&(this._requestIds[t.requestId]=t,++this._startedRequests)}},_onRequestFinished:function(e){this._navigationProgressVisible()&&e.data.requestId in this._requestIds&&(++this._finishedRequests,setTimeout(function(){this._updateProgress(this._finishedRequests/this._startedRequests*.9)}.bind(this),500))},_updateProgress:function(e){this._navigationProgressVisible()&&(this._maxDisplayedProgress>=e||(this._maxDisplayedProgress=e,this._displayProgress(e)))},_displayProgress:function(e){this._element.style.width=100*e+"%"}},WebInspector.ScreencastController=function(){var e=new WebInspector.RootView;this._rootSplitView=new WebInspector.SplitView(!1,!0,"InspectorView.screencastSplitViewState",300,300),this._rootSplitView.show(e.element),WebInspector.inspectorView.show(this._rootSplitView.sidebarElement()),this._screencastView=new WebInspector.ScreencastView,this._screencastView.show(this._rootSplitView.mainElement()),this._onStatusBarButtonStateChanged("disabled"),e.attachToBody(),this._initialized=!1},WebInspector.ScreencastController.prototype={_onStatusBarButtonStateChanged:function(e){if("disabled"===e)return this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!1),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),!1),void this._rootSplitView.hideMain();this._rootSplitView.setVertical("left"===e),this._rootSplitView.setSecondIsSidebar(!0),this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!0),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),"top"===e),this._rootSplitView.showBoth()},initialize:function(){this._screencastView.initialize(),this._currentScreencastState=WebInspector.settings.createSetting("currentScreencastState",""),this._lastScreencastState=WebInspector.settings.createSetting("lastScreencastState",""),this._toggleScreencastButton=new WebInspector.StatusBarStatesSettingButton("screencast-status-bar-item",["disabled","left","top"],[WebInspector.UIString("Disable screencast."),WebInspector.UIString("Switch to portrait screencast."),WebInspector.UIString("Switch to landscape screencast.")],this._currentScreencastState,this._lastScreencastState,this._onStatusBarButtonStateChanged.bind(this)),this._statusBarPlaceholder&&(this._statusBarPlaceholder.parentElement.insertBefore(this._toggleScreencastButton.element,this._statusBarPlaceholder),this._statusBarPlaceholder.parentElement.removeChild(this._statusBarPlaceholder),delete this._statusBarPlaceholder),this._initialized=!0},statusBarItem:function(){return this._initialized?this._toggleScreencastButton.element:(this._statusBarPlaceholder=document.createElement("div"),this._statusBarPlaceholder)}},window.domAutomationController){var ___interactiveUiTestsMode=!0;TestSuite=function(){this.controlTaken_=!1,this.timerId_=-1},TestSuite.prototype.fail=function(e){if(!this.controlTaken_)throw e;this.reportFailure_(e)},TestSuite.prototype.assertEquals=function(e,t,i){if(e!==t){var n="Expected: '"+e+"', but was '"+t+"'";i&&(n=i+"("+n+")"),this.fail(n)}},TestSuite.prototype.assertTrue=function(e,t){this.assertEquals(!0,!!e,t)},TestSuite.prototype.assertHasKey=function(e,t){e.hasOwnProperty(t)||this.fail("Expected object to contain key '"+t+"'")},TestSuite.prototype.assertContains=function(e,t){-1===e.indexOf(t)&&this.fail("Expected to: '"+e+"' to contain '"+t+"'")},TestSuite.prototype.takeControl=function(){this.controlTaken_=!0;var e=this;this.timerId_=setTimeout(function(){e.reportFailure_("Timeout exceeded: 20 sec")},2e4)},TestSuite.prototype.releaseControl=function(){-1!==this.timerId_&&(clearTimeout(this.timerId_),this.timerId_=-1),this.reportOk_()},TestSuite.prototype.reportOk_=function(){window.domAutomationController.send("[OK]")},TestSuite.prototype.reportFailure_=function(e){-1!==this.timerId_&&(clearTimeout(this.timerId_),this.timerId_=-1),window.domAutomationController.send("[FAILED] "+e)},TestSuite.prototype.runTest=function(e){try{this[e](),this.controlTaken_||this.reportOk_()}catch(e){this.reportFailure_(e)}},TestSuite.prototype.showPanel=function(e){document.getElementById("tab-"+e).selectTabForTest(),this.assertEquals(WebInspector.panels[e],WebInspector.inspectorView.currentPanel())},TestSuite.prototype.addSniffer=function(e,t,i,n){var r=e[t];"function"!=typeof r&&this.fail("Cannot find method to override: "+t);var s=this;e[t]=function(o){try{var a=r.apply(this,arguments)}finally{n||(e[t]=r)}try{i.apply(this,arguments)}catch(e){s.fail("Exception in overriden method '"+t+"': "+e)}return a}},TestSuite.prototype.testShowScriptsTab=function(){this.showPanel("sources");var e=this;this._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){e.releaseControl()}),this.takeControl()},TestSuite.prototype.testScriptsTabIsPopulatedOnInspectedPageRefresh=function(){var e=this;this.assertEquals(WebInspector.panels.elements,WebInspector.inspectorView.currentPanel(),"Elements panel should be current one."),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,function t(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,t),e.showPanel("sources"),e._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){e.releaseControl()})}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl()},TestSuite.prototype.testContentScriptIsPresent=function(){this.showPanel("sources");var e=this;e._waitUntilScriptsAreParsed(["page_with_content_script.html","simple_content_script.js"],function(){e.releaseControl()}),this.takeControl()},TestSuite.prototype.testNoScriptDuplicatesOnPanelSwitch=function(){var e=this;function t(){e.showPanel("elements"),setTimeout(i,0)}function i(){e.showPanel("sources"),setTimeout(n,0)}function n(){e.assertTrue(e._scriptsAreParsed(["debugger_test_page.html"]),"Some scripts are missing."),r(),e.releaseControl()}function r(){for(var t=e.nonAnonymousUISourceCodes_(),i=0;i<t.length;i++)for(var n=t[i].url,r=i+1;r<t.length;r++)e.assertTrue(n!==t[r].url,"Found script duplicates: "+e.uiSourceCodesToString_(t))}this.showPanel("sources"),e._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){r(),setTimeout(t,0)}),this.takeControl()},TestSuite.prototype.testPauseWhenLoadingDevTools=function(){this.showPanel("sources"),WebInspector.debuggerModel.debuggerPausedDetails||(this._waitForScriptPause(this.releaseControl.bind(this)),this.takeControl())},TestSuite.prototype.testPauseWhenScriptIsRunning=function(){this.showPanel("sources"),this.evaluateInConsole_('setTimeout("handleClick()" , 0)',function(e){this.assertTrue(!isNaN(e),"Failed to get timer id: "+e),setTimeout(function(){WebInspector.panels.sources._pauseButton.element.click(),this._waitForScriptPause(this.releaseControl.bind(this))}.bind(this),300)}.bind(this)),this.takeControl()},TestSuite.prototype.testNetworkSize=function(){var e=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",function(t,i){e.assertEquals(219,t.transferSize,"Incorrect total encoded data length"),e.assertEquals(25,t.resourceSize,"Incorrect total data length"),e.releaseControl()}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl()},TestSuite.prototype.testNetworkSyncSize=function(){var e=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",function(t,i){e.assertEquals(219,t.transferSize,"Incorrect total encoded data length"),e.assertEquals(25,t.resourceSize,"Incorrect total data length"),e.releaseControl()}),e.evaluateInConsole_('var xhr = new XMLHttpRequest(); xhr.open("GET", "chunked", false); xhr.send(null);',function(){}),this.takeControl()},TestSuite.prototype.testNetworkRawHeadersText=function(){var e=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",function(t,i){t.responseHeadersText||e.fail("Failure: resource does not have response headers text"),e.assertEquals(164,t.responseHeadersText.length,"Incorrect response headers text length"),e.releaseControl()}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl()},TestSuite.prototype.testNetworkTiming=function(){var e=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",function(t,i){e.assertTrue(t.timing.receiveHeadersEnd-t.timing.connectStart>=70,"Time between receiveHeadersEnd and connectStart should be >=70ms, but was receiveHeadersEnd="+t.timing.receiveHeadersEnd+", connectStart="+t.timing.connectStart+"."),e.assertTrue(t.responseReceivedTime-t.startTime>=.07,"Time between responseReceivedTime and startTime should be >=0.07s, but was responseReceivedTime="+t.responseReceivedTime+", startTime="+t.startTime+"."),e.assertTrue(t.endTime-t.startTime>=.14,"Time between endTime and startTime should be >=0.14s, but was endtime="+t.endTime+", startTime="+t.startTime+"."),e.releaseControl()}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl()},TestSuite.prototype.testConsoleOnNavigateBack=function(){function e(){WebInspector.console.removeEventListener(WebInspector.ConsoleModel.Events.MessageAdded,e,this),this.evaluateInConsole_("clickLink();",function(){this.assertEquals(3,WebInspector.console.messages.length),this.evaluateInConsole_("history.back();",function(){this.evaluateInConsole_("void 0;",function(){this.assertEquals(7,WebInspector.console.messages.length),this.releaseControl()}.bind(this))}.bind(this))}.bind(this))}1===WebInspector.console.messages.length?e.call(this):WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,e,this),this.takeControl()},TestSuite.prototype.testReattachAfterCrash=function(){this.evaluateInConsole_("1+1;",this.releaseControl.bind(this)),this.takeControl()},TestSuite.prototype.testSharedWorker=function(){this.evaluateInConsole_("globalVar",function(e){this.assertEquals("2011",e),this.releaseControl()}.bind(this)),this.takeControl()},TestSuite.prototype.testPauseInSharedWorkerInitialization=function(){WebInspector.debuggerModel.debuggerPausedDetails||(this._waitForScriptPause(this.releaseControl.bind(this)),this.takeControl())},TestSuite.prototype.testTimelineFrames=function(){var e=this;e.recordTimeline(function(t){for(var i=0,n={},r=0;r<t.length;++r){var s=t[r];"BeginFrame"===s.type?i++&&(e.assertHasKey(n,"FireAnimationFrame"),e.assertHasKey(n,"Layout"),e.assertHasKey(n,"RecalculateStyles"),e.assertHasKey(n,"Paint"),n={}):n[s.type]=(n[s.type]||0)+1}e.assertTrue(i>=5,"Not enough frames"),e.releaseControl()}),e.evaluateInConsole_("runTest()",function(){}),e.takeControl()},TestSuite.prototype.testPageOverlayUpdate=function(){var e=this;function t(){e.evaluateInConsole_("inspect(document.getElementById('div2'))",function(){}),WebInspector.notifications.addEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,i)}function i(){WebInspector.notifications.removeEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,i),e.stopTimeline()}function n(t){for(var i={},n=0;n<t.length;++n)i[t[n].type]=(i[t[n].type]||0)+1;var r=i.BeginFrame;e.assertTrue(r>=2,"Not enough DevTools overlay updates"),e.assertTrue(r<6,"Too many updates caused by DevTools overlay"),e.releaseControl()}WebInspector.inspectorView.panel("elements"),e.evaluateInConsole_(function(){var e=document.createElement("div");e.id="div1",e.style.webkitTransform="translateZ(0)",document.body.appendChild(e);var t=document.createElement("div");t.id="div2",document.body.appendChild(t)}.toString()+"; populatePage();inspect(document.getElementById('div1'))",function(){}),WebInspector.notifications.addEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,function i(){WebInspector.notifications.removeEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,i),e.recordTimeline(n),setTimeout(t,500)}),this.takeControl()},TestSuite.prototype.recordTimeline=function(e){var t=[];function i(e){n(e.data)}function n(r){t.push(r),"TimeStamp"===r.type&&"ready"===r.data.message&&(WebInspector.timelineManager.stop(),WebInspector.timelineManager.removeEventListener(WebInspector.TimelineManager.EventTypes.TimelineEventRecorded,i),e(t)),r.children&&r.children.forEach(n)}WebInspector.timelineManager.addEventListener(WebInspector.TimelineManager.EventTypes.TimelineEventRecorded,i),WebInspector.timelineManager.start()},TestSuite.prototype.stopTimeline=function(){this.evaluateInConsole_("console.timeStamp('ready')",function(){})},TestSuite.prototype.waitForTestResultsInConsole=function(){for(var e=WebInspector.console.messages,t=0;t<e.length;++t){var i=e[t].messageText;if("PASS"===i)return;/^FAIL/.test(i)&&this.fail(i)}WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,function(e){var t=e.data.messageText;"PASS"===t?this.releaseControl():/^FAIL/.test(t)&&this.fail(t)},this),this.takeControl()},TestSuite.prototype.checkLogAndErrorMessages=function(){var e=WebInspector.console.messages,t=0;function i(e){return"log"===e.text&&e.level===WebInspector.ConsoleMessage.MessageLevel.Log?(++t,!0):"error"===e.text&&e.level===WebInspector.ConsoleMessage.MessageLevel.Error&&(++t,!0)}for(var n=0;n<e.length;++n)i(e[n])||this.fail(e[n].text+":"+e[n].level);2!==t&&(WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,function(r){var s=r.data;if(i(s)){if(2===t)return void this.releaseControl()}else this.fail(s.text+":"+e[n].level)},this),this.takeControl())},TestSuite.prototype.uiSourceCodesToString_=function(e){for(var t=[],i=0;i<e.length;i++)t.push('"'+e[i].url+'"');return t.join(",")},TestSuite.prototype.nonAnonymousUISourceCodes_=function(){var e=WebInspector.workspace.uiSourceCodes();return(e=e.filter(function(e){return!e.project().isServiceProject()})).filter(function(e){return!!e.url})},TestSuite.prototype.evaluateInConsole_=function(e,t){WebInspector.console.show();var i=WebInspector.ConsolePanel._view();i.prompt.text=e,i.promptElement.dispatchEvent(TestSuite.createKeyEvent("Enter")),this.addSniffer(WebInspector.ConsoleView.prototype,"_showConsoleMessage",function(e){t(e.toMessageElement().textContent)}.bind(this))},TestSuite.prototype._scriptsAreParsed=function(e){for(var t=this.nonAnonymousUISourceCodes_(),i=e.slice(0),n=0;n<t.length;++n)for(var r=0;r<i.length;++r)if(-1!==t[n].name().search(i[r])){i.splice(r,1);break}return 0===i.length},TestSuite.prototype._waitForScriptPause=function(e){WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,function t(i){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,t,this),e()},this)},TestSuite.prototype._executeCodeWhenScriptsAreParsed=function(e,t){var i=this;i._waitUntilScriptsAreParsed(t,function(){i.evaluateInConsole_('setTimeout("'+e+'" , 0)',function(t){i.assertTrue(!isNaN(t),"Failed to get timer id: "+t+". Code: "+e)})})},TestSuite.prototype._waitUntilScriptsAreParsed=function(e,t){var i=this;!function n(){i._scriptsAreParsed(e)?t():i.addSniffer(WebInspector.panels.sources.sourcesView(),"_addUISourceCode",n)}()},TestSuite.createKeyEvent=function(e){var t=document.createEvent("KeyboardEvent");return t.initKeyboardEvent("keydown",!0,!0,null,e,""),t};var uiTests={runAllTests:function(){for(var e in TestSuite.prototype)"test"===e.substring(0,4)&&"function"==typeof TestSuite.prototype[e]&&uiTests.runTest(e)},runTest:function(e){uiTests._populatedInterface?(new TestSuite).runTest(e):uiTests._pendingTestName=e}};e=InspectorFrontendAPI.loadCompleted,InspectorFrontendAPI.loadCompleted=function(){e.call(InspectorFrontendAPI),function(){uiTests._populatedInterface=!0;var e=uiTests._pendingTestName;delete uiTests._pendingTestName,e&&(new TestSuite).runTest(e)}()}}WebInspector.FlameChartDelegate=function(){},WebInspector.FlameChartDelegate.prototype={requestWindowTimes:function(e,t){}},WebInspector.FlameChart=function(e,t,i,n){WebInspector.HBox.call(this),this.element.classList.add("flame-chart-main-pane"),this._flameChartDelegate=t,this._isTopDown=i,this._timeBasedWindow=n,this._calculator=new WebInspector.FlameChart.Calculator,this._canvas=this.element.createChild("canvas"),this._canvas.addEventListener("mousemove",this._onMouseMove.bind(this)),this._canvas.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),this._canvas.addEventListener("click",this._onClick.bind(this),!1),WebInspector.installDragHandle(this._canvas,this._startCanvasDragging.bind(this),this._canvasDragging.bind(this),this._endCanvasDragging.bind(this),"move",null),this._vScrollElement=this.element.createChild("div","flame-chart-v-scroll"),this._vScrollContent=this._vScrollElement.createChild("div"),this._vScrollElement.addEventListener("scroll",this._scheduleUpdate.bind(this),!1),this._entryInfo=this.element.createChild("div","profile-entry-info"),this._highlightElement=this.element.createChild("div","flame-chart-highlight-element"),this._selectedElement=this.element.createChild("div","flame-chart-selected-element"),this._dataProvider=e,this._windowLeft=0,this._windowRight=1,this._windowWidth=1,this._timeWindowLeft=0,this._timeWindowRight=1/0,this._barHeight=e.barHeight(),this._barHeightDelta=this._isTopDown?-this._barHeight:this._barHeight,this._minWidth=1,this._paddingLeft=this._dataProvider.paddingLeft(),this._highlightedEntryIndex=-1,this._selectedEntryIndex=-1,this._textWidth={}},WebInspector.FlameChart.DividersBarHeight=20,WebInspector.FlameChartDataProvider=function(){},WebInspector.FlameChart.TimelineData,WebInspector.FlameChartDataProvider.prototype={barHeight:function(){},dividerOffsets:function(e,t){},zeroTime:function(){},totalTime:function(){},maxStackDepth:function(){},timelineData:function(){},prepareHighlightedEntryInfo:function(e){},canJumpToEntry:function(e){},entryTitle:function(e){},entryFont:function(e){},entryColor:function(e){},decorateEntry:function(e,t,i,n,r,s,o,a){},forceDecoration:function(e){},textColor:function(e){},textBaseline:function(){},textPadding:function(){},highlightTimeRange:function(e){},paddingLeft:function(){}},WebInspector.FlameChart.Events={EntrySelected:"EntrySelected"},WebInspector.FlameChart.Calculator=function(){this._paddingLeft=0},WebInspector.FlameChart.Calculator.prototype={paddingLeft:function(){return this._paddingLeft},_updateBoundaries:function(e){this._totalTime=e._dataProvider.totalTime(),this._zeroTime=e._dataProvider.zeroTime(),this._minimumBoundaries=this._zeroTime+e._windowLeft*this._totalTime,this._maximumBoundaries=this._zeroTime+e._windowRight*this._totalTime,this._paddingLeft=e._paddingLeft,this._width=e._canvas.width/window.devicePixelRatio-this._paddingLeft,this._timeToPixel=this._width/this.boundarySpan()},computePosition:function(e){return Math.round((e-this._minimumBoundaries)*this._timeToPixel+this._paddingLeft)},formatTime:function(e,t){return Number.preciseMillisToString(e-this._zeroTime,t)},maximumBoundary:function(){return this._maximumBoundaries},minimumBoundary:function(){return this._minimumBoundaries},zeroTime:function(){return this._zeroTime},boundarySpan:function(){return this._maximumBoundaries-this._minimumBoundaries}},WebInspector.FlameChart.prototype={_resetCanvas:function(){var e=window.devicePixelRatio;this._canvas.width=this._offsetWidth*e,this._canvas.height=this._offsetHeight*e},_timelineData:function(){return this._dataProvider.timelineData()},changeWindow:function(e,t){console.assert(!this._timeBasedWindow),this._windowLeft=e,this._windowRight=t,this._windowWidth=this._windowRight-this._windowLeft,this._scheduleUpdate()},setWindowTimes:function(e,t){console.assert(this._timeBasedWindow),this._timeWindowLeft=e,this._timeWindowRight=t,this._scheduleUpdate()},_startCanvasDragging:function(e){return!!this._timelineData()&&(this._isDragging=!0,this._maxDragOffset=0,this._dragStartPointX=e.pageX,this._dragStartPointY=e.pageY,this._dragStartScrollTop=this._vScrollElement.scrollTop,this._dragStartWindowLeft=this._timeWindowLeft,this._dragStartWindowRight=this._timeWindowRight,this._canvas.style.cursor="",!0)},_canvasDragging:function(e){var t=this._dragStartPointX-e.pageX,i=this._dragStartPointY-e.pageY;this._vScrollElement.scrollTop=this._dragStartScrollTop+i,this._totalPixels;var n=this._windowWidth*this._totalTime*t/this._pixelWindowWidth;n=Number.constrain(n,this._zeroTime-this._dragStartWindowLeft,this._zeroTime+this._totalTime-this._dragStartWindowRight);var r=this._dragStartWindowLeft+n,s=this._dragStartWindowRight+n;this._flameChartDelegate.requestWindowTimes(r,s),this._maxDragOffset=Math.max(this._maxDragOffset,Math.abs(t))},_endCanvasDragging:function(){this._isDragging=!1},_onMouseMove:function(e){if(!this._isDragging){var t=this._coordinatesToEntryIndex(e.offsetX,e.offsetY);if(this._highlightedEntryIndex!==t&&(-1!==t&&this._dataProvider.canJumpToEntry(t)?this._canvas.style.cursor="pointer":this._canvas.style.cursor="default",this._highlightedEntryIndex=t,this._updateElementPosition(this._highlightElement,this._highlightedEntryIndex),this._entryInfo.removeChildren(),-1!==this._highlightedEntryIndex&&!this._isDragging)){var i=this._dataProvider.prepareHighlightedEntryInfo(this._highlightedEntryIndex);i&&this._entryInfo.appendChild(this._buildEntryInfo(i))}}},_onClick:function(){this._maxDragOffset>5||-1!==this._highlightedEntryIndex&&this.dispatchEventToListeners(WebInspector.FlameChart.Events.EntrySelected,this._highlightedEntryIndex)},_onMouseWheel:function(e){var t=this._timeWindowLeft?this._timeWindowLeft:this._dataProvider.zeroTime(),i=this._timeWindowRight!==1/0?this._timeWindowRight:this._dataProvider.zeroTime()+this._dataProvider.totalTime();if(e.wheelDeltaY)if(e.altKey)this._vScrollElement.scrollTop-=e.wheelDeltaY/120*this._offsetHeight/8;else{const s=1/120;var n=Math.pow(1.2,-e.wheelDeltaY*s)-1,r=this._cursorTime(e.offsetX);t+=(t-r)*n,i+=(i-r)*n}else{var s=e.wheelDeltaX*this._pixelToTime;t+=s=Number.constrain(s,this._zeroTime-t,this._totalTime+this._zeroTime-i),i+=s}t=Number.constrain(t,this._zeroTime,this._totalTime+this._zeroTime),i=Number.constrain(i,this._zeroTime,this._totalTime+this._zeroTime),this._flameChartDelegate.requestWindowTimes(t,i)},_cursorTime:function(e){return(e+this._pixelWindowLeft-this._paddingLeft)*this._pixelToTime+this._zeroTime},_coordinatesToEntryIndex:function(e,t){t+=this._scrollTop;var i=this._timelineData();if(!i)return-1;for(var n=this._cursorTime(e)-this._zeroTime,r=this._isTopDown?Math.floor((t-WebInspector.FlameChart.DividersBarHeight)/this._barHeight):Math.floor((this._canvas.height/window.devicePixelRatio-t)/this._barHeight),s=i.entryOffsets,o=i.entryTotalTimes,a=i.entryLevels,c=s.length,l=0;l<c;++l)if(r===a[l]){if(n<s[l])return-1;if(n<s[l]+o[l])return l}return-1},draw:function(e,t){var i=this._timelineData();if(i){var n=this._canvas.getContext("2d");n.save();var r=window.devicePixelRatio;n.scale(r,r);var s=this._timeWindowRight-this._zeroTime,o=this._timeWindowLeft-this._zeroTime,a=(this._timeToPixel,this._pixelWindowLeft,this._paddingLeft,this._minWidth),c=i.entryTotalTimes,l=i.entryOffsets,d=i.entryLevels,h=new Uint32Array(i.entryTotalTimes),p=0,u=this._dataProvider.textPadding();this._minTextWidth=2*u+this._measureWidth(n,"…");for(var m=this._minTextWidth,_=new Int32Array(this._dataProvider.maxStackDepth()),g=0;g<_.length;++g)_[g]=-1;var b=this._barHeight,f=this._offsetToPosition.bind(this),I=this._baseHeight+b-this._dataProvider.textBaseline(),v={},S=Math.max(0,Math.floor((this._scrollTop-this._baseHeight)/b)),y=Math.min(this._dataProvider.maxStackDepth(),Math.ceil((t+this._scrollTop)/b)),C=y-S+1;n.translate(0,-this._scrollTop);var W=0,w=[];for(g=0;g<C;++g)w[g]=!1;for(var E=0;W<C&&E<l.length;++E)if(!((O=d[E])<S||O>y||w[O-S]))if((F=l[E])>s)w[O-S]=!0,W++;else{var k=F+c[E];if(!(k<o||(N=this._offsetToPosition(k))<=_[O])){var T=Math.max(this._offsetToPosition(F),_[O]);_[O]=N;var x=N-T,M=v[R=this._dataProvider.entryColor(E)];M||(M=[],v[R]=M),M.push(E)}}for(var P=Object.keys(v),L=0;L<P.length;++L){var R=P[L];n.fillStyle=R,n.strokeStyle=R;var D=v[R];for(n.beginPath(),g=0;g<D.length;++g){var F=l[E=D[g]],N=(T=this._offsetToPosition(F),this._offsetToPosition(F+c[E])),O=(x=Math.max(N-T,a),d[E]),B=this._levelToHeight(O);n.rect(T,B,x,b),(x>m||this._dataProvider.forceDecoration(E))&&(h[p++]=E)}n.fill()}for(n.textBaseline="alphabetic",g=0;g<p;++g){F=l[E=h[g]],T=this._offsetToPosition(F),N=this._offsetToPosition(F+c[E]),x=Math.max(N-T,a),O=d[E],B=this._levelToHeight(O);var U=this._dataProvider.entryTitle(E);U&&U.length&&(U=this._prepareText(n,U,x-2*u)),this._dataProvider.decorateEntry(E,n,U,T,B,x,b,f)||U&&U.length&&(n.font=this._dataProvider.entryFont(E),n.fillStyle=this._dataProvider.textColor(E),n.fillText(U,T+u,I-O*this._barHeightDelta))}n.restore();var A=this._dataProvider.dividerOffsets(this._calculator.minimumBoundary(),this._calculator.maximumBoundary());i.entryOffsets.length&&WebInspector.TimelineGrid.drawCanvasGrid(this._canvas,this._calculator,A),this._updateElementPosition(this._highlightElement,this._highlightedEntryIndex),this._updateElementPosition(this._selectedElement,this._selectedEntryIndex)}},setSelectedEntry:function(e){this._selectedEntryIndex=e,this._updateElementPosition(this._selectedElement,this._selectedEntryIndex)},_updateElementPosition:function(e,t){if(e.parentElement&&e.remove(),-1!==t){var i=this._dataProvider.highlightTimeRange(t);if(i){var n=this._timelineData(),r=this._offsetToPosition(i.startTimeOffset),s=this._offsetToPosition(i.endTimeOffset);if(0!==s&&r!==this._canvas.width){var o=Math.max(s-r,this._minWidth),a=this._levelToHeight(n.entryLevels[t])-this._scrollTop,c=e.style;c.left=r+"px",c.top=a+"px",c.width=o+"px",c.height=this._barHeight+"px",this.element.appendChild(e)}}}},_offsetToPosition:function(e){var t=Math.floor(e*this._timeToPixel)-this._pixelWindowLeft+this._paddingLeft;return Math.min(this._canvas.width,Math.max(0,t))},_levelToHeight:function(e){return this._baseHeight-e*this._barHeightDelta},_buildEntryInfo:function(e){var t=document.createElement("table");t.className="info-table";for(var i=0;i<e.length;++i){var n=t.createChild("tr"),r=n.createChild("td");r.textContent=e[i].title,r.className="title",n.createChild("td").textContent=e[i].text}return t},_prepareText:function(e,t,i){var n=this._measureWidth(e,t);if(i>n)return t;for(var r=3,s=t.length;r<s;){var o=r+s>>1;this._measureWidth(e,t.trimMiddle(o))<i?r=o+1:s=o}return t=t.trimMiddle(s-1),(n=this._measureWidth(e,t))<=i?t:i>this._measureWidth(e,"…")?"…":""},_measureWidth:function(e,t){if(t.length>20)return e.measureText(t).width;var i=this._textWidth[t];return i||(i=e.measureText(t).width,this._textWidth[t]=i),i},_updateBoundaries:function(){this._totalTime=this._dataProvider.totalTime(),this._zeroTime=this._dataProvider.zeroTime(),this._timeBasedWindow?this._timeWindowRight!==1/0?(this._windowLeft=(this._timeWindowLeft-this._zeroTime)/this._totalTime,this._windowRight=(this._timeWindowRight-this._zeroTime)/this._totalTime,this._windowWidth=this._windowRight-this._windowLeft):(this._windowLeft=0,this._windowRight=1,this._windowWidth=1):(this._timeWindowLeft=this._windowLeft*this._totalTime,this._timeWindowRight=this._windowRight*this._totalTime),this._pixelWindowWidth=this._offsetWidth-this._paddingLeft,this._totalPixels=Math.floor(this._pixelWindowWidth/this._windowWidth),this._pixelWindowLeft=Math.floor(this._totalPixels*this._windowLeft),this._pixelWindowRight=Math.floor(this._totalPixels*this._windowRight),this._timeToPixel=this._totalPixels/this._totalTime,this._pixelToTime=this._totalTime/this._totalPixels,this._paddingLeftTime=this._paddingLeft/this._timeToPixel,this._baseHeight=this._isTopDown?WebInspector.FlameChart.DividersBarHeight:this._offsetHeight-this._barHeight;var e=this._levelToHeight(this._dataProvider.maxStackDepth());this._vScrollContent.style.height=e+"px",this._scrollTop=this._vScrollElement.scrollTop},onResize:function(){this._offsetWidth=this.element.offsetWidth-this._vScrollElement.offsetWidth,this._offsetHeight=this.element.offsetHeight,this._canvas.style.width=this._offsetWidth+"px",this._canvas.style.height=this._offsetHeight+"px",this._scheduleUpdate()},_scheduleUpdate:function(){this._updateTimerId||(this._updateTimerId=requestAnimationFrame(this.update.bind(this)))},update:function(){this._updateTimerId=0,this._timelineData()&&(this._resetCanvas(),this._updateBoundaries(),this._calculator._updateBoundaries(this),this.draw(this._offsetWidth,this._offsetHeight))},reset:function(){this._highlightedEntryIndex=-1,this._selectedEntryIndex=-1,this._textWidth={},this.update()},__proto__:WebInspector.HBox.prototype},WebInspector.PaintProfilerSnapshot=function(e){this._id=e},WebInspector.PaintProfilerSnapshot.prototype={dispose:function(){LayerTreeAgent.releaseSnapshot(this._id)},requestImage:function(e,t,i){var n=InspectorBackend.wrapClientCallback(i,"LayerTreeAgent.replaySnapshot(): ");LayerTreeAgent.replaySnapshot(this._id,e||void 0,t||void 0,n)},profile:function(e){var t=InspectorBackend.wrapClientCallback(e,"LayerTreeAgent.profileSnapshot(): ");LayerTreeAgent.profileSnapshot(this._id,5,1,t)}},WebInspector.HelpScreenUntilReload=function(e,t){WebInspector.HelpScreen.call(this,e);var i=this.contentElement.createChild("p");i.classList.add("help-section"),i.textContent=t,WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this.hide,this)},WebInspector.HelpScreenUntilReload.prototype={willHide:function(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this.hide,this),WebInspector.HelpScreen.prototype.willHide.call(this)},__proto__:WebInspector.HelpScreen.prototype},WebInspector.ZoomManager=function(){this._zoomFactor=InspectorFrontendHost.zoomFactor(),window.addEventListener("resize",this._onWindowResize.bind(this),!0)},WebInspector.ZoomManager.Events={ZoomChanged:"ZoomChanged"},WebInspector.ZoomManager.prototype={zoomFactor:function(){return this._zoomFactor},_onWindowResize:function(){var e=this._zoomFactor;this._zoomFactor=InspectorFrontendHost.zoomFactor(),e!==this._zoomFactor&&this.dispatchEventToListeners(WebInspector.ZoomManager.Events.ZoomChanged,{from:e,to:this._zoomFactor})},__proto__:WebInspector.Object.prototype},WebInspector.zoomManager},89:function(e,t){WebInspector.ProfileType=function(e,t){WebInspector.Object.call(this),this._id=e,this._name=t,this._profiles=[],this._profileBeingRecorded=null,this._nextProfileUid=1,window.addEventListener("unload",this._clearTempStorage.bind(this),!1)},WebInspector.ProfileType.Events={AddProfileHeader:"add-profile-header",RemoveProfileHeader:"remove-profile-header",ViewUpdated:"view-updated"},WebInspector.ProfileType.prototype={hasTemporaryView:function(){return!1},fileExtension:function(){return null},get statusBarItems(){return[]},get buttonTooltip(){return""},get id(){return this._id},get treeItemTitle(){return this._name},get name(){return this._name},buttonClicked:function(){return!1},get description(){return""},isInstantProfile:function(){return!1},isEnabled:function(){return!0},getProfiles:function(){return this._profiles.filter(function(e){return this._profileBeingRecorded!==e}.bind(this))},decorationElement:function(){return null},getProfile:function(e){for(var t=0;t<this._profiles.length;++t)if(this._profiles[t].uid===e)return this._profiles[t];return null},loadFromFile:function(e){var t=e.name;t.endsWith(this.fileExtension())&&(t=t.substr(0,t.length-this.fileExtension().length));var i=this.createProfileLoadedFromFile(t);i.setFromFile(),this._profileBeingRecorded=i,this.addProfile(i),i.loadFromFile(e)},createProfileLoadedFromFile:function(e){throw new Error("Needs implemented.")},addProfile:function(e){this._profiles.push(e),this.dispatchEventToListeners(WebInspector.ProfileType.Events.AddProfileHeader,e)},removeProfile:function(e){var t=this._profiles.indexOf(e);-1!==t&&(this._profiles.splice(t,1),this._disposeProfile(e))},_clearTempStorage:function(){for(var e=0;e<this._profiles.length;++e)this._profiles[e].removeTempFile()},profileBeingRecorded:function(){return this._profileBeingRecorded},profileBeingRecordedRemoved:function(){},_reset:function(){for(var e=this._profiles.slice(0),t=0;t<e.length;++t)this._disposeProfile(e[t]);this._profiles=[],this._nextProfileUid=1},_disposeProfile:function(e){this.dispatchEventToListeners(WebInspector.ProfileType.Events.RemoveProfileHeader,e),e.dispose(),this._profileBeingRecorded===e&&(this.profileBeingRecordedRemoved(),this._profileBeingRecorded=null)},__proto__:WebInspector.Object.prototype},WebInspector.ProfileHeader=function(e,t){this._profileType=e,this.title=t,this.uid=e._nextProfileUid++,this._fromFile=!1},WebInspector.ProfileHeader.StatusUpdate=function(e,t){this.subtitle=e,this.wait=t},WebInspector.ProfileHeader.Events={UpdateStatus:"UpdateStatus",ProfileReceived:"ProfileReceived"},WebInspector.ProfileHeader.prototype={profileType:function(){return this._profileType},updateStatus:function(e,t){this.dispatchEventToListeners(WebInspector.ProfileHeader.Events.UpdateStatus,new WebInspector.ProfileHeader.StatusUpdate(e,t))},createSidebarTreeElement:function(){throw new Error("Needs implemented.")},createView:function(){throw new Error("Not implemented.")},removeTempFile:function(){this._tempFile&&this._tempFile.remove()},dispose:function(){},load:function(e){},canSaveToFile:function(){return!1},saveToFile:function(){throw new Error("Needs implemented")},loadFromFile:function(e){throw new Error("Needs implemented")},fromFile:function(){return this._fromFile},setFromFile:function(){this._fromFile=!0},__proto__:WebInspector.Object.prototype},WebInspector.ProfilesPanel=function(){WebInspector.PanelWithSidebarTree.call(this,"profiles"),this.registerRequiredCSS("panelEnablerView.css"),this.registerRequiredCSS("heapProfiler.css"),this.registerRequiredCSS("profilesPanel.css"),this._searchableView=new WebInspector.SearchableView(this);var e=new WebInspector.VBox;this._searchableView.show(e.element),e.show(this.mainElement()),this.profilesItemTreeElement=new WebInspector.ProfilesSidebarTreeElement(this),this.sidebarTree.appendChild(this.profilesItemTreeElement),this.profileViews=document.createElement("div"),this.profileViews.id="profile-views",this.profileViews.classList.add("vbox"),this._searchableView.element.appendChild(this.profileViews);var t=document.createElementWithClass("div","profiles-status-bar");e.element.insertBefore(t,e.element.firstChild),this._statusBarElement=t.createChild("div","status-bar"),this.sidebarElement().classList.add("profiles-sidebar-tree-box");var i=document.createElementWithClass("div","profiles-status-bar");this.sidebarElement().insertBefore(i,this.sidebarElement().firstChild),this._statusBarButtons=i.createChild("div","status-bar"),this.recordButton=new WebInspector.StatusBarButton("","record-profile-status-bar-item"),this.recordButton.addEventListener("click",this.toggleRecordButton,this),this._statusBarButtons.appendChild(this.recordButton.element),this.clearResultsButton=new WebInspector.StatusBarButton(WebInspector.UIString("Clear all profiles."),"clear-status-bar-item"),this.clearResultsButton.addEventListener("click",this._reset,this),this._statusBarButtons.appendChild(this.clearResultsButton.element),this._profileTypeStatusBarItemsContainer=this._statusBarElement.createChild("div"),this._profileViewStatusBarItemsContainer=this._statusBarElement.createChild("div"),this._profileGroups={},this._launcherView=new WebInspector.MultiProfileLauncherView(this),this._launcherView.addEventListener(WebInspector.MultiProfileLauncherView.EventTypes.ProfileTypeSelected,this._onProfileTypeSelected,this),this._profileToView=[],this._typeIdToSidebarSection={};for(var n=WebInspector.ProfileTypeRegistry.instance.profileTypes(),r=0;r<n.length;r++)this._registerProfileType(n[r]);this._launcherView.restoreSelectedProfileType(),this.profilesItemTreeElement.select(),this._showLauncherView(),this._createFileSelectorElement(),this.element.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!0),this._registerShortcuts(),this._configureCpuProfilerSamplingInterval(),WebInspector.settings.highResolutionCpuProfiling.addChangeListener(this._configureCpuProfilerSamplingInterval,this)},WebInspector.ProfileTypeRegistry=function(){this._profileTypes=[],this.cpuProfileType=new WebInspector.CPUProfileType,this._addProfileType(this.cpuProfileType),this.heapSnapshotProfileType=new WebInspector.HeapSnapshotProfileType,this._addProfileType(this.heapSnapshotProfileType),this.trackingHeapSnapshotProfileType=new WebInspector.TrackingHeapSnapshotProfileType,this._addProfileType(this.trackingHeapSnapshotProfileType),Capabilities.isMainFrontend&&WebInspector.experimentsSettings.canvasInspection.isEnabled()&&(this.canvasProfileType=new WebInspector.CanvasProfileType,this._addProfileType(this.canvasProfileType))},WebInspector.ProfileTypeRegistry.prototype={_addProfileType:function(e){this._profileTypes.push(e)},profileTypes:function(){return this._profileTypes}},WebInspector.ProfilesPanel.prototype={searchableView:function(){return this._searchableView},_createFileSelectorElement:function(){this._fileSelectorElement&&this.element.removeChild(this._fileSelectorElement),this._fileSelectorElement=WebInspector.createFileSelectorElement(this._loadFromFile.bind(this)),this.element.appendChild(this._fileSelectorElement)},_findProfileTypeByExtension:function(e){for(var t=WebInspector.ProfileTypeRegistry.instance.profileTypes(),i=0;i<t.length;i++){var n=t[i];if(n.fileExtension()&&e.endsWith(n.fileExtension()))return n}return null},_registerShortcuts:function(){this.registerShortcuts(WebInspector.ShortcutsScreen.ProfilesPanelShortcuts.StartStopRecording,this.toggleRecordButton.bind(this))},_configureCpuProfilerSamplingInterval:function(){var e=WebInspector.settings.highResolutionCpuProfiling.get()?100:1e3;ProfilerAgent.setSamplingInterval(e,function(e){e&&WebInspector.console.showErrorMessage(e)})},_loadFromFile:function(e){this._createFileSelectorElement();var t=this._findProfileTypeByExtension(e.name);if(t)t.profileBeingRecorded()?WebInspector.console.log(WebInspector.UIString("Can't load profile when other profile is recording.")):t.loadFromFile(e);else{for(var i=[],n=WebInspector.ProfileTypeRegistry.instance.profileTypes(),r=0;r<n.length;r++){var s=n[r].fileExtension();s&&i.push(s)}WebInspector.console.log(WebInspector.UIString("Can't load file. Only files with extensions '%s' can be loaded.",i.join("', '")))}},toggleRecordButton:function(){var e=this._selectedProfileType,t=e.buttonClicked();return this.recordButton.toggled=t,this.recordButton.title=e.buttonTooltip,t?(this._launcherView.profileStarted(),e.hasTemporaryView()&&this.showProfile(e.profileBeingRecorded())):this._launcherView.profileFinished(),!0},_profileBeingRecordedRemoved:function(){this.recordButton.toggled=!1,this.recordButton.title=this._selectedProfileType.buttonTooltip,this._launcherView.profileFinished()},_onProfileTypeSelected:function(e){this._selectedProfileType=e.data,this._updateProfileTypeSpecificUI()},_updateProfileTypeSpecificUI:function(){this.recordButton.title=this._selectedProfileType.buttonTooltip,this._launcherView.updateProfileType(this._selectedProfileType),this._profileTypeStatusBarItemsContainer.removeChildren();var e=this._selectedProfileType.statusBarItems;if(e)for(var t=0;t<e.length;++t)this._profileTypeStatusBarItemsContainer.appendChild(e[t])},_reset:function(){WebInspector.Panel.prototype.reset.call(this);for(var e=WebInspector.ProfileTypeRegistry.instance.profileTypes(),t=0;t<e.length;t++)e[t]._reset();delete this.visibleView,delete this.currentQuery,this.searchCanceled(),this._profileGroups={},this.recordButton.toggled=!1,this._selectedProfileType&&(this.recordButton.title=this._selectedProfileType.buttonTooltip),this._launcherView.profileFinished(),this.sidebarTree.element.classList.remove("some-expandable"),this._launcherView.detach(),this.profileViews.removeChildren(),this._profileViewStatusBarItemsContainer.removeChildren(),this.removeAllListeners(),this.recordButton.visible=!0,this._profileViewStatusBarItemsContainer.classList.remove("hidden"),this.clearResultsButton.element.classList.remove("hidden"),this.profilesItemTreeElement.select(),this._showLauncherView()},_showLauncherView:function(){this.closeVisibleView(),this._profileViewStatusBarItemsContainer.removeChildren(),this._launcherView.show(this.profileViews),this.visibleView=this._launcherView},_garbageCollectButtonClicked:function(){HeapProfilerAgent.collectGarbage()},_registerProfileType:function(e){this._launcherView.addProfileType(e);var t=new WebInspector.ProfileTypeSidebarSection(e);this._typeIdToSidebarSection[e.id]=t,this.sidebarTree.appendChild(t),t.childrenListElement.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!0),e.addEventListener(WebInspector.ProfileType.Events.ViewUpdated,this._updateProfileTypeSpecificUI,this),e.addEventListener(WebInspector.ProfileType.Events.AddProfileHeader,function(e){this._addProfileHeader(e.data)},this),e.addEventListener(WebInspector.ProfileType.Events.RemoveProfileHeader,function(e){this._removeProfileHeader(e.data)},this);for(var i=e.getProfiles(),n=0;n<i.length;n++)this._addProfileHeader(i[n])},_handleContextMenuEvent:function(e){for(var t=e.srcElement;t&&!t.treeElement&&t!==this.element;)t=t.parentElement;if(t)if(t.treeElement&&t.treeElement.handleContextMenuEvent)t.treeElement.handleContextMenuEvent(e,this);else{var i=new WebInspector.ContextMenu(e);this.visibleView instanceof WebInspector.HeapSnapshotView&&this.visibleView.populateContextMenu(i,e),t===this.element&&e.srcElement!==this.sidebarElement()||i.appendItem(WebInspector.UIString("Load…"),this._fileSelectorElement.click.bind(this._fileSelectorElement)),i.show()}},showLoadFromFileDialog:function(){this._fileSelectorElement.click()},_addProfileHeader:function(e){var t=e.profileType().id;this._typeIdToSidebarSection[t].addProfileHeader(e),this.visibleView&&this.visibleView!==this._launcherView||this.showProfile(e)},_removeProfileHeader:function(e){e.profileType()._profileBeingRecorded===e&&this._profileBeingRecordedRemoved();var t=this._indexOfViewForProfile(e);-1!==t&&this._profileToView.splice(t,1);var i=e.profileType().id;this._typeIdToSidebarSection[i].removeProfileHeader(e)&&(this.profilesItemTreeElement.select(),this._showLauncherView())},showProfile:function(e){if(!e||e.profileType().profileBeingRecorded()===e&&!e.profileType().hasTemporaryView())return null;var t=this._viewForProfile(e);if(t===this.visibleView)return t;this.closeVisibleView(),t.show(this.profileViews),this.visibleView=t,this._typeIdToSidebarSection[e.profileType().id].sidebarElementForProfile(e),this._profileViewStatusBarItemsContainer.removeChildren();var i=t.statusBarItems;if(i)for(var n=0;n<i.length;++n)this._profileViewStatusBarItemsContainer.appendChild(i[n]);return t},showObject:function(e,t){for(var i=WebInspector.ProfileTypeRegistry.instance.heapSnapshotProfileType.getProfiles(),n=0;n<i.length;n++){var r=i[n];if(r.maxJSObjectId>=e){this.showProfile(r),this._viewForProfile(r).highlightLiveObject(t,e);break}}},_viewForProfile:function(e){var t=this._indexOfViewForProfile(e);if(-1!==t)return this._profileToView[t].view;var i=e.createView();return i.element.classList.add("profile-view"),this._profileToView.push({profile:e,view:i}),i},_indexOfViewForProfile:function(e){for(var t=0;t<this._profileToView.length;t++)if(this._profileToView[t].profile===e)return t;return-1},closeVisibleView:function(){this.visibleView&&this.visibleView.detach(),delete this.visibleView},performSearch:function(e,t){this.searchCanceled();var i=this.visibleView;i&&(i.currentQuery=e,i.performSearch(e,function(e,i){i&&(this._searchableView.updateSearchMatchesCount(i),this._searchResultsView=e,t&&(e.jumpToFirstSearchResult(),this._searchableView.updateCurrentMatchIndex(e.currentSearchResultIndex())))}.bind(this)))},jumpToNextSearchResult:function(){this._searchResultsView&&this._searchResultsView===this.visibleView&&(this._searchResultsView.jumpToNextSearchResult(),this._searchableView.updateCurrentMatchIndex(this._searchResultsView.currentSearchResultIndex()))},jumpToPreviousSearchResult:function(){this._searchResultsView&&this._searchResultsView===this.visibleView&&(this._searchResultsView.jumpToPreviousSearchResult(),this._searchableView.updateCurrentMatchIndex(this._searchResultsView.currentSearchResultIndex()))},searchCanceled:function(){this._searchResultsView&&(this._searchResultsView.searchCanceled&&this._searchResultsView.searchCanceled(),this._searchResultsView.currentQuery=null,this._searchResultsView=null),this._searchableView.updateSearchMatchesCount(0)},appendApplicableItems:function(e,t,i){if(i instanceof WebInspector.RemoteObject&&WebInspector.inspectorView.currentPanel()===this){var n=i.objectId;n&&WebInspector.ProfileTypeRegistry.instance.heapSnapshotProfileType.getProfiles().length&&(WebInspector.settings.showAdvancedHeapSnapshotProperties.get()&&t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Dominators view":"Reveal in Dominators View"),r.bind(this,"Dominators")),t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Summary view":"Reveal in Summary View"),r.bind(this,"Summary")))}function r(e){HeapProfilerAgent.getHeapObjectId(n,function(e,t,i){WebInspector.inspectorView.currentPanel()===this&&(t||this.showObject(i,e))}.bind(this,e))}},__proto__:WebInspector.PanelWithSidebarTree.prototype},WebInspector.ProfileTypeSidebarSection=function(e){WebInspector.SidebarSectionTreeElement.call(this,e.treeItemTitle,null,!0),this._profileTreeElements=[],this._profileGroups={},this.hidden=!0},WebInspector.ProfileTypeSidebarSection.ProfileGroup=function(){this.profileSidebarTreeElements=[],this.sidebarTreeElement=null},WebInspector.ProfileTypeSidebarSection.prototype={addProfileHeader:function(e){this.hidden=!1;var t=e.profileType(),i=this,n=e.createSidebarTreeElement();if(this._profileTreeElements.push(n),!e.fromFile()&&t.profileBeingRecorded()!==e){var r=e.title,s=this._profileGroups[r];s||(s=new WebInspector.ProfileTypeSidebarSection.ProfileGroup,this._profileGroups[r]=s),s.profileSidebarTreeElements.push(n);var o=s.profileSidebarTreeElements.length;if(2===o){s.sidebarTreeElement=new WebInspector.ProfileGroupSidebarTreeElement(e.title);var a=s.profileSidebarTreeElements[0],c=this.children.indexOf(a);this.insertChild(s.sidebarTreeElement,c);var l=a.selected;this.removeChild(a),s.sidebarTreeElement.appendChild(a),l&&a.revealAndSelect(),a.small=!0,a.mainTitle=WebInspector.UIString("Run %d",1),this.treeOutline.element.classList.add("some-expandable")}o>=2&&(i=s.sidebarTreeElement,n.small=!0,n.mainTitle=WebInspector.UIString("Run %d",o))}i.appendChild(n)},removeProfileHeader:function(e){var t=this._sidebarElementIndex(e);if(-1===t)return!1;var i=this._profileTreeElements[t];this._profileTreeElements.splice(t,1);var n=this,r=this._profileGroups[e.title];if(r){var s=r.profileSidebarTreeElements;if(s.splice(s.indexOf(i),1),1===s.length){var o=n.children.indexOf(r.sidebarTreeElement);this.insertChild(s[0],o),s[0].small=!1,s[0].mainTitle=r.sidebarTreeElement.title,this.removeChild(r.sidebarTreeElement)}0!==s.length&&(n=r.sidebarTreeElement)}return n.removeChild(i),i.dispose(),!this.children.length&&(this.hidden=!0,!0)},sidebarElementForProfile:function(e){var t=this._sidebarElementIndex(e);return-1===t?null:this._profileTreeElements[t]},_sidebarElementIndex:function(e){for(var t=this._profileTreeElements,i=0;i<t.length;i++)if(t[i].profile===e)return i;return-1},__proto__:WebInspector.SidebarSectionTreeElement.prototype},WebInspector.ProfilesPanel.ContextMenuProvider=function(){},WebInspector.ProfilesPanel.ContextMenuProvider.prototype={appendApplicableItems:function(e,t,i){WebInspector.inspectorView.panel("profiles").appendApplicableItems(e,t,i)}},WebInspector.ProfileSidebarTreeElement=function(e,t){this.profile=e,WebInspector.SidebarTreeElement.call(this,t,e.title,"",e,!1),this.refreshTitles(),e.addEventListener(WebInspector.ProfileHeader.Events.UpdateStatus,this._updateStatus,this),e.canSaveToFile()?this._createSaveLink():e.addEventListener(WebInspector.ProfileHeader.Events.ProfileReceived,this._onProfileReceived,this)},WebInspector.ProfileSidebarTreeElement.prototype={_createSaveLink:function(){this._saveLinkElement=this.titleContainer.createChild("span","save-link"),this._saveLinkElement.textContent=WebInspector.UIString("Save"),this._saveLinkElement.addEventListener("click",this._saveProfile.bind(this),!1)},_onProfileReceived:function(e){this._createSaveLink()},_updateStatus:function(e){var t=e.data;null!==t.subtitle&&(this.subtitle=t.subtitle),"boolean"==typeof t.wait&&(this.wait=t.wait),this.refreshTitles()},dispose:function(){this.profile.removeEventListener(WebInspector.ProfileHeader.Events.UpdateStatus,this._updateStatus,this),this.profile.removeEventListener(WebInspector.ProfileHeader.Events.ProfileReceived,this._onProfileReceived,this)},onselect:function(){WebInspector.panels.profiles.showProfile(this.profile)},ondelete:function(){return this.profile.profileType().removeProfile(this.profile),!0},handleContextMenuEvent:function(e,t){var i=this.profile,n=new WebInspector.ContextMenu(e);n.appendItem(WebInspector.UIString("Load…"),t._fileSelectorElement.click.bind(t._fileSelectorElement)),i.canSaveToFile()&&n.appendItem(WebInspector.UIString("Save…"),i.saveToFile.bind(i)),n.appendItem(WebInspector.UIString("Delete"),this.ondelete.bind(this)),n.show()},_saveProfile:function(e){this.profile.saveToFile()},__proto__:WebInspector.SidebarTreeElement.prototype},WebInspector.ProfileGroupSidebarTreeElement=function(e,t){WebInspector.SidebarTreeElement.call(this,"profile-group-sidebar-tree-item",e,t,null,!0)},WebInspector.ProfileGroupSidebarTreeElement.prototype={onselect:function(){this.children.length>0&&WebInspector.panels.profiles.showProfile(this.children[this.children.length-1].profile)},__proto__:WebInspector.SidebarTreeElement.prototype},WebInspector.ProfilesSidebarTreeElement=function(e){this._panel=e,this.small=!1,WebInspector.SidebarTreeElement.call(this,"profile-launcher-view-tree-item",WebInspector.UIString("Profiles"),"",null,!1)},WebInspector.ProfilesSidebarTreeElement.prototype={onselect:function(){this._panel._showLauncherView()},get selectable(){return!0},__proto__:WebInspector.SidebarTreeElement.prototype},WebInspector.ProfileDataGridNode=function(e,t,i){this.profileNode=e,WebInspector.DataGridNode.call(this,null,i),this.tree=t,this.childrenByCallUID={},this.lastComparator=null,this.callUID=e.callUID,this.selfTime=e.selfTime,this.totalTime=e.totalTime,this.functionName=e.functionName,this._deoptReason=e.deoptReason&&"no reason"!==e.deoptReason?e.deoptReason:"",this.url=e.url},WebInspector.ProfileDataGridNode.prototype={get data(){function e(e){return WebInspector.UIString("%.1f ms",e)}var t={};if(this._deoptReason){var i=document.createDocumentFragment();i.createChild("span","profile-warn-marker").title=WebInspector.UIString("Not optimized: %s",this._deoptReason),i.createTextChild(this.functionName),t.function=i}else t.function=this.functionName;return this.tree.profileView.showSelfTimeAsPercent.get()?t.self=WebInspector.UIString("%.2f%",this.selfPercent):t.self=e(this.selfTime),this.tree.profileView.showTotalTimeAsPercent.get()?t.total=WebInspector.UIString("%.2f%",this.totalPercent):t.total=e(this.totalTime),t},createCell:function(e){var t=WebInspector.DataGridNode.prototype.createCell.call(this,e);if("self"===e&&this._searchMatchedSelfColumn?t.classList.add("highlight"):"total"===e&&this._searchMatchedTotalColumn&&t.classList.add("highlight"),"function"!==e)return t;if(this._deoptReason&&t.classList.add("not-optimized"),this.profileNode._searchMatchedFunctionColumn&&t.classList.add("highlight"),"0"!==this.profileNode.scriptId){var i=this.profileNode.lineNumber?this.profileNode.lineNumber-1:0,n=this.profileNode.columnNumber?this.profileNode.columnNumber-1:0,r=new WebInspector.DebuggerModel.Location(this.profileNode.scriptId,i,n),s=this.tree.profileView._linkifier.linkifyRawLocation(r,"profile-node-file");s||(s=this.tree.profileView._linkifier.linkifyLocation(this.profileNode.url,i,n,"profile-node-file")),s.style.maxWidth="75%",t.insertBefore(s,t.firstChild)}return t},select:function(e){WebInspector.DataGridNode.prototype.select.call(this,e),this.tree.profileView._dataGridNodeSelected(this)},deselect:function(e){WebInspector.DataGridNode.prototype.deselect.call(this,e),this.tree.profileView._dataGridNodeDeselected(this)},sort:function(e,t){for(var i=[[this]],n=0;n<i.length;++n)for(var r=i[n],s=r.length,o=0;o<s;++o){var a=r[o];if(t||a.expanded&&a.lastComparator!==e){a.lastComparator=e;var c=a.children,l=c.length;if(l){c.sort(e);for(var d=0;d<l;++d)c[d]._recalculateSiblings(d);i.push(c)}}else a.children.length&&(a.shouldRefreshChildren=!0)}},insertChild:function(e,t){WebInspector.DataGridNode.prototype.insertChild.call(this,e,t),this.childrenByCallUID[e.callUID]=e},removeChild:function(e){WebInspector.DataGridNode.prototype.removeChild.call(this,e),delete this.childrenByCallUID[e.callUID]},removeChildren:function(){WebInspector.DataGridNode.prototype.removeChildren.call(this),this.childrenByCallUID={}},findChild:function(e){return e?this.childrenByCallUID[e.callUID]:null},get selfPercent(){return this.selfTime/this.tree.totalTime*100},get totalPercent(){return this.totalTime/this.tree.totalTime*100},get _parent(){return this.parent!==this.dataGrid?this.parent:this.tree},populate:function(){if(!this._populated){this._populated=!0,this._sharedPopulate();var e=this.tree.lastComparator;e&&this.sort(e,!0)}},_save:function(){this._savedChildren||(this._savedSelfTime=this.selfTime,this._savedTotalTime=this.totalTime,this._savedChildren=this.children.slice())},_restore:function(){if(this._savedChildren){this.selfTime=this._savedSelfTime,this.totalTime=this._savedTotalTime,this.removeChildren();for(var e=this._savedChildren,t=e.length,i=0;i<t;++i)e[i]._restore(),this.appendChild(e[i])}},_merge:function(e,t){this.selfTime+=e.selfTime,t||(this.totalTime+=e.totalTime);var i=this.children.slice();this.removeChildren();for(var n=i.length,r=0;r<n;++r)t&&i[r]===e||this.appendChild(i[r]);for(n=(i=e.children.slice()).length,r=0;r<n;++r){var s=i[r],o=this.childrenByCallUID[s.callUID];o?o._merge(s,!1):this.appendChild(s)}},__proto__:WebInspector.DataGridNode.prototype},WebInspector.ProfileDataGridTree=function(e,t){this.tree=this,this.children=[],this.profileView=e,this.totalTime=t.totalTime,this.lastComparator=null,this.childrenByCallUID={}},WebInspector.ProfileDataGridTree.prototype={get expanded(){return!0},appendChild:function(e){this.insertChild(e,this.children.length)},insertChild:function(e,t){this.children.splice(t,0,e),this.childrenByCallUID[e.callUID]=e},removeChildren:function(){this.children=[],this.childrenByCallUID={}},findChild:WebInspector.ProfileDataGridNode.prototype.findChild,sort:WebInspector.ProfileDataGridNode.prototype.sort,_save:function(){this._savedChildren||(this._savedTotalTime=this.totalTime,this._savedChildren=this.children.slice())},restore:function(){if(this._savedChildren){this.children=this._savedChildren,this.totalTime=this._savedTotalTime;for(var e=this.children,t=e.length,i=0;i<t;++i)e[i]._restore();this._savedChildren=null}}},WebInspector.ProfileDataGridTree.propertyComparators=[{},{}],WebInspector.ProfileDataGridTree.propertyComparator=function(e,t){var i=WebInspector.ProfileDataGridTree.propertyComparators[t?1:0][e];return i||(i=t?function(t,i){return t[e]<i[e]?-1:t[e]>i[e]?1:0}:function(t,i){return t[e]>i[e]?-1:t[e]<i[e]?1:0},WebInspector.ProfileDataGridTree.propertyComparators[t?1:0][e]=i),i},WebInspector.BottomUpProfileDataGridNode=function(e,t){WebInspector.ProfileDataGridNode.call(this,e,t,this._willHaveChildren(e)),this._remainingNodeInfos=[]},WebInspector.BottomUpProfileDataGridNode.prototype={_takePropertiesFromProfileDataGridNode:function(e){this._save(),this.selfTime=e.selfTime,this.totalTime=e.totalTime},_keepOnlyChild:function(e){this._save(),this.removeChildren(),this.appendChild(e)},_exclude:function(e){this._remainingNodeInfos&&this.populate(),this._save();for(var t=this.children,i=this.children.length;i--;)t[i]._exclude(e);var n=this.childrenByCallUID[e];n&&this._merge(n,!0)},_restore:function(){WebInspector.ProfileDataGridNode.prototype._restore(),this.children.length||(this.hasChildren=this._willHaveChildren(this.profileNode))},_merge:function(e,t){this.selfTime-=e.selfTime,WebInspector.ProfileDataGridNode.prototype._merge.call(this,e,t)},_sharedPopulate:function(){for(var e=this._remainingNodeInfos,t=e.length,i=0;i<t;++i){var n=e[i],r=n.ancestor,s=n.focusNode,o=this.findChild(r);if(o){var a=n.totalTimeAccountedFor;o.selfTime+=s.selfTime,a||(o.totalTime+=s.totalTime)}else o=new WebInspector.BottomUpProfileDataGridNode(r,this.tree),r!==s&&(o.selfTime=s.selfTime,o.totalTime=s.totalTime),this.appendChild(o);var c=r.parent;c&&c.parent&&(n.ancestor=c,o._remainingNodeInfos.push(n))}delete this._remainingNodeInfos},_willHaveChildren:function(e){return!(!e.parent||!e.parent.parent)},__proto__:WebInspector.ProfileDataGridNode.prototype},WebInspector.BottomUpProfileDataGridTree=function(e,t){WebInspector.ProfileDataGridTree.call(this,e,t);var i=0,n=[[],[t]],r={};this._remainingNodeInfos=[];for(var s=0;s<n.length;++s)for(var o=n[s],a=n[++s],c=a.length,l=0;l<c;++l){var d=a[l];if(d.UID||(d.UID=++i),d.head&&d!==d.head){var h=r[d.callUID],p=!1;if(h){for(var u=o.length,m=0;m<u;++m)if(h[o[m].UID]){p=!0;break}}else h={},r[d.callUID]=h;h[d.UID]=!0,this._remainingNodeInfos.push({ancestor:d,focusNode:d,totalTimeAccountedFor:p})}var _=d.children;_.length&&(n.push(o.concat([d])),n.push(_))}return WebInspector.BottomUpProfileDataGridNode.prototype.populate.call(this),this},WebInspector.BottomUpProfileDataGridTree.prototype={focus:function(e){if(e){this._save();for(var t=e,i=e;t.parent&&t instanceof WebInspector.ProfileDataGridNode;)t._takePropertiesFromProfileDataGridNode(e),i=t,(t=t.parent)instanceof WebInspector.ProfileDataGridNode&&t._keepOnlyChild(i);this.children=[i],this.totalTime=e.totalTime}},exclude:function(e){if(e){this._save();var t=e.callUID,i=this.childrenByCallUID[t];i&&this.children.remove(i);for(var n=this.children,r=n.length,s=0;s<r;++s)n[s]._exclude(t);this.lastComparator&&this.sort(this.lastComparator,!0)}},_sharedPopulate:WebInspector.BottomUpProfileDataGridNode.prototype._sharedPopulate,__proto__:WebInspector.ProfileDataGridTree.prototype},WebInspector.CPUProfileFlameChart=function(e){WebInspector.VBox.call(this),this.registerRequiredCSS("flameChart.css"),this.element.id="cpu-flame-chart",this._overviewPane=new WebInspector.CPUProfileFlameChart.OverviewPane(e),this._overviewPane.show(this.element),this._mainPane=new WebInspector.FlameChart(e,this._overviewPane,!0,!1),this._mainPane.show(this.element),this._mainPane.addEventListener(WebInspector.FlameChart.Events.EntrySelected,this._onEntrySelected,this),this._overviewPane._overviewGrid.addEventListener(WebInspector.OverviewGrid.Events.WindowChanged,this._onWindowChanged,this)},WebInspector.CPUProfileFlameChart.prototype={_onWindowChanged:function(e){this._mainPane.changeWindow(this._overviewPane._overviewGrid.windowLeft(),this._overviewPane._overviewGrid.windowRight())},selectRange:function(e,t){this._overviewPane._selectRange(e,t)},_onEntrySelected:function(e){this.dispatchEventToListeners(WebInspector.FlameChart.Events.EntrySelected,e.data)},update:function(){this._overviewPane.update(),this._mainPane.update()},__proto__:WebInspector.VBox.prototype},WebInspector.CPUProfileFlameChart.OverviewCalculator=function(){},WebInspector.CPUProfileFlameChart.OverviewCalculator.prototype={paddingLeft:function(){return 0},_updateBoundaries:function(e){this._minimumBoundaries=0;var t=e._dataProvider.totalTime();this._maximumBoundaries=t,this._xScaleFactor=e._overviewCanvas.width/t},computePosition:function(e){return(e-this._minimumBoundaries)*this._xScaleFactor},formatTime:function(e,t){return Number.secondsToString((e+this._minimumBoundaries)/1e3)},maximumBoundary:function(){return this._maximumBoundaries},minimumBoundary:function(){return this._minimumBoundaries},zeroTime:function(){return this._minimumBoundaries},boundarySpan:function(){return this._maximumBoundaries-this._minimumBoundaries}},WebInspector.CPUProfileFlameChart.ColorGenerator=function(){this._colors={},this._currentColorIndex=0},WebInspector.CPUProfileFlameChart.ColorGenerator.prototype={setColorForID:function(e,t){this._colors[e]=t},colorForID:function(e,t){"number"!=typeof t&&(t=100);var i=this._colors[e];return i||(i=this._createColor(this._currentColorIndex++,t),this._colors[e]=i),i},_createColor:function(e,t){return"hsla("+(7*e+e%2*12)%360+", "+t+"%, 66%, 0.7)"}},WebInspector.CPUProfileFlameChart.OverviewPane=function(e){WebInspector.VBox.call(this),this.element.classList.add("flame-chart-overview-pane"),this._overviewContainer=this.element.createChild("div","overview-container"),this._overviewGrid=new WebInspector.OverviewGrid("flame-chart"),this._overviewGrid.element.classList.add("fill"),this._overviewCanvas=this._overviewContainer.createChild("canvas","flame-chart-overview-canvas"),this._overviewContainer.appendChild(this._overviewGrid.element),this._overviewCalculator=new WebInspector.CPUProfileFlameChart.OverviewCalculator,this._dataProvider=e},WebInspector.CPUProfileFlameChart.OverviewPane.prototype={requestWindowTimes:function(e,t){this._overviewGrid.setWindow(e/this._dataProvider.totalTime(),t/this._dataProvider.totalTime())},_selectRange:function(e,t){this._overviewGrid.setWindow(e/this._dataProvider.totalTime(),t/this._dataProvider.totalTime())},_timelineData:function(){return this._dataProvider.timelineData()},onResize:function(){this._scheduleUpdate()},_scheduleUpdate:function(){this._updateTimerId||(this._updateTimerId=requestAnimationFrame(this.update.bind(this)))},update:function(){this._updateTimerId=0;var e=this._timelineData();e&&(this._resetCanvas(this._overviewContainer.clientWidth,this._overviewContainer.clientHeight-WebInspector.FlameChart.DividersBarHeight),this._overviewCalculator._updateBoundaries(this),this._overviewGrid.updateDividers(this._overviewCalculator),WebInspector.CPUProfileFlameChart.OverviewPane.drawOverviewCanvas(this._dataProvider,e,this._overviewCanvas.getContext("2d"),this._overviewContainer.clientWidth,this._overviewContainer.clientHeight-WebInspector.FlameChart.DividersBarHeight))},_resetCanvas:function(e,t){var i=window.devicePixelRatio;this._overviewCanvas.width=e*i,this._overviewCanvas.height=t*i},__proto__:WebInspector.VBox.prototype},WebInspector.CPUProfileFlameChart.OverviewPane.calculateDrawData=function(e,t,i){for(var n=t.entryOffsets,r=t.entryTotalTimes,s=t.entryLevels,o=n.length,a=new Uint8Array(i),c=i/e.totalTime(),l=0;l<o;++l)for(var d=Math.floor(n[l]*c),h=Math.floor((n[l]+r[l])*c),p=d;p<=h;++p)a[p]=Math.max(a[p],s[l]+1);return a},WebInspector.CPUProfileFlameChart.OverviewPane.drawOverviewCanvas=function(e,t,i,n,r){var s=window.devicePixelRatio,o=n*s,a=r*s,c=WebInspector.CPUProfileFlameChart.OverviewPane.calculateDrawData(e,t,o);if(c){var l,d=a/(1.1*e.maxStackDepth());i.lineWidth=1,i.translate(.5,.5),i.strokeStyle="rgba(20,0,0,0.4)",i.fillStyle="rgba(214,225,254,0.8)",i.moveTo(-1,a-1),i.lineTo(-1,Math.round(a-c[0]*d-1));for(var h=0;h<o;++h)l=Math.round(a-c[h]*d-1),i.lineTo(h,l);i.lineTo(o+1,l),i.lineTo(o+1,a-1),i.fill(),i.stroke(),i.closePath()}},WebInspector.CPUProfileView=function(e){WebInspector.VBox.call(this),this.element.classList.add("cpu-profile-view"),this.showSelfTimeAsPercent=WebInspector.settings.createSetting("cpuProfilerShowSelfTimeAsPercent",!0),this.showTotalTimeAsPercent=WebInspector.settings.createSetting("cpuProfilerShowTotalTimeAsPercent",!0),this.showAverageTimeAsPercent=WebInspector.settings.createSetting("cpuProfilerShowAverageTimeAsPercent",!0),this._viewType=WebInspector.settings.createSetting("cpuProfilerView",WebInspector.CPUProfileView._TypeFlame);var t=[];t.push({id:"self",title:WebInspector.UIString("Self"),width:"72px",sort:WebInspector.DataGrid.Order.Descending,sortable:!0}),t.push({id:"total",title:WebInspector.UIString("Total"),width:"72px",sortable:!0}),t.push({id:"function",title:WebInspector.UIString("Function"),disclosure:!0,sortable:!0}),this.dataGrid=new WebInspector.DataGrid(t),this.dataGrid.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this._sortProfile,this),this.dataGrid.element.addEventListener("mousedown",this._mouseDownInDataGrid.bind(this),!0),this.dataGrid.show(this.element),this.viewSelectComboBox=new WebInspector.StatusBarComboBox(this._changeView.bind(this));var i={};i[WebInspector.CPUProfileView._TypeFlame]=this.viewSelectComboBox.createOption(WebInspector.UIString("Chart"),"",WebInspector.CPUProfileView._TypeFlame),i[WebInspector.CPUProfileView._TypeHeavy]=this.viewSelectComboBox.createOption(WebInspector.UIString("Heavy (Bottom Up)"),"",WebInspector.CPUProfileView._TypeHeavy),i[WebInspector.CPUProfileView._TypeTree]=this.viewSelectComboBox.createOption(WebInspector.UIString("Tree (Top Down)"),"",WebInspector.CPUProfileView._TypeTree);var n=i[this._viewType.get()||WebInspector.CPUProfileView._TypeFlame]||i[WebInspector.CPUProfileView._TypeFlame];this.viewSelectComboBox.select(n),this._statusBarButtonsElement=document.createElement("span"),this.percentButton=new WebInspector.StatusBarButton("","percent-time-status-bar-item"),this.percentButton.addEventListener("click",this._percentClicked,this),this._statusBarButtonsElement.appendChild(this.percentButton.element),this.focusButton=new WebInspector.StatusBarButton(WebInspector.UIString("Focus selected function."),"focus-profile-node-status-bar-item"),this.focusButton.setEnabled(!1),this.focusButton.addEventListener("click",this._focusClicked,this),this._statusBarButtonsElement.appendChild(this.focusButton.element),this.excludeButton=new WebInspector.StatusBarButton(WebInspector.UIString("Exclude selected function."),"exclude-profile-node-status-bar-item"),this.excludeButton.setEnabled(!1),this.excludeButton.addEventListener("click",this._excludeClicked,this),this._statusBarButtonsElement.appendChild(this.excludeButton.element),this.resetButton=new WebInspector.StatusBarButton(WebInspector.UIString("Restore all functions."),"reset-profile-status-bar-item"),this.resetButton.visible=!1,this.resetButton.addEventListener("click",this._resetClicked,this),this._statusBarButtonsElement.appendChild(this.resetButton.element),this.profileHead=null,this.profile=e,this._linkifier=new WebInspector.Linkifier(new WebInspector.Linkifier.DefaultFormatter(30)),this.profile._profile?this._processProfileData(this.profile._profile):this._processProfileData(this.profile.protocolProfile())},WebInspector.CPUProfileView._TypeFlame="Flame",WebInspector.CPUProfileView._TypeTree="Tree",WebInspector.CPUProfileView._TypeHeavy="Heavy",WebInspector.CPUProfileView.prototype={selectRange:function(e,t){this._flameChart&&this._flameChart.selectRange(e,t)},_processProfileData:function(e){this.profileHead=e.head,this.samples=e.samples,this._calculateTimes(e),this._assignParentsInProfile(),this.samples&&this._buildIdToNodeMap(),this._changeView(),this._updatePercentButton(),this._flameChart&&this._flameChart.update()},get statusBarItems(){return[this.viewSelectComboBox.element,this._statusBarButtonsElement]},_getBottomUpProfileDataGridTree:function(){return this._bottomUpProfileDataGridTree||(this._bottomUpProfileDataGridTree=new WebInspector.BottomUpProfileDataGridTree(this,this.profileHead)),this._bottomUpProfileDataGridTree},_getTopDownProfileDataGridTree:function(){return this._topDownProfileDataGridTree||(this._topDownProfileDataGridTree=new WebInspector.TopDownProfileDataGridTree(this,this.profileHead)),this._topDownProfileDataGridTree},willHide:function(){this._currentSearchResultIndex=-1},refresh:function(){var e=this.dataGrid.selectedNode?this.dataGrid.selectedNode.profileNode:null;this.dataGrid.rootNode().removeChildren();for(var t=this.profileDataGridTree.children,i=t.length,n=0;n<i;++n)this.dataGrid.rootNode().appendChild(t[n]);e&&(e.selected=!0)},refreshVisibleData:function(){for(var e=this.dataGrid.rootNode().children[0];e;)e.refresh(),e=e.traverseNextNode(!1,null,!0)},refreshShowAsPercents:function(){this._updatePercentButton(),this.refreshVisibleData()},searchCanceled:function(){if(this._searchResults)for(var e=0;e<this._searchResults.length;++e){var t=this._searchResults[e].profileNode;delete t._searchMatchedSelfColumn,delete t._searchMatchedTotalColumn,delete t._searchMatchedFunctionColumn,t.refresh()}delete this._searchFinishedCallback,this._currentSearchResultIndex=-1,this._searchResults=[]},performSearch:function(e,t){if(this.searchCanceled(),(e=e.trim()).length){this._searchFinishedCallback=t;var i=e.startsWith(">"),n=e.startsWith("<"),r=e.startsWith("=")||(i||n)&&1===e.indexOf("="),s=e.lastIndexOf("%")===e.length-1,o=e.length>2&&e.lastIndexOf("ms")===e.length-2,a=!o&&e.lastIndexOf("s")===e.length-1,c=parseFloat(e);(i||n||r)&&(c=r&&(i||n)?parseFloat(e.substring(2)):parseFloat(e.substring(1)));var l=a?1e3*c:c;isNaN(c)||i||n||(r=!0);for(var d,h=createPlainTextSearchRegex(e,"i"),p=this.profileDataGridTree.children[0];p;)delete(d=p)._searchMatchedSelfColumn,delete d._searchMatchedTotalColumn,delete d._searchMatchedFunctionColumn,s?(n?(d.selfPercent<c&&(d._searchMatchedSelfColumn=!0),d.totalPercent<c&&(d._searchMatchedTotalColumn=!0)):i&&(d.selfPercent>c&&(d._searchMatchedSelfColumn=!0),d.totalPercent>c&&(d._searchMatchedTotalColumn=!0)),r&&(d.selfPercent==c&&(d._searchMatchedSelfColumn=!0),d.totalPercent==c&&(d._searchMatchedTotalColumn=!0))):(o||a)&&(n?(d.selfTime<l&&(d._searchMatchedSelfColumn=!0),d.totalTime<l&&(d._searchMatchedTotalColumn=!0)):i&&(d.selfTime>l&&(d._searchMatchedSelfColumn=!0),d.totalTime>l&&(d._searchMatchedTotalColumn=!0)),r&&(d.selfTime==l&&(d._searchMatchedSelfColumn=!0),d.totalTime==l&&(d._searchMatchedTotalColumn=!0))),(d.functionName.match(h)||d.url&&d.url.match(h))&&(d._searchMatchedFunctionColumn=!0),(d._searchMatchedSelfColumn||d._searchMatchedTotalColumn||d._searchMatchedFunctionColumn)&&(d.refresh(),1)&&this._searchResults.push({profileNode:p}),p=p.traverseNextNode(!1,null,!1);t(this,this._searchResults.length)}},jumpToFirstSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=0,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToLastSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=this._searchResults.length-1,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToNextSearchResult:function(){this._searchResults&&this._searchResults.length&&(++this._currentSearchResultIndex>=this._searchResults.length&&(this._currentSearchResultIndex=0),this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToPreviousSearchResult:function(){this._searchResults&&this._searchResults.length&&(--this._currentSearchResultIndex<0&&(this._currentSearchResultIndex=this._searchResults.length-1),this._jumpToSearchResult(this._currentSearchResultIndex))},showingFirstSearchResult:function(){return 0===this._currentSearchResultIndex},showingLastSearchResult:function(){return this._searchResults&&this._currentSearchResultIndex===this._searchResults.length-1},currentSearchResultIndex:function(){return this._currentSearchResultIndex},_jumpToSearchResult:function(e){var t=this._searchResults[e];t&&t.profileNode.revealAndSelect()},_ensureFlameChartCreated:function(){this._flameChart||(this._dataProvider=new WebInspector.CPUFlameChartDataProvider(this),this._flameChart=new WebInspector.CPUProfileFlameChart(this._dataProvider),this._flameChart.addEventListener(WebInspector.FlameChart.Events.EntrySelected,this._onEntrySelected.bind(this)))},_onEntrySelected:function(e){var t=e.data,i=this._dataProvider._entryNodes[t];if(i&&i.scriptId){var n=WebInspector.debuggerModel.scriptForId(i.scriptId);n&&WebInspector.Revealer.reveal(n.rawLocationToUILocation(i.lineNumber))}},_changeView:function(){if(this.profile){switch(this.viewSelectComboBox.selectedOption().value){case WebInspector.CPUProfileView._TypeFlame:return this._ensureFlameChartCreated(),this.dataGrid.detach(),this._flameChart.show(this.element),this._viewType.set(WebInspector.CPUProfileView._TypeFlame),void this._statusBarButtonsElement.classList.toggle("hidden",!0);case WebInspector.CPUProfileView._TypeTree:this.profileDataGridTree=this._getTopDownProfileDataGridTree(),this._sortProfile(),this._viewType.set(WebInspector.CPUProfileView._TypeTree);break;case WebInspector.CPUProfileView._TypeHeavy:this.profileDataGridTree=this._getBottomUpProfileDataGridTree(),this._sortProfile(),this._viewType.set(WebInspector.CPUProfileView._TypeHeavy)}this._statusBarButtonsElement.classList.toggle("hidden",!1),this._flameChart&&this._flameChart.detach(),this.dataGrid.show(this.element),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))}},_percentClicked:function(e){var t=this.showSelfTimeAsPercent.get()&&this.showTotalTimeAsPercent.get()&&this.showAverageTimeAsPercent.get();this.showSelfTimeAsPercent.set(!t),this.showTotalTimeAsPercent.set(!t),this.showAverageTimeAsPercent.set(!t),this.refreshShowAsPercents()},_updatePercentButton:function(){this.showSelfTimeAsPercent.get()&&this.showTotalTimeAsPercent.get()&&this.showAverageTimeAsPercent.get()?(this.percentButton.title=WebInspector.UIString("Show absolute total and self times."),this.percentButton.toggled=!0):(this.percentButton.title=WebInspector.UIString("Show total and self times as percentages."),this.percentButton.toggled=!1)},_focusClicked:function(e){this.dataGrid.selectedNode&&(this.resetButton.visible=!0,this.profileDataGridTree.focus(this.dataGrid.selectedNode),this.refresh(),this.refreshVisibleData())},_excludeClicked:function(e){var t=this.dataGrid.selectedNode;t&&(t.deselect(),this.resetButton.visible=!0,this.profileDataGridTree.exclude(t),this.refresh(),this.refreshVisibleData())},_resetClicked:function(e){this.resetButton.visible=!1,this.profileDataGridTree.restore(),this._linkifier.reset(),this.refresh(),this.refreshVisibleData()},_dataGridNodeSelected:function(e){this.focusButton.setEnabled(!0),this.excludeButton.setEnabled(!0)},_dataGridNodeDeselected:function(e){this.focusButton.setEnabled(!1),this.excludeButton.setEnabled(!1)},_sortProfile:function(){var e=this.dataGrid.isSortOrderAscending(),t={self:"selfTime",total:"totalTime",function:"functionName"}[this.dataGrid.sortColumnIdentifier()];this.profileDataGridTree.sort(WebInspector.ProfileDataGridTree.propertyComparator(t,e)),this.refresh()},_mouseDownInDataGrid:function(e){if(!(e.detail<2)){var t=e.target.enclosingNodeOrSelfWithNodeName("td");t&&(t.classList.contains("total-column")||t.classList.contains("self-column")||t.classList.contains("average-column"))&&(t.classList.contains("total-column")?this.showTotalTimeAsPercent.set(!this.showTotalTimeAsPercent.get()):t.classList.contains("self-column")?this.showSelfTimeAsPercent.set(!this.showSelfTimeAsPercent.get()):t.classList.contains("average-column")&&this.showAverageTimeAsPercent.set(!this.showAverageTimeAsPercent.get()),this.refreshShowAsPercents(),e.consume(!0))}},_calculateTimes:function(e){e.totalHitCount=function e(t){if(!t)return 0;for(var i=t.hitCount,n=0;n<t.children.length;n++)i+=e(t.children[n]);return i}(e.head);var t=1e3*(e.endTime-e.startTime)/e.totalHitCount;this.samplingIntervalMs=t,function e(i){if(!i)return 0;i.selfTime=i.hitCount*t;for(var n=i.hitCount,r=0;r<i.children.length;r++)n+=e(i.children[r]);return i.totalTime=n*t,n}(e.head)},_assignParentsInProfile:function(){if(this.profileHead){var e=this.profileHead;e.parent=null,e.head=null;for(var t=[e];t.length;)for(var i=t.pop(),n=i.children,r=n.length,s=0;s<r;++s){var o=n[s];o.head=e,o.parent=i,o.children.length&&t.push(o)}}else console.error("Unexpected entry into _assignParentsInProfile when we have no profileHead")},_buildIdToNodeMap:function(){for(var e=this._idToNode={},t=[this.profileHead];t.length;){e[(r=t.pop()).id]=r;for(var i=0;i<r.children.length;i++)t.push(r.children[i])}var n=this.profileHead.children;for(i=0;i<n.length;i++){var r;if("(garbage collector)"===(r=n[i]).functionName){this._gcNode=r;break}}},__proto__:WebInspector.VBox.prototype},WebInspector.CPUProfileType=function(){WebInspector.ProfileType.call(this,WebInspector.CPUProfileType.TypeId,WebInspector.UIString("Collect JavaScript CPU Profile")),this._recording=!1,this._nextAnonymousConsoleProfileNumber=1,this._anonymousConsoleProfileIdToTitle={},WebInspector.CPUProfileType.instance=this},WebInspector.CPUProfileType.TypeId="CPU",WebInspector.CPUProfileType.prototype={fileExtension:function(){return".cpuprofile"},get buttonTooltip(){return this._recording?WebInspector.UIString("Stop CPU profiling."):WebInspector.UIString("Start CPU profiling.")},buttonClicked:function(){return this._recording?(this.stopRecordingProfile(),!1):(this.startRecordingProfile(),!0)},get treeItemTitle(){return WebInspector.UIString("CPU PROFILES")},get description(){return WebInspector.UIString("CPU profiles show where the execution time is spent in your page's JavaScript functions.")},consoleProfileStarted:function(e,t,i){var n=i;n||(n=WebInspector.UIString("Profile %s",this._nextAnonymousConsoleProfileNumber++),this._anonymousConsoleProfileIdToTitle[e]=n),this._addMessageToConsole(WebInspector.ConsoleMessage.MessageType.Profile,t,WebInspector.UIString("Profile '%s' started.",n))},consoleProfileFinished:function(e,t,i,n){var r=n;void 0===n&&(r=this._anonymousConsoleProfileIdToTitle[e],delete this._anonymousConsoleProfileIdToTitle[e]);var s=new WebInspector.CPUProfileHeader(this,r);s.setProtocolProfile(i),this.addProfile(s),this._addMessageToConsole(WebInspector.ConsoleMessage.MessageType.ProfileEnd,t,WebInspector.UIString("Profile '%s' finished.",r))},_addMessageToConsole:function(e,t,i){var n=WebInspector.debuggerModel.scriptForId(t.scriptId),r=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.ConsoleAPI,WebInspector.ConsoleMessage.MessageLevel.Debug,i,e,void 0,void 0,void 0,void 0,void 0,[{functionName:"",scriptId:t.scriptId,url:n?n.contentURL():"",lineNumber:t.lineNumber,columnNumber:t.columnNumber||0}]);WebInspector.console.addMessage(r)},isRecordingProfile:function(){return this._recording},startRecordingProfile:function(){this._profileBeingRecorded||(this._profileBeingRecorded=new WebInspector.CPUProfileHeader(this),this.addProfile(this._profileBeingRecorded),this._profileBeingRecorded.updateStatus(WebInspector.UIString("Recording…")),this._recording=!0,WebInspector.cpuProfilerModel.setRecording(!0),WebInspector.userMetrics.ProfilesCPUProfileTaken.record(),ProfilerAgent.start())},stopRecordingProfile:function(){this._recording=!1,WebInspector.cpuProfilerModel.setRecording(!1),ProfilerAgent.stop(function(e,t){if(this._profileBeingRecorded){this._profileBeingRecorded.setProtocolProfile(t),this._profileBeingRecorded.updateStatus("");var i=this._profileBeingRecorded;this._profileBeingRecorded=null,WebInspector.panels.profiles.showProfile(i)}}.bind(this))},createProfileLoadedFromFile:function(e){return new WebInspector.CPUProfileHeader(this,e)},profileBeingRecordedRemoved:function(){this.stopRecordingProfile()},__proto__:WebInspector.ProfileType.prototype},WebInspector.CPUProfileHeader=function(e,t){WebInspector.ProfileHeader.call(this,e,t||WebInspector.UIString("Profile %d",e._nextProfileUid)),this._tempFile=null},WebInspector.CPUProfileHeader.prototype={onTransferStarted:function(){this._jsonifiedProfile="",this.updateStatus(WebInspector.UIString("Loading… %s",Number.bytesToString(this._jsonifiedProfile.length)),!0)},onChunkTransferred:function(e){this.updateStatus(WebInspector.UIString("Loading… %d%",Number.bytesToString(this._jsonifiedProfile.length)))},onTransferFinished:function(){this.updateStatus(WebInspector.UIString("Parsing…"),!0),this._profile=JSON.parse(this._jsonifiedProfile),this._jsonifiedProfile=null,this.updateStatus(WebInspector.UIString("Loaded"),!1),this._profileType._profileBeingRecorded===this&&(this._profileType._profileBeingRecorded=null)},onError:function(e,t){var i;switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:i=WebInspector.UIString("'%s' not found.",e.fileName());break;case t.target.error.NOT_READABLE_ERR:i=WebInspector.UIString("'%s' is not readable",e.fileName());break;case t.target.error.ABORT_ERR:return;default:i=WebInspector.UIString("'%s' error %d",e.fileName(),t.target.error.code)}this.updateStatus(i)},write:function(e){this._jsonifiedProfile+=e},close:function(){},dispose:function(){this.removeTempFile()},createSidebarTreeElement:function(){return new WebInspector.ProfileSidebarTreeElement(this,"profile-sidebar-tree-item")},createView:function(){return new WebInspector.CPUProfileView(this)},canSaveToFile:function(){return!this.fromFile()&&this._protocolProfile},saveToFile:function(){var e=new WebInspector.FileOutputStream;this._fileName=this._fileName||"CPU-"+(new Date).toISO8601Compact()+this._profileType.fileExtension(),e.open(this._fileName,function t(i){i&&(this._failedToCreateTempFile?(WebInspector.console.log("Failed to open temp file with heap snapshot",WebInspector.ConsoleMessage.MessageLevel.Error),e.close()):this._tempFile?this._tempFile.read(function(t){t?e.write(t,e.close.bind(e)):e.close()}):this._onTempFileReady=t.bind(this,i))}.bind(this))},loadFromFile:function(e){this.updateStatus(WebInspector.UIString("Loading…"),!0),new WebInspector.ChunkedFileReader(e,1e7,this).start(this)},protocolProfile:function(){return this._protocolProfile},setProtocolProfile:function(e){this._protocolProfile=e,this._saveProfileDataToTempFile(e),this.canSaveToFile()&&this.dispatchEventToListeners(WebInspector.ProfileHeader.Events.ProfileReceived)},_saveProfileDataToTempFile:function(e){var t=JSON.stringify(e);new WebInspector.TempFile("cpu-profiler",this.uid,function(e){this._writeToTempFile(e,t)}.bind(this))},_writeToTempFile:function(e,t){if(this._tempFile=e,!e)return this._failedToCreateTempFile=!0,void this._notifyTempFileReady();e.write(t,function(t){t||(this._failedToCreateTempFile=!0),e.finishWriting(),this._notifyTempFileReady()}.bind(this))},_notifyTempFileReady:function(){this._onTempFileReady&&(this._onTempFileReady(),this._onTempFileReady=null)},__proto__:WebInspector.ProfileHeader.prototype},WebInspector.CPUProfileView.colorGenerator=function(){if(!WebInspector.CPUProfileView._colorGenerator){var e=new WebInspector.CPUProfileFlameChart.ColorGenerator;e.colorForID("(idle)::0",50),e.colorForID("(program)::0",50),e.colorForID("(garbage collector)::0",50),WebInspector.CPUProfileView._colorGenerator=e}return WebInspector.CPUProfileView._colorGenerator},WebInspector.CPUFlameChartDataProvider=function(e){WebInspector.FlameChartDataProvider.call(this),this._cpuProfileView=e,this._colorGenerator=WebInspector.CPUProfileView.colorGenerator()},WebInspector.CPUFlameChartDataProvider.prototype={barHeight:function(){return 15},textBaseline:function(){return 4},textPadding:function(){return 2},dividerOffsets:function(e,t){return null},zeroTime:function(){return 0},totalTime:function(){return this._cpuProfileView.profileHead.totalTime},maxStackDepth:function(){return this._maxStackDepth},timelineData:function(){return this._timelineData||this._calculateTimelineData()},_calculateTimelineData:function(){if(!this._cpuProfileView.profileHead)return null;var e=this._cpuProfileView.samples,t=this._cpuProfileView._idToNode,i=this._cpuProfileView._gcNode,n=e.length,r=this._cpuProfileView.samplingIntervalMs,s=0,o=[],a=[],c=5,l=0;function d(e,t,i,n){this.depth=e,this.duration=t,this.startTime=i,this.node=n,this.selfTime=0}for(var h=[],p=0;p<n;p++){var u,m=t[e[p]];for(a.length=0;m;)a.push(m),m=m.parent;if(a.pop(),c=Math.max(c,l),l=0,(m=a.pop())===i){for(;l<o.length;)h[u=o[l].index].duration+=r,++l;if(o.length>0&&o.peekLast().node===m){h[u].selfTime+=r;continue}}for(;m&&l<o.length&&m===o[l].node;)h[u=o[l].index].duration+=r,m=a.pop(),++l;if(l<o.length&&(o.length=l),m){for(this._colorGenerator;m;)h.push(new d(l,r,p*r,m)),o.push({node:m,index:s}),++s,m=a.pop(),++l;h[h.length-1].selfTime+=r}else h[u].selfTime+=r}for(var _=new Array(h.length),g=new Uint8Array(h.length),b=new Float32Array(h.length),f=new Float32Array(h.length),I=new Float32Array(h.length),v=0;v<h.length;++v){var S=h[v];_[v]=S.node,g[v]=S.depth,b[v]=S.duration,I[v]=S.startTime,f[v]=S.selfTime}return this._maxStackDepth=Math.max(c,l),this._timelineData={entryLevels:g,entryTotalTimes:b,entryOffsets:I},this._entryNodes=_,this._entrySelfTimes=f,this._timelineData},_millisecondsToString:function(e){return 0===e?"0":e<1e3?WebInspector.UIString("%.1f ms",e):Number.secondsToString(e/1e3,!0)},prepareHighlightedEntryInfo:function(e){var t=this._timelineData,i=this._entryNodes[e];if(!i)return null;var n=[];function r(e,t){var i={};i.title=e,i.text=t,n.push(i)}r(WebInspector.UIString("Name"),i.functionName),r(WebInspector.UIString("Component Id:"),i._cmpId),r(WebInspector.UIString("Child Components:"),i._childComponentCount);var s=this._millisecondsToString(this._entrySelfTimes[e]),o=this._millisecondsToString(t.entryTotalTimes[e]);return r(WebInspector.UIString("Self time"),s),r(WebInspector.UIString("Total time"),o),r(WebInspector.UIString("Aggregated self time"),Number.secondsToString(i.selfTime/1e3,!0)),r(WebInspector.UIString("Aggregated total time"),Number.secondsToString(i.totalTime/1e3,!0)),i.deoptReason&&"no reason"!==i.deoptReason&&r(WebInspector.UIString("Not optimized"),i.deoptReason),n},canJumpToEntry:function(e){return"0"!==this._entryNodes[e].scriptId},entryTitle:function(e){return this._entryNodes[e].functionName},entryFont:function(e){this._font||(this._font=this.barHeight()-4+"px "+WebInspector.fontFamily(),this._boldFont="bold "+this._font);var t=this._entryNodes[e].deoptReason;return t&&"no reason"!==t?this._boldFont:this._font},entryColor:function(e){var t=this._entryNodes[e];return this._colorGenerator.colorForID(t.functionName+":"+t.url+":"+t.lineNumber)},decorateEntry:function(e,t,i,n,r,s,o,a){return!1},forceDecoration:function(e){return!1},highlightTimeRange:function(e){var t=this._timelineData.entryOffsets[e];return{startTimeOffset:t,endTimeOffset:t+this._timelineData.entryTotalTimes[e]}},paddingLeft:function(){return 15},textColor:function(e){return"#333"}},WebInspector.HeapSnapshotProgressEvent={Update:"ProgressUpdate"},WebInspector.HeapSnapshotCommon={},WebInspector.HeapSnapshotCommon.AllocationNodeCallers=function(e,t){this.nodesWithSingleCaller=e,this.branchingCallers=t},WebInspector.HeapSnapshotCommon.SerializedAllocationNode=function(e,t,i,n,r,s,o,a,c,l){this.id=e,this.name=t,this.scriptName=i,this.line=n,this.column=r,this.count=s,this.size=o,this.liveCount=a,this.liveSize=c,this.hasChildren=l},WebInspector.HeapSnapshotCommon.Aggregate=function(){this.count,this.distance,this.self,this.maxRet,this.type,this.name,this.idxs},WebInspector.HeapSnapshotCommon.AggregateForDiff=function(){this.indexes=[],this.ids=[],this.selfSizes=[]},WebInspector.HeapSnapshotCommon.Diff=function(){this.addedCount=0,this.removedCount=0,this.addedSize=0,this.removedSize=0,this.deletedIndexes=[],this.addedIndexes=[]},WebInspector.HeapSnapshotCommon.DiffForClass=function(){this.addedCount,this.removedCount,this.addedSize,this.removedSize,this.deletedIndexes,this.addedIndexes,this.countDelta,this.sizeDelta},WebInspector.HeapSnapshotCommon.ComparatorConfig=function(){this.fieldName1,this.ascending1,this.fieldName2,this.ascending2},WebInspector.HeapSnapshotCommon.WorkerCommand=function(){this.callId,this.disposition,this.objectId,this.newObjectId,this.methodName,this.methodArguments,this.source},WebInspector.HeapSnapshotCommon.ItemsRange=function(e,t,i,n){this.startPosition=e,this.endPosition=t,this.totalLength=i,this.items=n},WebInspector.HeapSnapshotCommon.StaticData=function(e,t,i,n){this.nodeCount=e,this.rootNodeIndex=t,this.totalSize=i,this.maxJSObjectId=n},WebInspector.HeapSnapshotCommon.Statistics=function(){this.total,this.v8heap,this.native,this.code,this.jsArrays,this.strings},WebInspector.HeapSnapshotCommon.NodeFilter=function(e,t){this.minNodeId=e,this.maxNodeId=t,this.allocationNodeId},WebInspector.HeapSnapshotCommon.NodeFilter.prototype={equals:function(e){return this.minNodeId===e.minNodeId&&this.maxNodeId===e.maxNodeId&&this.allocationNodeId===e.allocationNodeId}},WebInspector.HeapSnapshotWorkerProxy=function(e){this._eventHandler=e,this._nextObjectId=1,this._nextCallId=1,this._callbacks=[],this._previousCallbacks=[],this._worker=new Worker("HeapSnapshotWorker.js"),this._worker.onmessage=this._messageReceived.bind(this)},WebInspector.HeapSnapshotWorkerProxy.prototype={createLoader:function(e,t){var i=this._nextObjectId++,n=new WebInspector.HeapSnapshotLoaderProxy(this,i,e,t);return this._postMessage({callId:this._nextCallId++,disposition:"create",objectId:i,methodName:"WebInspector.HeapSnapshotLoader"}),n},dispose:function(){this._worker.terminate(),this._interval&&clearInterval(this._interval)},disposeObject:function(e){this._postMessage({callId:this._nextCallId++,disposition:"dispose",objectId:e})},evaluateForTest:function(e,t){var i=this._nextCallId++;this._callbacks[i]=t,this._postMessage({callId:i,disposition:"evaluateForTest",source:e})},callFactoryMethod:function(e,t,i,n){var r=this._nextCallId++,s=Array.prototype.slice.call(arguments,4),o=this._nextObjectId++;return e?(this._callbacks[r]=function(t){e(t?new n(this,o):null)}.bind(this),this._postMessage({callId:r,disposition:"factory",objectId:t,methodName:i,methodArguments:s,newObjectId:o}),null):(this._postMessage({callId:r,disposition:"factory",objectId:t,methodName:i,methodArguments:s,newObjectId:o}),new n(this,o))},callMethod:function(e,t,i){var n=this._nextCallId++,r=Array.prototype.slice.call(arguments,3);e&&(this._callbacks[n]=e),this._postMessage({callId:n,disposition:"method",objectId:t,methodName:i,methodArguments:r})},startCheckingForLongRunningCalls:function(){this._interval||(this._checkLongRunningCalls(),this._interval=setInterval(this._checkLongRunningCalls.bind(this),300))},_checkLongRunningCalls:function(){for(var e in this._previousCallbacks)e in this._callbacks||delete this._previousCallbacks[e];var t=!1;for(e in this._previousCallbacks){t=!0;break}for(e in this.dispatchEventToListeners("wait",t),this._callbacks)this._previousCallbacks[e]=!0},_messageReceived:function(e){var t=e.data;if(t.eventName)this._eventHandler&&this._eventHandler(t.eventName,t.data);else{if(t.error)return t.errorMethodName&&WebInspector.console.log(WebInspector.UIString("An error happened when a call for method '%s' was requested",t.errorMethodName)),WebInspector.console.log(t.errorCallStack),void delete this._callbacks[t.callId];if(this._callbacks[t.callId]){var i=this._callbacks[t.callId];delete this._callbacks[t.callId],i(t.result)}}},_postMessage:function(e){this._worker.postMessage(e)},__proto__:WebInspector.Object.prototype},WebInspector.HeapSnapshotProxyObject=function(e,t){this._worker=e,this._objectId=t},WebInspector.HeapSnapshotProxyObject.prototype={_callWorker:function(e,t){return t.splice(1,0,this._objectId),this._worker[e].apply(this._worker,t)},dispose:function(){this._worker.disposeObject(this._objectId)},disposeWorker:function(){this._worker.dispose()},callFactoryMethod:function(e,t,i,n){return this._callWorker("callFactoryMethod",Array.prototype.slice.call(arguments,0))},callMethod:function(e,t,i){return this._callWorker("callMethod",Array.prototype.slice.call(arguments,0))}},WebInspector.HeapSnapshotLoaderProxy=function(e,t,i,n){WebInspector.HeapSnapshotProxyObject.call(this,e,t),this._profileUid=i,this._snapshotReceivedCallback=n},WebInspector.HeapSnapshotLoaderProxy.prototype={write:function(e,t){this.callMethod(t,"write",e)},close:function(e){this.callMethod(function(){e&&e();var t=WebInspector.settings.showAdvancedHeapSnapshotProperties.get();this.callFactoryMethod(function(e){this.dispose(),e.setProfileUid(this._profileUid),e.updateStaticData(this._snapshotReceivedCallback.bind(this))}.bind(this),"buildSnapshot",WebInspector.HeapSnapshotProxy,t)}.bind(this),"close")},__proto__:WebInspector.HeapSnapshotProxyObject.prototype},WebInspector.HeapSnapshotProxy=function(e,t){WebInspector.HeapSnapshotProxyObject.call(this,e,t),this._staticData=null},WebInspector.HeapSnapshotProxy.prototype={aggregatesWithFilter:function(e,t){this.callMethod(t,"aggregatesWithFilter",e)},aggregatesForDiff:function(e){this.callMethod(e,"aggregatesForDiff")},calculateSnapshotDiff:function(e,t,i){this.callMethod(i,"calculateSnapshotDiff",e,t)},nodeClassName:function(e,t){this.callMethod(t,"nodeClassName",e)},dominatorIdsForNode:function(e,t){this.callMethod(t,"dominatorIdsForNode",e)},createEdgesProvider:function(e){return this.callFactoryMethod(null,"createEdgesProvider",WebInspector.HeapSnapshotProviderProxy,e)},createRetainingEdgesProvider:function(e){return this.callFactoryMethod(null,"createRetainingEdgesProvider",WebInspector.HeapSnapshotProviderProxy,e)},createAddedNodesProvider:function(e,t){return this.callFactoryMethod(null,"createAddedNodesProvider",WebInspector.HeapSnapshotProviderProxy,e,t)},createDeletedNodesProvider:function(e){return this.callFactoryMethod(null,"createDeletedNodesProvider",WebInspector.HeapSnapshotProviderProxy,e)},createNodesProvider:function(e){return this.callFactoryMethod(null,"createNodesProvider",WebInspector.HeapSnapshotProviderProxy,e)},createNodesProviderForClass:function(e,t){return this.callFactoryMethod(null,"createNodesProviderForClass",WebInspector.HeapSnapshotProviderProxy,e,t)},createNodesProviderForDominator:function(e){return this.callFactoryMethod(null,"createNodesProviderForDominator",WebInspector.HeapSnapshotProviderProxy,e)},allocationTracesTops:function(e){this.callMethod(e,"allocationTracesTops")},allocationNodeCallers:function(e,t){this.callMethod(t,"allocationNodeCallers",e)},dispose:function(){throw new Error("Should never be called")},get nodeCount(){return this._staticData.nodeCount},get rootNodeIndex(){return this._staticData.rootNodeIndex},updateStaticData:function(e){this.callMethod(function(t){this._staticData=t,e(this)}.bind(this),"updateStaticData")},getStatistics:function(e){this.callMethod(e,"getStatistics")},get totalSize(){return this._staticData.totalSize},get uid(){return this._profileUid},setProfileUid:function(e){this._profileUid=e},maxJSObjectId:function(){return this._staticData.maxJSObjectId},__proto__:WebInspector.HeapSnapshotProxyObject.prototype},WebInspector.HeapSnapshotProviderProxy=function(e,t){WebInspector.HeapSnapshotProxyObject.call(this,e,t)},WebInspector.HeapSnapshotProviderProxy.prototype={nodePosition:function(e,t){this.callMethod(t,"nodePosition",e)},isEmpty:function(e){this.callMethod(e,"isEmpty")},serializeItemsRange:function(e,t,i){this.callMethod(i,"serializeItemsRange",e,t)},sortAndRewind:function(e,t){this.callMethod(t,"sortAndRewind",e)},__proto__:WebInspector.HeapSnapshotProxyObject.prototype},WebInspector.HeapSnapshotSortableDataGrid=function(e){WebInspector.DataGrid.call(this,e),this._recursiveSortingDepth=0,this._highlightedNode=null,this._populatedAndSorted=!1,this._nameFilter="",this.addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete,this._sortingComplete,this),this.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this.sortingChanged,this)},WebInspector.HeapSnapshotSortableDataGrid.Events={ContentShown:"ContentShown",ResetFilter:"ResetFilter",SortingComplete:"SortingComplete"},WebInspector.HeapSnapshotSortableDataGrid.prototype={defaultPopulateCount:function(){return 100},_disposeAllNodes:function(){for(var e=this.topLevelNodes(),t=0,i=e.length;t<i;++t)e[t].dispose()},wasShown:function(){this._populatedAndSorted&&this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,this)},_sortingComplete:function(){this.removeEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete,this._sortingComplete,this),this._populatedAndSorted=!0,this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,this)},willHide:function(){this._clearCurrentHighlight()},populateContextMenu:function(e,t){var i=t.target.enclosingNodeOrSelfWithNodeName("td");if(i){var n=i.heapSnapshotNode;n&&n.showRetainingEdges?(e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Summary view":"Reveal in Summary View"),s),e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Dominators view":"Reveal in Dominators View"),r)):n instanceof WebInspector.HeapSnapshotInstanceNode||n instanceof WebInspector.HeapSnapshotObjectNode?e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Dominators view":"Reveal in Dominators View"),r):n instanceof WebInspector.HeapSnapshotDominatorObjectNode&&e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Summary view":"Reveal in Summary View"),s)}function r(){WebInspector.panels.profiles.showObject(n.snapshotNodeId,"Dominators")}function s(){WebInspector.panels.profiles.showObject(n.snapshotNodeId,"Summary")}},resetSortingCache:function(){delete this._lastSortColumnIdentifier,delete this._lastSortAscending},topLevelNodes:function(){return this.rootNode().children},highlightObjectByHeapSnapshotId:function(e,t){},highlightNode:function(e){this._highlightedNode,this._clearCurrentHighlight(),this._highlightedNode=e,WebInspector.runCSSAnimationOnce(this._highlightedNode.element,"highlighted-row")},nodeWasDetached:function(e){this._highlightedNode===e&&this._clearCurrentHighlight()},_clearCurrentHighlight:function(){this._highlightedNode&&(this._highlightedNode.element.classList.remove("highlighted-row"),this._highlightedNode=null)},resetNameFilter:function(e){this._callbackAfterFilterChange=e,this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter)},changeNameFilter:function(e){this._nameFilter=e.toLowerCase(),this.updateVisibleNodes(!0),this._callbackAfterFilterChange&&(this._callbackAfterFilterChange(),this._callbackAfterFilterChange=null)},sortingChanged:function(){var e=this.isSortOrderAscending(),t=this.sortColumnIdentifier();if(this._lastSortColumnIdentifier!==t||this._lastSortAscending!==e){this._lastSortColumnIdentifier=t,this._lastSortAscending=e;var i=this._sortFields(t,e);this._performSorting(function(e,t){var n=e[i[0]],r=t[i[0]],s=n<r?-1:n>r?1:0;return i[1]||(s=-s),0!==s?s:(s=(n=e[i[2]])<(r=t[i[2]])?-1:n>r?1:0,i[3]||(s=-s),s)})}},_performSorting:function(e){this.recursiveSortingEnter();var t=this.allChildren(this.rootNode());this.rootNode().removeChildren(),t.sort(e);for(var i=0,n=t.length;i<n;++i){var r=t[i];this.appendChildAfterSorting(r),r.expanded&&r.sort()}this.recursiveSortingLeave()},appendChildAfterSorting:function(e){var t=e.revealed;this.rootNode().appendChild(e),e.revealed=t},recursiveSortingEnter:function(){++this._recursiveSortingDepth},recursiveSortingLeave:function(){this._recursiveSortingDepth&&(--this._recursiveSortingDepth||(this.updateVisibleNodes(!0),this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete)))},updateVisibleNodes:function(e){},allChildren:function(e){return e.children},insertChild:function(e,t,i){e.insertChild(t,i)},removeChildByIndex:function(e,t){e.removeChild(e.children[t])},removeAllChildren:function(e){e.removeChildren()},__proto__:WebInspector.DataGrid.prototype},WebInspector.HeapSnapshotViewportDataGrid=function(e){WebInspector.HeapSnapshotSortableDataGrid.call(this,e),this.scrollContainer.addEventListener("scroll",this._onScroll.bind(this),!0),this._nodeToHighlightAfterScroll=null,this._topPadding=new WebInspector.HeapSnapshotPaddingNode,this._topPaddingHeight=0,this.dataTableBody.insertBefore(this._topPadding.element,this.dataTableBody.firstChild),this._bottomPadding=new WebInspector.HeapSnapshotPaddingNode,this._bottomPaddingHeight=0,this.dataTableBody.insertBefore(this._bottomPadding.element,this.dataTableBody.lastChild)},WebInspector.HeapSnapshotViewportDataGrid.prototype={topLevelNodes:function(){return this.allChildren(this.rootNode())},appendChildAfterSorting:function(e){},updateVisibleNodes:function(e,t){var i=this.scrollContainer.scrollHeight,n=this.scrollContainer.scrollTop,r=i-n-this.scrollContainer.offsetHeight,s=i-(n=Math.max(0,n-40))-(r=Math.max(0,r-40));if(!t){if(!e&&n>=this._topPaddingHeight&&r>=this._bottomPaddingHeight)return;n-=500,s+=1e3}var o=this.selectedNode;this.rootNode().removeChildren(),this._topPaddingHeight=0,this._bottomPaddingHeight=0,this._addVisibleNodes(this.rootNode(),n,n+s,t||null),this._topPadding.setHeight(this._topPaddingHeight),this._bottomPadding.setHeight(this._bottomPaddingHeight),o&&(o.parent?o.select(!0):this.selectedNode=o)},_addVisibleNodes:function(e,t,i,n){if(!e.expanded)return 0;for(var r=n?n[0]:null,s=n&&n.length>1?n.slice(1):null,o=this.allChildren(e),a=0,c=0;c<o.length;++c)if(!(u=o[c]).filteredOut||!u.filteredOut()){var l=a+this._nodeHeight(u);if(r===u||!r&&l>t)break;a=l}for(var d=a;c<o.length&&(r||d<i);++c)if(!(u=o[c]).filteredOut||!u.filteredOut()){var h=u.hasChildren;if(u.removeChildren(),u.hasChildren=h,u.revealed=!0,e.appendChild(u),d+=u.nodeSelfHeight(),d+=this._addVisibleNodes(u,t-d,i-d,s),r===u)break}for(var p=0;c<o.length;++c){var u;(u=o[c]).filteredOut&&u.filteredOut()||(p+=this._nodeHeight(u))}return this._topPaddingHeight+=a,this._bottomPaddingHeight+=p,d+p},_nodeHeight:function(e){if(!e.revealed)return 0;var t=e.nodeSelfHeight();if(!e.expanded)return t;for(var i=this.allChildren(e),n=0;n<i.length;n++)t+=this._nodeHeight(i[n]);return t},defaultAttachLocation:function(){return this._bottomPadding.element},revealTreeNode:function(e){this.updateVisibleNodes(!0,e)},allChildren:function(e){return e._allChildren||(e._allChildren=[])},appendNode:function(e,t){this.allChildren(e).push(t)},insertChild:function(e,t,i){this.allChildren(e).splice(i,0,t)},removeChildByIndex:function(e,t){this.allChildren(e).splice(t,1)},removeAllChildren:function(e){e._allChildren=[]},removeTopLevelNodes:function(){this._disposeAllNodes(),this.rootNode().removeChildren(),this.rootNode()._allChildren=[]},highlightNode:function(e){this._isScrolledIntoView(e.element)?(this.updateVisibleNodes(!0),WebInspector.HeapSnapshotSortableDataGrid.prototype.highlightNode.call(this,e)):(e.element.scrollIntoViewIfNeeded(!0),this._nodeToHighlightAfterScroll=e)},_isScrolledIntoView:function(e){var t=this.scrollContainer.scrollTop,i=t+this.scrollContainer.clientHeight,n=e.offsetTop;return n+e.offsetHeight<=i&&n>=t},onResize:function(){WebInspector.HeapSnapshotSortableDataGrid.prototype.onResize.call(this),this.updateVisibleNodes(!1)},_onScroll:function(e){this.updateVisibleNodes(!1),this._nodeToHighlightAfterScroll&&(WebInspector.HeapSnapshotSortableDataGrid.prototype.highlightNode.call(this,this._nodeToHighlightAfterScroll),this._nodeToHighlightAfterScroll=null)},__proto__:WebInspector.HeapSnapshotSortableDataGrid.prototype},WebInspector.HeapSnapshotPaddingNode=function(){this.element=document.createElement("tr"),this.element.classList.add("revealed")},WebInspector.HeapSnapshotPaddingNode.prototype={setHeight:function(e){this.element.style.height=e+"px"},removeFromTable:function(){var e=this.element.parentNode;e&&e.removeChild(this.element)}},WebInspector.HeapSnapshotContainmentDataGrid=function(e){e=e||[{id:"object",title:WebInspector.UIString("Object"),disclosure:!0,sortable:!0},{id:"distance",title:WebInspector.UIString("Distance"),width:"80px",sortable:!0},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sortable:!0,sort:WebInspector.DataGrid.Order.Descending}],WebInspector.HeapSnapshotSortableDataGrid.call(this,e)},WebInspector.HeapSnapshotContainmentDataGrid.prototype={setDataSource:function(e,t){this.snapshot=e;var i={node:{nodeIndex:t||e.rootNodeIndex}};this.setRootNode(new WebInspector.HeapSnapshotObjectNode(this,e,i,null)),this.rootNode().sort()},sortingChanged:function(){var e=this.rootNode();e.hasChildren&&e.sort()},__proto__:WebInspector.HeapSnapshotSortableDataGrid.prototype},WebInspector.HeapSnapshotRetainmentDataGrid=function(){this.showRetainingEdges=!0;var e=[{id:"object",title:WebInspector.UIString("Object"),disclosure:!0,sortable:!0},{id:"distance",title:WebInspector.UIString("Distance"),width:"80px",sortable:!0,sort:WebInspector.DataGrid.Order.Ascending},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sortable:!0}];WebInspector.HeapSnapshotContainmentDataGrid.call(this,e)},WebInspector.HeapSnapshotRetainmentDataGrid.Events={ExpandRetainersComplete:"ExpandRetainersComplete"},WebInspector.HeapSnapshotRetainmentDataGrid.prototype={_sortFields:function(e,t){return{object:["_name",t,"_count",!1],count:["_count",t,"_name",!0],shallowSize:["_shallowSize",t,"_name",!0],retainedSize:["_retainedSize",t,"_name",!0],distance:["_distance",t,"_name",!0]}[e]},reset:function(){this.rootNode().removeChildren(),this.resetSortingCache()},setDataSource:function(e,t){WebInspector.HeapSnapshotContainmentDataGrid.prototype.setDataSource.call(this,e,t);var i=this,n=20;this.rootNode().addEventListener(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete,function e(){if(this.removeEventListener(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete,e,this),this.expand(),--n>0&&this.children.length>0){var t=this.children[0];if(t._distance>1)return t.addEventListener(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete,e,t),void t.populate()}i.dispatchEventToListeners(WebInspector.HeapSnapshotRetainmentDataGrid.Events.ExpandRetainersComplete)},this.rootNode())},__proto__:WebInspector.HeapSnapshotContainmentDataGrid.prototype},WebInspector.HeapSnapshotConstructorsDataGrid=function(){var e=[{id:"object",title:WebInspector.UIString("Constructor"),disclosure:!0,sortable:!0},{id:"distance",title:WebInspector.UIString("Distance"),width:"90px",sortable:!0},{id:"count",title:WebInspector.UIString("Objects Count"),width:"90px",sortable:!0},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sort:WebInspector.DataGrid.Order.Descending,sortable:!0}];WebInspector.HeapSnapshotViewportDataGrid.call(this,e),this._profileIndex=-1,this._objectIdToSelect=null},WebInspector.HeapSnapshotConstructorsDataGrid.prototype={_sortFields:function(e,t){return{object:["_name",t,"_count",!1],distance:["_distance",t,"_retainedSize",!0],count:["_count",t,"_name",!0],shallowSize:["_shallowSize",t,"_name",!0],retainedSize:["_retainedSize",t,"_name",!0]}[e]},highlightObjectByHeapSnapshotId:function(e,t){this.snapshot?this.snapshot.nodeClassName(parseInt(e,10),function(i){if(i)for(var n=this.topLevelNodes(),r=0;r<n.length;r++){var s=n[r];if(s._name===i)return void s.revealNodeBySnapshotObjectId(parseInt(e,10),t)}else t(!1)}.bind(this)):this._objectIdToSelect=e},clear:function(){this._nextRequestedFilter=null,this._lastFilter=null,this.removeTopLevelNodes()},setDataSource:function(e){this.snapshot=e,-1===this._profileIndex&&this._populateChildren(),this._objectIdToSelect&&(this.highlightObjectByHeapSnapshotId(this._objectIdToSelect,function(e){}),this._objectIdToSelect=null)},setSelectionRange:function(e,t){this._populateChildren(new WebInspector.HeapSnapshotCommon.NodeFilter(e,t))},setAllocationNodeId:function(e){var t=new WebInspector.HeapSnapshotCommon.NodeFilter;t.allocationNodeId=e,this._populateChildren(t)},_aggregatesReceived:function(e,t){for(var i in this._filterInProgress=null,this._nextRequestedFilter&&(this.snapshot.aggregatesWithFilter(this._nextRequestedFilter,this._aggregatesReceived.bind(this,this._nextRequestedFilter)),this._filterInProgress=this._nextRequestedFilter,this._nextRequestedFilter=null),this.removeTopLevelNodes(),this.resetSortingCache(),t)this.appendNode(this.rootNode(),new WebInspector.HeapSnapshotConstructorNode(this,i,t[i],e));this.sortingChanged(),this._lastFilter=e},_populateChildren:function(e){e=e||new WebInspector.HeapSnapshotCommon.NodeFilter,this._filterInProgress?this._nextRequestedFilter=this._filterInProgress.equals(e)?null:e:this._lastFilter&&this._lastFilter.equals(e)||(this._filterInProgress=e,this.snapshot.aggregatesWithFilter(e,this._aggregatesReceived.bind(this,e)))},filterSelectIndexChanged:function(e,t){var i;if(this._profileIndex=t,-1!==t){var n=t>0?e[t-1].maxJSObjectId:0,r=e[t].maxJSObjectId;i=new WebInspector.HeapSnapshotCommon.NodeFilter(n,r)}this._populateChildren(i)},__proto__:WebInspector.HeapSnapshotViewportDataGrid.prototype},WebInspector.HeapSnapshotDiffDataGrid=function(){var e=[{id:"object",title:WebInspector.UIString("Constructor"),disclosure:!0,sortable:!0},{id:"addedCount",title:WebInspector.UIString("# New"),width:"72px",sortable:!0},{id:"removedCount",title:WebInspector.UIString("# Deleted"),width:"72px",sortable:!0},{id:"countDelta",title:WebInspector.UIString("# Delta"),width:"64px",sortable:!0},{id:"addedSize",title:WebInspector.UIString("Alloc. Size"),width:"72px",sortable:!0,sort:WebInspector.DataGrid.Order.Descending},{id:"removedSize",title:WebInspector.UIString("Freed Size"),width:"72px",sortable:!0},{id:"sizeDelta",title:WebInspector.UIString("Size Delta"),width:"72px",sortable:!0}];WebInspector.HeapSnapshotViewportDataGrid.call(this,e)},WebInspector.HeapSnapshotDiffDataGrid.prototype={defaultPopulateCount:function(){return 50},_sortFields:function(e,t){return{object:["_name",t,"_count",!1],addedCount:["_addedCount",t,"_name",!0],removedCount:["_removedCount",t,"_name",!0],countDelta:["_countDelta",t,"_name",!0],addedSize:["_addedSize",t,"_name",!0],removedSize:["_removedSize",t,"_name",!0],sizeDelta:["_sizeDelta",t,"_name",!0]}[e]},setDataSource:function(e){this.snapshot=e},setBaseDataSource:function(e){this.baseSnapshot=e,this.removeTopLevelNodes(),this.resetSortingCache(),this.baseSnapshot!==this.snapshot?this._populateChildren():this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete)},_populateChildren:function(){this.baseSnapshot.aggregatesForDiff(function(e){this.snapshot.calculateSnapshotDiff(this.baseSnapshot.uid,e,function(e){for(var t in e){var i=e[t];this.appendNode(this.rootNode(),new WebInspector.HeapSnapshotDiffNode(this,t,i))}this.sortingChanged()}.bind(this))}.bind(this))},__proto__:WebInspector.HeapSnapshotViewportDataGrid.prototype},WebInspector.HeapSnapshotDominatorsDataGrid=function(){var e=[{id:"object",title:WebInspector.UIString("Object"),disclosure:!0,sortable:!0},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sort:WebInspector.DataGrid.Order.Descending,sortable:!0}];WebInspector.HeapSnapshotSortableDataGrid.call(this,e),this._objectIdToSelect=null},WebInspector.HeapSnapshotDominatorsDataGrid.prototype={defaultPopulateCount:function(){return 25},setDataSource:function(e){this.snapshot=e;var t={nodeIndex:this.snapshot.rootNodeIndex};this.setRootNode(new WebInspector.HeapSnapshotDominatorObjectNode(this,t)),this.rootNode().sort(),this._objectIdToSelect&&(this.highlightObjectByHeapSnapshotId(this._objectIdToSelect,function(e){}),this._objectIdToSelect=null)},sortingChanged:function(){this.rootNode().sort()},highlightObjectByHeapSnapshotId:function(e,t){if(!this.snapshot)return this._objectIdToSelect=e,void t(!1);this.snapshot.dominatorIdsForNode(parseInt(e,10),function(e){if(!e)return WebInspector.console.log(WebInspector.UIString("Cannot find corresponding heap snapshot node")),void t(!1);var i=this.rootNode();(function e(i,n){if(!n)return console.error("Cannot find dominator node"),void t(!1);if(!i.length)return this.highlightNode(n),n.element.scrollIntoViewIfNeeded(!0),void t(!0);var r=i.pop();n.retrieveChildBySnapshotObjectId(r,e.bind(this,i))}).call(this,e,i)}.bind(this))},__proto__:WebInspector.HeapSnapshotSortableDataGrid.prototype},WebInspector.AllocationDataGrid=function(){var e=[{id:"liveCount",title:WebInspector.UIString("Live Count"),width:"72px",sortable:!0},{id:"count",title:WebInspector.UIString("Count"),width:"72px",sortable:!0},{id:"liveSize",title:WebInspector.UIString("Live Size"),width:"72px",sortable:!0},{id:"size",title:WebInspector.UIString("Size"),width:"72px",sortable:!0,sort:WebInspector.DataGrid.Order.Descending},{id:"name",title:WebInspector.UIString("Function"),disclosure:!0,sortable:!0}];WebInspector.DataGrid.call(this,e),this._linkifier=new WebInspector.Linkifier,this.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this._sortingChanged,this)},WebInspector.AllocationDataGrid.prototype={setDataSource:function(e){this.snapshot=e,this.snapshot.allocationTracesTops(function(e){this._topNodes=e,this._populateChildren()}.bind(this))},_populateChildren:function(){for(var e=this.rootNode(),t=this._topNodes,i=0;i<t.length;i++)e.appendChild(new WebInspector.AllocationGridNode(this,t[i]))},_sortingChanged:function(){this._topNodes.sort(this._createComparator()),this.rootNode().removeChildren(),this._populateChildren()},_createComparator:function(){var e=this.sortColumnIdentifier(),t=this.sortOrder()===WebInspector.DataGrid.Order.Ascending?1:-1;return function(i,n){return i[e]>n[e]?t:i[e]<n[e]?-t:0}},__proto__:WebInspector.DataGrid.prototype},WebInspector.HeapSnapshotGridNode=function(e,t){WebInspector.DataGridNode.call(this,null,t),this._dataGrid=e,this._instanceCount=0,this._savedChildren=null,this._retrievedChildrenRanges=[],this._providerObject=null},WebInspector.HeapSnapshotGridNode.Events={PopulateComplete:"PopulateComplete"},WebInspector.HeapSnapshotGridNode.createComparator=function(e){return{fieldName1:e[0],ascending1:e[1],fieldName2:e[2],ascending2:e[3]}},WebInspector.HeapSnapshotGridNode.ChildrenProvider=function(){},WebInspector.HeapSnapshotGridNode.ChildrenProvider.prototype={dispose:function(){},nodePosition:function(e,t){},isEmpty:function(e){},serializeItemsRange:function(e,t,i){},sortAndRewind:function(e,t){}},WebInspector.HeapSnapshotGridNode.prototype={createProvider:function(){throw new Error("Not implemented.")},retainersDataSource:function(){return null},_provider:function(){return this._providerObject||(this._providerObject=this.createProvider()),this._providerObject},createCell:function(e){var t=WebInspector.DataGridNode.prototype.createCell.call(this,e);return this._searchMatched&&t.classList.add("highlight"),t},collapse:function(){WebInspector.DataGridNode.prototype.collapse.call(this),this._dataGrid.updateVisibleNodes(!0)},expand:function(){WebInspector.DataGridNode.prototype.expand.call(this),this._dataGrid.updateVisibleNodes(!0)},dispose:function(){this._providerObject&&this._providerObject.dispose();for(var e=this.children[0];e;e=e.traverseNextNode(!0,this,!0))e.dispose&&e.dispose()},_reachableFromWindow:!1,queryObjectContent:function(e){},wasDetached:function(){this._dataGrid.nodeWasDetached(this)},_toPercentString:function(e){return e.toFixed(0)+" %"},allChildren:function(){return this._dataGrid.allChildren(this)},removeChildByIndex:function(e){this._dataGrid.removeChildByIndex(this,e)},childForPosition:function(e){for(var t=0,i=0;i<this._retrievedChildrenRanges.length;i++){var n=this._retrievedChildrenRanges[i];if(n.from<=e&&e<n.to){var r=t+e-n.from;return this.allChildren()[r]}t+=n.to-n.from+1}return null},_createValueCell:function(e){var t=document.createElement("td");if(t.className=e+"-column",0!==this.dataGrid.snapshot.totalSize){var i=document.createElement("div"),n=document.createElement("span");n.textContent=this.data[e],i.appendChild(n);var r=e+"-percent";if(r in this.data){var s=document.createElement("span");s.className="percent-column",s.textContent=this.data[r],i.appendChild(s),i.classList.add("heap-snapshot-multiple-values")}t.appendChild(i)}return t},populate:function(e){this._populated||(this._populated=!0,this._provider().sortAndRewind(this.comparator(),function(){this._populateChildren()}.bind(this)))},expandWithoutPopulate:function(e){this._populated=!0,this.expand(),this._provider().sortAndRewind(this.comparator(),e)},_populateChildren:function(e,t,i){e=e||0,t=t||e+this._dataGrid.defaultPopulateCount();var n=e;function r(e,t){if(this._savedChildren){var i=this._childHashForEntity(e);if(i in this._savedChildren)return void this._dataGrid.insertChild(this,this._savedChildren[i],t)}this._dataGrid.insertChild(this,this._createChildNode(e),t)}function s(e,t,i){var n=new WebInspector.ShowMoreDataGridNode(this._populateChildren.bind(this),e,t,this._dataGrid.defaultPopulateCount());this._dataGrid.insertChild(this,n,i)}(function e(){if(!(n>=t)){var o=Math.min(n+this._dataGrid.defaultPopulateCount(),t);this._provider().serializeItemsRange(n,o,function(o){var a=0,c=o.startPosition,l=o.items,d=0;if(this._retrievedChildrenRanges.length){for(var h,p=0,u=!1;p<this._retrievedChildrenRanges.length;){if((h=this._retrievedChildrenRanges[p]).to>=c){u=!0;break}d+=h.to-h.from,h.to<o.totalLength&&(d+=1),++p}for(!u||o.startPosition<h.from?(this.allChildren()[d-1].setEndPosition(o.startPosition),s.call(this,o.startPosition,u?h.from:o.totalLength,d),h={from:o.startPosition,to:o.startPosition},u||(p=this._retrievedChildrenRanges.length),this._retrievedChildrenRanges.splice(p,0,h)):d+=c-h.from;h.to<o.endPosition;){var m=h.to-c;d+=m,a+=m,c=h.to;var _=this._retrievedChildrenRanges[p+1],g=_?_.from:o.totalLength;for(g>o.endPosition&&(g=o.endPosition);c<g;)r.call(this,l[a++],d++),++c;_&&g===_.from?(h.to=_.to,this.removeChildByIndex(d),this._retrievedChildrenRanges.splice(p+1,1)):(h.to=g,g===o.totalLength?this.removeChildByIndex(d):this.allChildren()[d].setStartPosition(o.endPosition))}}else{o.startPosition>0&&(this._retrievedChildrenRanges.push({from:0,to:0}),s.call(this,0,o.startPosition,d++)),this._retrievedChildrenRanges.push({from:o.startPosition,to:o.endPosition});for(var b=0,f=l.length;b<f;++b)r.call(this,l[b],d++);o.endPosition<o.totalLength&&s.call(this,o.endPosition,o.totalLength,d++)}this._instanceCount+=l.length,n<t?e.call(this):(this.expanded&&this._dataGrid.updateVisibleNodes(!0),i&&i(),this.dispatchEventToListeners(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete))}.bind(this)),n=o}}).call(this)},_saveChildren:function(){this._savedChildren=null;for(var e=this.allChildren(),t=0,i=e.length;t<i;++t){var n=e[t];n.expanded&&(this._savedChildren||(this._savedChildren={}),this._savedChildren[this._childHashForNode(n)]=n)}},sort:function(){this._dataGrid.recursiveSortingEnter(),this._provider().sortAndRewind(this.comparator(),function(){this._saveChildren(),this._dataGrid.removeAllChildren(this),this._retrievedChildrenRanges=[];var e=this._instanceCount;this._instanceCount=0,this._populateChildren(0,e,function(){for(var e=this.allChildren(),t=0,i=e.length;t<i;++t){var n=e[t];n.expanded&&n.sort()}this._dataGrid.recursiveSortingLeave()}.bind(this))}.bind(this))},__proto__:WebInspector.DataGridNode.prototype},WebInspector.HeapSnapshotGenericObjectNode=function(e,t){if(WebInspector.HeapSnapshotGridNode.call(this,e,!1),t){this._name=t.name,this._type=t.type,this._distance=t.distance,this._shallowSize=t.selfSize,this._retainedSize=t.retainedSize,this.snapshotNodeId=t.id,this.snapshotNodeIndex=t.nodeIndex,"string"===this._type?this._reachableFromWindow=!0:"object"===this._type&&this._name.startsWith("Window")?(this._name=this.shortenWindowURL(this._name,!1),this._reachableFromWindow=!0):t.canBeQueried&&(this._reachableFromWindow=!0),t.detachedDOMTreeNode&&(this.detachedDOMTreeNode=!0);var i=e.snapshot,n=this._shallowSize/i.totalSize*100,r=this._retainedSize/i.totalSize*100;this.data={distance:this._distance,shallowSize:Number.withThousandsSeparator(this._shallowSize),retainedSize:Number.withThousandsSeparator(this._retainedSize),"shallowSize-percent":this._toPercentString(n),"retainedSize-percent":this._toPercentString(r)}}},WebInspector.HeapSnapshotGenericObjectNode.prototype={retainersDataSource:function(){return{snapshot:this._dataGrid.snapshot,snapshotNodeIndex:this.snapshotNodeIndex}},createCell:function(e){var t="object"!==e?this._createValueCell(e):this._createObjectCell();return this._searchMatched&&t.classList.add("highlight"),t},_createObjectCell:function(){var e=this._name,t="object";switch(this._type){case"concatenated string":case"string":e='"'+e+'"',t="string";break;case"regexp":e="/"+e+"/",t="string";break;case"closure":e="function"+(e?" ":"")+e+"()",t="function";break;case"number":t="number";break;case"hidden":t="null";break;case"array":e?e+="[]":e="[]"}return this._reachableFromWindow&&(t+=" highlight"),"Object"===e&&(e=""),this.detachedDOMTreeNode&&(t+=" detached-dom-tree-node"),this._createObjectCellWithValue(t,e)},_createObjectCellWithValue:function(e,t){var i=document.createElement("td");i.className="object-column";var n=document.createElement("div");n.className="source-code event-properties",n.style.overflow="visible",this._prefixObjectCell(n);var r=document.createElement("span");r.className="value console-formatted-"+e,r.textContent=t,n.appendChild(r);var s=document.createElement("span");return s.className="console-formatted-id",s.textContent=" @"+this.snapshotNodeId,n.appendChild(s),i.appendChild(n),i.classList.add("disclosure"),this.depth&&i.style.setProperty("padding-left",this.depth*this.dataGrid.indentWidth+"px"),i.heapSnapshotNode=this,i},_prefixObjectCell:function(e){},queryObjectContent:function(e,t){"string"===this._type?e(WebInspector.RemoteObject.fromPrimitiveValue(this._name)):HeapProfilerAgent.getObjectByHeapObjectId(String(this.snapshotNodeId),t,function(t,i){!t&&i.type?e(WebInspector.RemoteObject.fromPayload(i),!!t):e(WebInspector.RemoteObject.fromPrimitiveValue(WebInspector.UIString("Preview is not available")))})},updateHasChildren:function(){this._provider().isEmpty(function(e){this.hasChildren=!e}.bind(this))},shortenWindowURL:function(e,t){var i=e.indexOf("/"),n=t?e.indexOf("@"):e.length;if(-1!==i&&-1!==n){var r=e.substring(i+1,n).trimLeft().trimURL();return r.length>40&&(r=r.trimMiddle(40)),e.substr(0,i+2)+r+e.substr(n)}return e},__proto__:WebInspector.HeapSnapshotGridNode.prototype},WebInspector.HeapSnapshotObjectNode=function(e,t,i,n){WebInspector.HeapSnapshotGenericObjectNode.call(this,e,i.node),this._referenceName=i.name,this._referenceType=i.type,this.showRetainingEdges=e.showRetainingEdges,this._snapshot=t,this._parentGridNode=n,this._cycledWithAncestorGridNode=this._findAncestorWithSameSnapshotNodeId(),this._cycledWithAncestorGridNode||this.updateHasChildren();var r=this.data;r.count="",r.addedCount="",r.removedCount="",r.countDelta="",r.addedSize="",r.removedSize="",r.sizeDelta=""},WebInspector.HeapSnapshotObjectNode.prototype={retainersDataSource:function(){return{snapshot:this._snapshot,snapshotNodeIndex:this.snapshotNodeIndex}},createProvider:function(){return this._dataGrid,this.showRetainingEdges?this._snapshot.createRetainingEdgesProvider(this.snapshotNodeIndex):this._snapshot.createEdgesProvider(this.snapshotNodeIndex)},_findAncestorWithSameSnapshotNodeId:function(){for(var e=this._parentGridNode;e;){if(e.snapshotNodeId===this.snapshotNodeId)return e;e=e._parentGridNode}return null},_createChildNode:function(e){return new WebInspector.HeapSnapshotObjectNode(this._dataGrid,this._snapshot,e,this)},_childHashForEntity:function(e){return(this.showRetainingEdges?e.node.id+"#":"")+e.type+"#"+e.name},_childHashForNode:function(e){return(this.showRetainingEdges?e.snapshotNodeId+"#":"")+e._referenceType+"#"+e._referenceName},comparator:function(){var e=this._dataGrid.isSortOrderAscending(),t={object:["!edgeName",e,"retainedSize",!1],count:["!edgeName",!0,"retainedSize",!1],shallowSize:["selfSize",e,"!edgeName",!0],retainedSize:["retainedSize",e,"!edgeName",!0],distance:["distance",e,"_name",!0]}[this._dataGrid.sortColumnIdentifier()]||["!edgeName",!0,"retainedSize",!1];return WebInspector.HeapSnapshotGridNode.createComparator(t)},_prefixObjectCell:function(e){var t=this._referenceName;""===t&&(t="(empty)");var i="name";switch(this._referenceType){case"context":i="console-formatted-number";break;case"internal":case"hidden":case"weak":i="console-formatted-null";break;case"element":t="["+t+"]"}this._cycledWithAncestorGridNode&&(e.className+=" cycled-ancessor-node");var n=document.createElement("span");n.className=i,n.textContent=t,e.appendChild(n);var r=document.createElement("span");r.className="grayed",r.textContent=this.showRetainingEdges?" in ":" :: ",e.appendChild(r)},__proto__:WebInspector.HeapSnapshotGenericObjectNode.prototype},WebInspector.HeapSnapshotInstanceNode=function(e,t,i,n){WebInspector.HeapSnapshotGenericObjectNode.call(this,e,i),this._baseSnapshotOrSnapshot=t,this._isDeletedNode=n,this.updateHasChildren();var r=this.data;r.count="",r.countDelta="",r.sizeDelta="",this._isDeletedNode?(r.addedCount="",r.addedSize="",r.removedCount="•",r.removedSize=Number.withThousandsSeparator(this._shallowSize)):(r.addedCount="•",r.addedSize=Number.withThousandsSeparator(this._shallowSize),r.removedCount="",r.removedSize="")},WebInspector.HeapSnapshotInstanceNode.prototype={retainersDataSource:function(){return{snapshot:this._baseSnapshotOrSnapshot,snapshotNodeIndex:this.snapshotNodeIndex}},createProvider:function(){return this._baseSnapshotOrSnapshot.createEdgesProvider(this.snapshotNodeIndex)},_createChildNode:function(e){return new WebInspector.HeapSnapshotObjectNode(this._dataGrid,this._baseSnapshotOrSnapshot,e,null)},_childHashForEntity:function(e){return e.type+"#"+e.name},_childHashForNode:function(e){return e._referenceType+"#"+e._referenceName},comparator:function(){var e=this._dataGrid.isSortOrderAscending(),t={object:["!edgeName",e,"retainedSize",!1],distance:["distance",e,"retainedSize",!1],count:["!edgeName",!0,"retainedSize",!1],addedSize:["selfSize",e,"!edgeName",!0],removedSize:["selfSize",e,"!edgeName",!0],shallowSize:["selfSize",e,"!edgeName",!0],retainedSize:["retainedSize",e,"!edgeName",!0]}[this._dataGrid.sortColumnIdentifier()]||["!edgeName",!0,"retainedSize",!1];return WebInspector.HeapSnapshotGridNode.createComparator(t)},__proto__:WebInspector.HeapSnapshotGenericObjectNode.prototype},WebInspector.HeapSnapshotConstructorNode=function(e,t,i,n){WebInspector.HeapSnapshotGridNode.call(this,e,i.count>0),this._name=t,this._nodeFilter=n,this._distance=i.distance,this._count=i.count,this._shallowSize=i.self,this._retainedSize=i.maxRet;var r=e.snapshot,s=this._count/r.nodeCount*100,o=this._retainedSize/r.totalSize*100,a=this._shallowSize/r.totalSize*100;this.data={object:t,count:Number.withThousandsSeparator(this._count),distance:this._distance,shallowSize:Number.withThousandsSeparator(this._shallowSize),retainedSize:Number.withThousandsSeparator(this._retainedSize),"count-percent":this._toPercentString(s),"shallowSize-percent":this._toPercentString(a),"retainedSize-percent":this._toPercentString(o)}},WebInspector.HeapSnapshotConstructorNode.prototype={createProvider:function(){return this._dataGrid.snapshot.createNodesProviderForClass(this._name,this._nodeFilter)},revealNodeBySnapshotObjectId:function(e,t){this._dataGrid.resetNameFilter(this.expandWithoutPopulate.bind(this,function(){this._provider().nodePosition(e,function(e){-1===e?(this.collapse(),t(!1)):this._populateChildren(e,null,function(e){var i=this.childForPosition(e);i&&(this._dataGrid.revealTreeNode([this,i]),this._dataGrid.highlightNode(i)),t(!!i)}.bind(this,e))}.bind(this))}.bind(this)))},filteredOut:function(){return-1===this._name.toLowerCase().indexOf(this._dataGrid._nameFilter)},createCell:function(e){var t="object"!==e?this._createValueCell(e):WebInspector.HeapSnapshotGridNode.prototype.createCell.call(this,e);return this._searchMatched&&t.classList.add("highlight"),t},_createChildNode:function(e){return new WebInspector.HeapSnapshotInstanceNode(this._dataGrid,this._dataGrid.snapshot,e,!1)},comparator:function(){var e=this._dataGrid.isSortOrderAscending(),t={object:["id",e,"retainedSize",!1],distance:["distance",e,"retainedSize",!1],count:["id",!0,"retainedSize",!1],shallowSize:["selfSize",e,"id",!0],retainedSize:["retainedSize",e,"id",!0]}[this._dataGrid.sortColumnIdentifier()];return WebInspector.HeapSnapshotGridNode.createComparator(t)},_childHashForEntity:function(e){return e.id},_childHashForNode:function(e){return e.snapshotNodeId},__proto__:WebInspector.HeapSnapshotGridNode.prototype},WebInspector.HeapSnapshotDiffNodesProvider=function(e,t,i,n){this._addedNodesProvider=e,this._deletedNodesProvider=t,this._addedCount=i,this._removedCount=n},WebInspector.HeapSnapshotDiffNodesProvider.prototype={dispose:function(){this._addedNodesProvider.dispose(),this._deletedNodesProvider.dispose()},nodePosition:function(e,t){throw new Error("Unreachable")},isEmpty:function(e){e(!1)},serializeItemsRange:function(e,t,i){function n(e){e.totalLength=this._addedCount+this._removedCount,i(e)}function r(e,t){var i=t.items;e.items.length||(e.startPosition=this._addedCount+t.startPosition);for(var r=0;r<i.length;r++)i[r].isAddedNotRemoved=!1,e.items.push(i[r]);e.endPosition=this._addedCount+t.endPosition,n.call(this,e)}if(e<this._addedCount)this._addedNodesProvider.serializeItemsRange(e,t,function(e){for(var i=e.items,s=0;s<i.length;s++)i[s].isAddedNotRemoved=!0;if(e.endPosition<t)return this._deletedNodesProvider.serializeItemsRange(0,t-e.endPosition,r.bind(this,e));e.totalLength=this._addedCount+this._removedCount,n.call(this,e)}.bind(this));else{var s=new WebInspector.HeapSnapshotCommon.ItemsRange(0,0,0,[]);this._deletedNodesProvider.serializeItemsRange(e-this._addedCount,t-this._addedCount,r.bind(this,s))}},sortAndRewind:function(e,t){this._addedNodesProvider.sortAndRewind(e,function(){this._deletedNodesProvider.sortAndRewind(e,t)}.bind(this))}},WebInspector.HeapSnapshotDiffNode=function(e,t,i){WebInspector.HeapSnapshotGridNode.call(this,e,!0),this._name=t,this._addedCount=i.addedCount,this._removedCount=i.removedCount,this._countDelta=i.countDelta,this._addedSize=i.addedSize,this._removedSize=i.removedSize,this._sizeDelta=i.sizeDelta,this._deletedIndexes=i.deletedIndexes,this.data={object:t,addedCount:Number.withThousandsSeparator(this._addedCount),removedCount:Number.withThousandsSeparator(this._removedCount),countDelta:this._signForDelta(this._countDelta)+Number.withThousandsSeparator(Math.abs(this._countDelta)),addedSize:Number.withThousandsSeparator(this._addedSize),removedSize:Number.withThousandsSeparator(this._removedSize),sizeDelta:this._signForDelta(this._sizeDelta)+Number.withThousandsSeparator(Math.abs(this._sizeDelta))}},WebInspector.HeapSnapshotDiffNode.prototype={createProvider:function(){var e=this._dataGrid;return new WebInspector.HeapSnapshotDiffNodesProvider(e.snapshot.createAddedNodesProvider(e.baseSnapshot.uid,this._name),e.baseSnapshot.createDeletedNodesProvider(this._deletedIndexes),this._addedCount,this._removedCount)},_createChildNode:function(e){return e.isAddedNotRemoved?new WebInspector.HeapSnapshotInstanceNode(this._dataGrid,this._dataGrid.snapshot,e,!1):new WebInspector.HeapSnapshotInstanceNode(this._dataGrid,this._dataGrid.baseSnapshot,e,!0)},_childHashForEntity:function(e){return e.id},_childHashForNode:function(e){return e.snapshotNodeId},comparator:function(){var e=this._dataGrid.isSortOrderAscending(),t={object:["id",e,"selfSize",!1],addedCount:["selfSize",e,"id",!0],removedCount:["selfSize",e,"id",!0],countDelta:["selfSize",e,"id",!0],addedSize:["selfSize",e,"id",!0],removedSize:["selfSize",e,"id",!0],sizeDelta:["selfSize",e,"id",!0]}[this._dataGrid.sortColumnIdentifier()];return WebInspector.HeapSnapshotGridNode.createComparator(t)},filteredOut:function(){return-1===this._name.toLowerCase().indexOf(this._dataGrid._nameFilter)},_signForDelta:function(e){return 0===e?"":e>0?"+":"−"},__proto__:WebInspector.HeapSnapshotGridNode.prototype},WebInspector.HeapSnapshotDominatorObjectNode=function(e,t){WebInspector.HeapSnapshotGenericObjectNode.call(this,e,t),this.updateHasChildren()},WebInspector.HeapSnapshotDominatorObjectNode.prototype={createProvider:function(){return this._dataGrid.snapshot.createNodesProviderForDominator(this.snapshotNodeIndex)},retrieveChildBySnapshotObjectId:function(e,t){this.hasChildren=!0,this.expandWithoutPopulate(function(){this._provider().nodePosition(e,function(e){-1===e?(this.collapse(),t(null)):this._populateChildren(e,null,function(e){var i=this.childForPosition(e);t(i)}.bind(this,e))}.bind(this))}.bind(this))},_createChildNode:function(e){return new WebInspector.HeapSnapshotDominatorObjectNode(this._dataGrid,e)},_childHashForEntity:function(e){return e.id},_childHashForNode:function(e){return e.snapshotNodeId},comparator:function(){var e=this._dataGrid.isSortOrderAscending(),t={object:["id",e,"retainedSize",!1],shallowSize:["selfSize",e,"id",!0],retainedSize:["retainedSize",e,"id",!0]}[this._dataGrid.sortColumnIdentifier()];return WebInspector.HeapSnapshotGridNode.createComparator(t)},__proto__:WebInspector.HeapSnapshotGenericObjectNode.prototype},WebInspector.AllocationGridNode=function(e,t){WebInspector.DataGridNode.call(this,t,t.hasChildren),this._dataGrid=e,this._populated=!1},WebInspector.AllocationGridNode.prototype={populate:function(){this._populated||(this._populated=!0,this._dataGrid.snapshot.allocationNodeCallers(this.data.id,function(e){for(var t=e.nodesWithSingleCaller,i=this,n=0;n<t.length;n++){var r=new WebInspector.AllocationGridNode(this._dataGrid,t[n]);i.appendChild(r),(i=r)._populated=!0,this.expanded&&i.expand()}var s=e.branchingCallers;s.sort(this._dataGrid._createComparator());for(n=0;n<s.length;n++)i.appendChild(new WebInspector.AllocationGridNode(this._dataGrid,s[n]))}.bind(this)))},expand:function(){WebInspector.DataGridNode.prototype.expand.call(this),1===this.children.length&&this.children[0].expand()},createCell:function(e){var t=WebInspector.DataGridNode.prototype.createCell.call(this,e);if("name"!==e)return t;var i=this.data;if(i.scriptName){var n=this._dataGrid._linkifier.linkifyLocation(i.scriptName,i.line-1,i.column-1,"profile-node-file");n.style.maxWidth="75%",t.insertBefore(n,t.firstChild)}return t},allocationNodeId:function(){return this.data.id},__proto__:WebInspector.DataGridNode.prototype},WebInspector.HeapSnapshotView=function(e){WebInspector.VBox.call(this),this.element.classList.add("heap-snapshot-view"),e.profileType().addEventListener(WebInspector.HeapSnapshotProfileType.SnapshotReceived,this._onReceiveSnapshot,this),e.profileType().addEventListener(WebInspector.ProfileType.Events.RemoveProfileHeader,this._onProfileHeaderRemoved,this),e._profileType.id===WebInspector.TrackingHeapSnapshotProfileType.TypeId&&(this._trackingOverviewGrid=new WebInspector.HeapTrackingOverviewGrid(e),this._trackingOverviewGrid.addEventListener(WebInspector.HeapTrackingOverviewGrid.IdsRangeChanged,this._onIdsRangeChanged.bind(this))),this._splitView=new WebInspector.SplitView(!1,!0,"heapSnapshotSplitViewState",200,200),this._splitView.show(this.element),this._containmentView=new WebInspector.VBox,this._containmentView.setMinimumSize(50,25),this._containmentDataGrid=new WebInspector.HeapSnapshotContainmentDataGrid,this._containmentDataGrid.show(this._containmentView.element),this._containmentDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),this._statisticsView=new WebInspector.HeapSnapshotStatisticsView,this._constructorsView=new WebInspector.VBox,this._constructorsView.setMinimumSize(50,25),this._constructorsDataGrid=new WebInspector.HeapSnapshotConstructorsDataGrid,this._constructorsDataGrid.show(this._constructorsView.element),this._constructorsDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),this._diffView=new WebInspector.VBox,this._diffView.setMinimumSize(50,25),this._diffDataGrid=new WebInspector.HeapSnapshotDiffDataGrid,this._diffDataGrid.show(this._diffView.element),this._diffDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),this._dominatorView=new WebInspector.VBox,this._dominatorView.setMinimumSize(50,25),this._dominatorDataGrid=new WebInspector.HeapSnapshotDominatorsDataGrid,this._dominatorDataGrid.show(this._dominatorView.element),this._dominatorDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),WebInspector.experimentsSettings.allocationProfiler.isEnabled()&&e.profileType()===WebInspector.ProfileTypeRegistry.instance.trackingHeapSnapshotProfileType&&(this._allocationView=new WebInspector.VBox,this._allocationView.setMinimumSize(50,25),this._allocationDataGrid=new WebInspector.AllocationDataGrid,this._allocationDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._onSelectAllocationNode,this),this._allocationDataGrid.show(this._allocationView.element)),this._retainmentViewHeader=document.createElementWithClass("div","retainers-view-header"),this._retainmentViewHeader.createChild("div","title").createChild("span").textContent=WebInspector.UIString("Object's retaining tree"),this._splitView.hideDefaultResizer(),this._splitView.installResizer(this._retainmentViewHeader),this._retainmentView=new WebInspector.VBox,this._retainmentView.setMinimumSize(50,21),this._retainmentView.element.classList.add("retaining-paths-view"),this._retainmentView.element.appendChild(this._retainmentViewHeader),this._retainmentDataGrid=new WebInspector.HeapSnapshotRetainmentDataGrid,this._retainmentDataGrid.show(this._retainmentView.element),this._retainmentDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._inspectedObjectChanged,this),this._retainmentDataGrid.reset(),this._perspectives=[],this._perspectives.push(new WebInspector.HeapSnapshotView.SummaryPerspective),e.profileType()!==WebInspector.ProfileTypeRegistry.instance.trackingHeapSnapshotProfileType&&this._perspectives.push(new WebInspector.HeapSnapshotView.ComparisonPerspective),this._perspectives.push(new WebInspector.HeapSnapshotView.ContainmentPerspective),WebInspector.settings.showAdvancedHeapSnapshotProperties.get()&&this._perspectives.push(new WebInspector.HeapSnapshotView.DominatorPerspective),this._allocationView&&this._perspectives.push(new WebInspector.HeapSnapshotView.AllocationPerspective),WebInspector.experimentsSettings.heapSnapshotStatistics.isEnabled()&&this._perspectives.push(new WebInspector.HeapSnapshotView.StatisticsPerspective),this._perspectiveSelect=new WebInspector.StatusBarComboBox(this._onSelectedPerspectiveChanged.bind(this));for(var t=0;t<this._perspectives.length;++t)this._perspectiveSelect.createOption(this._perspectives[t].title());this._profile=e,this._baseSelect=new WebInspector.StatusBarComboBox(this._changeBase.bind(this)),this._baseSelect.visible=!1,this._updateBaseOptions(),this._filterSelect=new WebInspector.StatusBarComboBox(this._changeFilter.bind(this)),this._filterSelect.visible=!1,this._updateFilterOptions(),this._classNameFilter=new WebInspector.StatusBarInput("Class filter"),this._classNameFilter.visible=!1,this._classNameFilter.setOnChangeHandler(this._onClassFilterChanged.bind(this)),this._selectedSizeText=new WebInspector.StatusBarText(""),this._popoverHelper=new WebInspector.ObjectPopoverHelper(this.element,this._getHoverAnchor.bind(this),this._resolveObjectForPopover.bind(this),void 0,!0),this._currentPerspectiveIndex=0,this._currentPerspective=this._perspectives[0],this._currentPerspective.activate(this),this._dataGrid=this._currentPerspective.masterGrid(this),this._dataGrid.addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter,this._onResetClassNameFilter,this),this._refreshView()},WebInspector.HeapSnapshotView.Perspective=function(e){this._title=e},WebInspector.HeapSnapshotView.Perspective.prototype={activate:function(e){},deactivate:function(e){e._baseSelect.visible=!1,e._filterSelect.visible=!1,e._classNameFilter.visible=!1,e._trackingOverviewGrid&&e._trackingOverviewGrid.detach(),e._allocationView&&e._allocationView.detach(),e._statisticsView&&e._statisticsView.detach(),e._splitView.detach(),e._splitView.detachChildViews()},masterGrid:function(e){return null},title:function(){return this._title},supportsSearch:function(){return!1}},WebInspector.HeapSnapshotView.SummaryPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Summary"))},WebInspector.HeapSnapshotView.SummaryPerspective.prototype={activate:function(e){e._constructorsView.show(e._splitView.mainElement()),e._retainmentView.show(e._splitView.sidebarElement()),e._splitView.show(e.element),e._filterSelect.visible=!0,e._classNameFilter.visible=!0,e._trackingOverviewGrid&&(e._trackingOverviewGrid.show(e.element,e._splitView.element),e._trackingOverviewGrid.update(),e._trackingOverviewGrid._updateGrid())},masterGrid:function(e){return e._constructorsDataGrid},supportsSearch:function(){return!0},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.ComparisonPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Comparison"))},WebInspector.HeapSnapshotView.ComparisonPerspective.prototype={activate:function(e){e._diffView.show(e._splitView.mainElement()),e._retainmentView.show(e._splitView.sidebarElement()),e._splitView.show(e.element),e._baseSelect.visible=!0,e._classNameFilter.visible=!0},masterGrid:function(e){return e._diffDataGrid},supportsSearch:function(){return!0},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.ContainmentPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Containment"))},WebInspector.HeapSnapshotView.ContainmentPerspective.prototype={activate:function(e){e._containmentView.show(e._splitView.mainElement()),e._retainmentView.show(e._splitView.sidebarElement()),e._splitView.show(e.element)},masterGrid:function(e){return e._containmentDataGrid},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.DominatorPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Dominators"))},WebInspector.HeapSnapshotView.DominatorPerspective.prototype={activate:function(e){e._dominatorView.show(e._splitView.mainElement()),e._retainmentView.show(e._splitView.sidebarElement()),e._splitView.show(e.element)},masterGrid:function(e){return e._dominatorDataGrid},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.AllocationPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Allocation")),this._allocationSplitView=new WebInspector.SplitView(!1,!0,"heapSnapshotAllocationSplitViewState",200,200)},WebInspector.HeapSnapshotView.AllocationPerspective.prototype={activate:function(e){e._allocationView.show(this._allocationSplitView.mainElement()),e._constructorsView.show(e._splitView.mainElement()),e._retainmentView.show(e._splitView.sidebarElement()),e._splitView.show(this._allocationSplitView.sidebarElement()),this._allocationSplitView.show(e.element),e._constructorsDataGrid.clear();var t=e._allocationDataGrid.selectedNode;t&&e._constructorsDataGrid.setAllocationNodeId(t.allocationNodeId())},deactivate:function(e){this._allocationSplitView.detach(),WebInspector.HeapSnapshotView.Perspective.prototype.deactivate.call(this,e)},masterGrid:function(e){return e._allocationDataGrid},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.StatisticsPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Statistics"))},WebInspector.HeapSnapshotView.StatisticsPerspective.prototype={activate:function(e){e._statisticsView.show(e.element)},masterGrid:function(e){return null},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.prototype={_refreshView:function(){this._profile.load(function(e){e.getStatistics(this._gotStatistics.bind(this));var t=this._profiles().indexOf(this._profile);this._baseSelect.setSelectedIndex(Math.max(0,t-1)),this._dataGrid.setDataSource(e),this._trackingOverviewGrid&&this._trackingOverviewGrid._updateGrid()}.bind(this))},_gotStatistics:function(e){this._statisticsView.setTotal(e.total),this._statisticsView.addRecord(e.code,WebInspector.UIString("Code"),"#f77"),this._statisticsView.addRecord(e.strings,WebInspector.UIString("Strings"),"#5e5"),this._statisticsView.addRecord(e.jsArrays,WebInspector.UIString("JS Arrays"),"#7af"),this._statisticsView.addRecord(e.native,WebInspector.UIString("Typed Arrays"),"#fc5"),this._statisticsView.addRecord(e.total,WebInspector.UIString("Total"))},_onIdsRangeChanged:function(e){var t=e.data.minId,i=e.data.maxId;this._selectedSizeText.setText(WebInspector.UIString("Selected size: %s",Number.bytesToString(e.data.size))),this._constructorsDataGrid.snapshot&&this._constructorsDataGrid.setSelectionRange(t,i)},get statusBarItems(){var e=[this._perspectiveSelect.element,this._classNameFilter.element];return this._profile.profileType()!==WebInspector.ProfileTypeRegistry.instance.trackingHeapSnapshotProfileType&&e.push(this._baseSelect.element,this._filterSelect.element),e.push(this._selectedSizeText.element),e},wasShown:function(){this._profile.load(function(){this._profile._wasShown(),this._baseProfile&&this._baseProfile.load(function(){})}.bind(this))},willHide:function(){this._currentSearchResultIndex=-1,this._popoverHelper.hidePopover(),this.helpPopover&&this.helpPopover.isShowing()&&this.helpPopover.hide()},searchCanceled:function(){if(this._searchResults)for(var e=0;e<this._searchResults.length;++e){var t=this._searchResults[e].node;delete t._searchMatched,t.refresh()}delete this._searchFinishedCallback,this._currentSearchResultIndex=-1,this._searchResults=[]},performSearch:function(e,t){if(this.searchCanceled(),(e=e.trim())&&this._currentPerspective.supportsSearch())if("@"!==e.charAt(0)){this._searchFinishedCallback=t;for(var i=createPlainTextSearchRegex(e,"i"),n=this._dataGrid.rootNode().children[0],r=0,s={};n;)a(n)&&this._searchResults.push({node:n}),n=n.traverseNextNode(!1,null,r>=1,s),r+=s.depthChange;t(this,this._searchResults.length)}else{var o=parseInt(e.substring(1),10);isNaN(o)?t(this,0):this._dataGrid.highlightObjectByHeapSnapshotId(String(o),function(e){t(this,e?1:0)}.bind(this))}function a(e){return delete e._searchMatched,!!function(e){return"_name"in e&&i.test(e._name)}(e)&&(e._searchMatched=!0,e.refresh(),!0)}},jumpToFirstSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=0,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToLastSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=this._searchResults.length-1,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToNextSearchResult:function(){this._searchResults&&this._searchResults.length&&(++this._currentSearchResultIndex>=this._searchResults.length&&(this._currentSearchResultIndex=0),this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToPreviousSearchResult:function(){this._searchResults&&this._searchResults.length&&(--this._currentSearchResultIndex<0&&(this._currentSearchResultIndex=this._searchResults.length-1),this._jumpToSearchResult(this._currentSearchResultIndex))},showingFirstSearchResult:function(){return 0===this._currentSearchResultIndex},showingLastSearchResult:function(){return this._searchResults&&this._currentSearchResultIndex===this._searchResults.length-1},currentSearchResultIndex:function(){return this._currentSearchResultIndex},_jumpToSearchResult:function(e){var t=this._searchResults[e];t&&t.node.revealAndSelect()},refreshVisibleData:function(){if(this._dataGrid)for(var e=this._dataGrid.rootNode().children[0];e;)e.refresh(),e=e.traverseNextNode(!1,null,!0)},_changeBase:function(){if(this._baseProfile!==this._profiles()[this._baseSelect.selectedIndex()]){this._baseProfile=this._profiles()[this._baseSelect.selectedIndex()];var e=this._dataGrid;e.snapshot&&this._baseProfile.load(e.setBaseDataSource.bind(e)),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))}},_changeFilter:function(){var e=this._filterSelect.selectedIndex()-1;this._dataGrid.filterSelectIndexChanged(this._profiles(),e),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.HeapSnapshotFilterChanged,label:this._filterSelect.selectedOption().label}),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))},_onClassFilterChanged:function(e){this._dataGrid.changeNameFilter(e)},_onResetClassNameFilter:function(){this._classNameFilter.setValue("")},_profiles:function(){return this._profile.profileType().getProfiles()},populateContextMenu:function(e,t){this._dataGrid&&this._dataGrid.populateContextMenu(e,t)},_selectionChanged:function(e){var t=e.target.selectedNode;this._setRetainmentDataGridSource(t),this._inspectedObjectChanged(e)},_onSelectAllocationNode:function(e){var t=e.target.selectedNode;this._constructorsDataGrid.setAllocationNodeId(t.allocationNodeId())},_inspectedObjectChanged:function(e){var t=e.target.selectedNode;!this._profile.fromFile()&&t instanceof WebInspector.HeapSnapshotGenericObjectNode&&ConsoleAgent.addInspectedHeapObject(t.snapshotNodeId)},_setRetainmentDataGridSource:function(e){var t=e&&e.retainersDataSource();t?this._retainmentDataGrid.setDataSource(t.snapshot,t.snapshotNodeIndex):this._retainmentDataGrid.reset()},_changePerspectiveAndWait:function(e,t){for(var i=null,n=0;n<this._perspectives.length;++n)if(this._perspectives[n].title()===e){i=n;break}this._currentPerspectiveIndex!==i&&null!==i?(this._perspectives[i].masterGrid(this).addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,function e(i){var n=i.data;n.removeEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,e,this),n===this._dataGrid&&t()},this),this._perspectiveSelect.setSelectedIndex(i),this._changePerspective(i)):setTimeout(t,0)},_updateDataSourceAndView:function(){var e=this._dataGrid;e&&!e.snapshot&&this._profile.load(function(t){this._dataGrid===e&&(e.snapshot!==t&&e.setDataSource(t),e===this._diffDataGrid&&(this._baseProfile||(this._baseProfile=this._profiles()[this._baseSelect.selectedIndex()]),this._baseProfile.load(function(e){this._diffDataGrid.baseSnapshot!==e&&this._diffDataGrid.setBaseDataSource(e)}.bind(this))))}.bind(this))},_onSelectedPerspectiveChanged:function(e){this._changePerspective(e.target.selectedIndex),this._onSelectedViewChanged(e)},_onSelectedViewChanged:function(e){},_changePerspective:function(e){if(e!==this._currentPerspectiveIndex){this._dataGrid&&this._dataGrid.removeEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter,this._onResetClassNameFilter,this),this._currentPerspectiveIndex=e,this._currentPerspective.deactivate(this);var t=this._perspectives[e];this._currentPerspective=t,this._dataGrid=t.masterGrid(this),t.activate(this),this.refreshVisibleData(),this._dataGrid&&(this._dataGrid.addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter,this._onResetClassNameFilter,this),this._dataGrid.updateWidths()),this._updateDataSourceAndView(),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))}},highlightLiveObject:function(e,t){function i(e){e||WebInspector.console.log("Cannot find corresponding heap snapshot node",WebInspector.ConsoleMessage.MessageLevel.Error,!0)}this._changePerspectiveAndWait(e,function(){this._dataGrid.highlightObjectByHeapSnapshotId(t,i)}.bind(this))},_getHoverAnchor:function(e){var t=e.enclosingNodeOrSelfWithNodeName("span");if(t){var i=e.enclosingNodeOrSelfWithNodeName("tr");if(i)return t.node=i._dataGridNode,t}},_resolveObjectForPopover:function(e,t,i){this._profile.fromFile()||e.node.queryObjectContent(t,i)},_updateBaseOptions:function(){var e=this._profiles();if(this._baseSelect.size()!==e.length)for(var t=this._baseSelect.size(),i=e.length;t<i;++t){var n=e[t].title;this._baseSelect.createOption(n)}},_updateFilterOptions:function(){var e=this._profiles();if(this._filterSelect.size()-1!==e.length){this._filterSelect.size()||this._filterSelect.createOption(WebInspector.UIString("All objects"));for(var t=this._filterSelect.size()-1,i=e.length;t<i;++t){var n=e[t].title;n=t?WebInspector.UIString("Objects allocated between %s and %s",e[t-1].title,n):WebInspector.UIString("Objects allocated before %s",n),this._filterSelect.createOption(n)}}},_updateControls:function(){this._updateBaseOptions(),this._updateFilterOptions()},_onReceiveSnapshot:function(e){this._updateControls()},_onProfileHeaderRemoved:function(e){var t=e.data;this._profile===t?(this.detach(),this._profile.profileType().removeEventListener(WebInspector.HeapSnapshotProfileType.SnapshotReceived,this._onReceiveSnapshot,this),this._profile.profileType().removeEventListener(WebInspector.ProfileType.Events.RemoveProfileHeader,this._onProfileHeaderRemoved,this)):this._updateControls()},__proto__:WebInspector.VBox.prototype},WebInspector.HeapProfilerDispatcher=function(){this._dispatchers=[],InspectorBackend.registerHeapProfilerDispatcher(this)},WebInspector.HeapProfilerDispatcher.prototype={register:function(e){this._dispatchers.push(e)},_genericCaller:function(e){for(var t=Array.prototype.slice.call(arguments.callee.caller.arguments),i=0;i<this._dispatchers.length;++i)this._dispatchers[i][e].apply(this._dispatchers[i],t)},heapStatsUpdate:function(e){this._genericCaller("heapStatsUpdate")},lastSeenObjectId:function(e,t){this._genericCaller("lastSeenObjectId")},addHeapSnapshotChunk:function(e){this._genericCaller("addHeapSnapshotChunk")},reportHeapSnapshotProgress:function(e,t,i){this._genericCaller("reportHeapSnapshotProgress")},resetProfiles:function(){this._genericCaller("resetProfiles")}},WebInspector.HeapProfilerDispatcher._dispatcher=new WebInspector.HeapProfilerDispatcher,WebInspector.HeapSnapshotProfileType=function(e,t){WebInspector.ProfileType.call(this,e||WebInspector.HeapSnapshotProfileType.TypeId,t||WebInspector.UIString("Take Heap Snapshot")),WebInspector.HeapProfilerDispatcher._dispatcher.register(this)},WebInspector.HeapSnapshotProfileType.TypeId="HEAP",WebInspector.HeapSnapshotProfileType.SnapshotReceived="SnapshotReceived",WebInspector.HeapSnapshotProfileType.prototype={fileExtension:function(){return".heapsnapshot"},get buttonTooltip(){return WebInspector.UIString("Take heap snapshot.")},isInstantProfile:function(){return!0},buttonClicked:function(){return this._takeHeapSnapshot(function(){}),WebInspector.userMetrics.ProfilesHeapProfileTaken.record(),!1},heapStatsUpdate:function(e){},lastSeenObjectId:function(e,t){},get treeItemTitle(){return WebInspector.UIString("HEAP SNAPSHOTS")},get description(){return WebInspector.UIString("Heap snapshot profiles show memory distribution among your page's JavaScript objects and related DOM nodes.")},createProfileLoadedFromFile:function(e){return new WebInspector.HeapProfileHeader(this,e)},_takeHeapSnapshot:function(e){this.profileBeingRecorded()||(this._profileBeingRecorded=new WebInspector.HeapProfileHeader(this),this.addProfile(this._profileBeingRecorded),this._profileBeingRecorded.updateStatus(WebInspector.UIString("Snapshotting…")),HeapProfilerAgent.takeHeapSnapshot(!0,function(t){var i=this._profileBeingRecorded;i.title=WebInspector.UIString("Snapshot %d",i.uid),i._finishLoad(),this._profileBeingRecorded=null,WebInspector.panels.profiles.showProfile(i),e()}.bind(this)))},addHeapSnapshotChunk:function(e){this.profileBeingRecorded()&&this.profileBeingRecorded().transferChunk(e)},reportHeapSnapshotProgress:function(e,t,i){var n=this.profileBeingRecorded();n&&(n.updateStatus(WebInspector.UIString("%.0f%",e/t*100),!0),i&&n._prepareToLoad())},resetProfiles:function(){this._reset()},_snapshotReceived:function(e){this._profileBeingRecorded===e&&(this._profileBeingRecorded=null),this.dispatchEventToListeners(WebInspector.HeapSnapshotProfileType.SnapshotReceived,e)},__proto__:WebInspector.ProfileType.prototype},WebInspector.TrackingHeapSnapshotProfileType=function(){WebInspector.HeapSnapshotProfileType.call(this,WebInspector.TrackingHeapSnapshotProfileType.TypeId,WebInspector.UIString("Record Heap Allocations"))},WebInspector.TrackingHeapSnapshotProfileType.TypeId="HEAP-RECORD",WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate="HeapStatsUpdate",WebInspector.TrackingHeapSnapshotProfileType.TrackingStarted="TrackingStarted",WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped="TrackingStopped",WebInspector.TrackingHeapSnapshotProfileType.prototype={heapStatsUpdate:function(e){if(this._profileSamples)for(var t,i=0;i<e.length;i+=3){t=e[i],e[i+1];var n=e[i+2];this._profileSamples.sizes[t]=n,this._profileSamples.max[t]||(this._profileSamples.max[t]=n)}},lastSeenObjectId:function(e,t){var i=this._profileSamples;if(i){var n=Math.max(i.ids.length,i.max.length-1);i.ids[n]=e,i.max[n]||(i.max[n]=0,i.sizes[n]=0),i.timestamps[n]=t,i.totalTime<t-i.timestamps[0]&&(i.totalTime*=2),this.dispatchEventToListeners(WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate,this._profileSamples),this._profileBeingRecorded.updateStatus(null,!0)}},hasTemporaryView:function(){return!0},get buttonTooltip(){return this._recording?WebInspector.UIString("Stop recording heap profile."):WebInspector.UIString("Start recording heap profile.")},isInstantProfile:function(){return!1},buttonClicked:function(){return this._toggleRecording()},_startRecordingProfile:function(){this.profileBeingRecorded()||(this._addNewProfile(),HeapProfilerAgent.startTrackingHeapObjects(WebInspector.experimentsSettings.allocationProfiler.isEnabled()))},_addNewProfile:function(){this._profileBeingRecorded=new WebInspector.HeapProfileHeader(this),this._lastSeenIndex=-1,this._profileSamples={sizes:[],ids:[],timestamps:[],max:[],totalTime:3e4},this._profileBeingRecorded._profileSamples=this._profileSamples,this._recording=!0,this.addProfile(this._profileBeingRecorded),this._profileBeingRecorded.updateStatus(WebInspector.UIString("Recording…")),this.dispatchEventToListeners(WebInspector.TrackingHeapSnapshotProfileType.TrackingStarted)},_stopRecordingProfile:function(){this._profileBeingRecorded.updateStatus(WebInspector.UIString("Snapshotting…")),HeapProfilerAgent.stopTrackingHeapObjects(!0,function(e){var t=this._profileBeingRecorded;t&&(t._finishLoad(),this._profileSamples=null,this._profileBeingRecorded=null,WebInspector.panels.profiles.showProfile(t))}.bind(this)),this._recording=!1,this.dispatchEventToListeners(WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped)},_toggleRecording:function(){return this._recording?this._stopRecordingProfile():this._startRecordingProfile(),this._recording},get treeItemTitle(){return WebInspector.UIString("HEAP TIMELINES")},get description(){return WebInspector.UIString("Record JavaScript object allocations over time. Use this profile type to isolate memory leaks.")},resetProfiles:function(){var e=this._recording;this._profileBeingRecorded=null,WebInspector.HeapSnapshotProfileType.prototype.resetProfiles.call(this),this._profileSamples=null,this._lastSeenIndex=-1,e&&this._addNewProfile()},profileBeingRecordedRemoved:function(){this._stopRecordingProfile(),this._profileSamples=null},__proto__:WebInspector.HeapSnapshotProfileType.prototype},WebInspector.HeapProfileHeader=function(e,t){WebInspector.ProfileHeader.call(this,e,t||WebInspector.UIString("Snapshot %d",e._nextProfileUid)),this.maxJSObjectId=-1,this._workerProxy=null,this._receiver=null,this._snapshotProxy=null,this._loadCallbacks=[],this._totalNumberOfChunks=0,this._bufferedWriter=null},WebInspector.HeapProfileHeader.prototype={createSidebarTreeElement:function(){return new WebInspector.ProfileSidebarTreeElement(this,"heap-snapshot-sidebar-tree-item")},createView:function(){return new WebInspector.HeapSnapshotView(this)},load:function(e){-1!==this.uid&&(this._snapshotProxy?e(this._snapshotProxy):this._loadCallbacks.push(e))},_prepareToLoad:function(){console.assert(!this._receiver,"Already loading"),this._setupWorker(),this.updateStatus(WebInspector.UIString("Loading…"),!0)},_finishLoad:function(){this._wasDisposed||this._receiver.close(function(){}),this._bufferedWriter&&(this._bufferedWriter.close(this._didWriteToTempFile.bind(this)),this._bufferedWriter=null)},_didWriteToTempFile:function(e){this._wasDisposed?e&&e.remove():(this._tempFile=e,e||(this._failedToCreateTempFile=!0),this._onTempFileReady&&(this._onTempFileReady(),this._onTempFileReady=null))},_setupWorker:function(){console.assert(!this._workerProxy,"HeapSnapshotWorkerProxy already exists"),this._workerProxy=new WebInspector.HeapSnapshotWorkerProxy(this._handleWorkerEvent.bind(this)),this._workerProxy.addEventListener("wait",function(e){this.updateStatus(null,e.data)},this),this._receiver=this._workerProxy.createLoader(this.uid,this._snapshotReceived.bind(this))},_handleWorkerEvent:function(e,t){if(WebInspector.HeapSnapshotProgressEvent.Update===e){var i=t;this.updateStatus(i)}},dispose:function(){this._workerProxy&&this._workerProxy.dispose(),this.removeTempFile(),this._wasDisposed=!0},_didCompleteSnapshotTransfer:function(){this._snapshotProxy&&this.updateStatus(Number.bytesToString(this._snapshotProxy.totalSize),!1)},transferChunk:function(e){this._bufferedWriter||(this._bufferedWriter=new WebInspector.BufferedTempFileWriter("heap-profiler",this.uid)),this._bufferedWriter.write(e),++this._totalNumberOfChunks,this._receiver.write(e,function(){})},_snapshotReceived:function(e){this._wasDisposed||(this._receiver=null,this._snapshotProxy=e,this.maxJSObjectId=e.maxJSObjectId(),this._didCompleteSnapshotTransfer(),this._workerProxy.startCheckingForLongRunningCalls(),this.notifySnapshotReceived())},notifySnapshotReceived:function(){for(var e=0;e<this._loadCallbacks.length;e++)this._loadCallbacks[e](this._snapshotProxy);this._loadCallbacks=null,this._profileType._snapshotReceived(this),this.canSaveToFile()&&this.dispatchEventToListeners(WebInspector.ProfileHeader.Events.ProfileReceived)},_wasShown:function(){},canSaveToFile:function(){return!this.fromFile()&&this._snapshotProxy},saveToFile:function(){var e=new WebInspector.FileOutputStream;this._fileName=this._fileName||"Heap-"+(new Date).toISO8601Compact()+this._profileType.fileExtension(),e.open(this._fileName,function t(i){if(i)if(this._failedToCreateTempFile)WebInspector.console.log("Failed to open temp file with heap snapshot",WebInspector.ConsoleMessage.MessageLevel.Error),e.close();else if(this._tempFile){var n=new WebInspector.SaveSnapshotOutputStreamDelegate(this);this._tempFile.writeToOutputSteam(e,n)}else this._onTempFileReady=t.bind(this,i),this._updateSaveProgress(0,1)}.bind(this))},_updateSaveProgress:function(e,t){var i=(100*(t?e/t:0)).toFixed(0);this.updateStatus(WebInspector.UIString("Saving… %d%",i))},loadFromFile:function(e){this.updateStatus(WebInspector.UIString("Loading…"),!0),this._setupWorker();var t=new WebInspector.HeapSnapshotLoadFromFileDelegate(this);this._createFileReader(e,t).start(this._receiver)},_createFileReader:function(e,t){return new WebInspector.ChunkedFileReader(e,1e7,t)},__proto__:WebInspector.ProfileHeader.prototype},WebInspector.HeapSnapshotLoadFromFileDelegate=function(e){this._snapshotHeader=e},WebInspector.HeapSnapshotLoadFromFileDelegate.prototype={onTransferStarted:function(){},onChunkTransferred:function(e){},onTransferFinished:function(){},onError:function(e,t){var i;switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:i=WebInspector.UIString("'%s' not found.",e.fileName());break;case t.target.error.NOT_READABLE_ERR:i=WebInspector.UIString("'%s' is not readable",e.fileName());break;case t.target.error.ABORT_ERR:return;default:i=WebInspector.UIString("'%s' error %d",e.fileName(),t.target.error.code)}this._snapshotHeader.updateStatus(i)}},WebInspector.SaveSnapshotOutputStreamDelegate=function(e){this._profileHeader=e},WebInspector.SaveSnapshotOutputStreamDelegate.prototype={onTransferStarted:function(){this._profileHeader._updateSaveProgress(0,1)},onTransferFinished:function(){this._profileHeader._didCompleteSnapshotTransfer()},onChunkTransferred:function(e){this._profileHeader._updateSaveProgress(e.loadedSize(),e.fileSize())},onError:function(e,t){WebInspector.console.log("Failed to read heap snapshot from temp file: "+t.message,WebInspector.ConsoleMessage.MessageLevel.Error),this.onTransferFinished()}},WebInspector.HeapTrackingOverviewGrid=function(e){WebInspector.VBox.call(this),this.registerRequiredCSS("flameChart.css"),this.element.id="heap-recording-view",this.element.classList.add("heap-tracking-overview"),this._overviewContainer=this.element.createChild("div","overview-container"),this._overviewGrid=new WebInspector.OverviewGrid("heap-recording"),this._overviewGrid.element.classList.add("fill"),this._overviewCanvas=this._overviewContainer.createChild("canvas","heap-recording-overview-canvas"),this._overviewContainer.appendChild(this._overviewGrid.element),this._overviewCalculator=new WebInspector.HeapTrackingOverviewGrid.OverviewCalculator,this._overviewGrid.addEventListener(WebInspector.OverviewGrid.Events.WindowChanged,this._onWindowChanged,this),this._profileSamples=e._profileSamples,e.profileType().profileBeingRecorded()===e&&(this._profileType=e._profileType,this._profileType.addEventListener(WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate,this._onHeapStatsUpdate,this),this._profileType.addEventListener(WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped,this._onStopTracking,this));var t=this._profileSamples.timestamps,i=this._profileSamples.totalTime;this._windowLeft=0,this._windowRight=i&&t.length?(t[t.length-1]-t[0])/i:1,this._overviewGrid.setWindow(this._windowLeft,this._windowRight),this._yScale=new WebInspector.HeapTrackingOverviewGrid.SmoothScale,this._xScale=new WebInspector.HeapTrackingOverviewGrid.SmoothScale},WebInspector.HeapTrackingOverviewGrid.IdsRangeChanged="IdsRangeChanged",WebInspector.HeapTrackingOverviewGrid.prototype={_onStopTracking:function(e){this._profileType.removeEventListener(WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate,this._onHeapStatsUpdate,this),this._profileType.removeEventListener(WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped,this._onStopTracking,this)},_onHeapStatsUpdate:function(e){this._profileSamples=e.data,this._scheduleUpdate()},_drawOverviewCanvas:function(e,t){if(this._profileSamples){var i=this._profileSamples,n=i.sizes,r=i.max,s=i.timestamps,o=s[0],a=s[s.length-1],c=this._xScale.nextScale(e/i.totalTime),l=0;f(n,function(e,t){l=Math.max(l,t)});var d=this._yScale.nextScale(l?t/(1.1*l):0);this._overviewCanvas.width=e*window.devicePixelRatio,this._overviewCanvas.height=t*window.devicePixelRatio,this._overviewCanvas.style.width=e+"px",this._overviewCanvas.style.height=t+"px";var h=this._overviewCanvas.getContext("2d");h.scale(window.devicePixelRatio,window.devicePixelRatio),h.beginPath(),h.lineWidth=2,h.strokeStyle="rgba(192, 192, 192, 0.6)";var p,u,m=(a-o)*c;if(h.moveTo(m,t-1),h.lineTo(m,0),h.stroke(),h.closePath(),d){const i=(t-14)/d;u=Math.pow(1024,Math.floor(Math.log(i)/Math.log(1024))),5*(u*=Math.pow(10,Math.floor(Math.log(i/u)/Math.LN10)))<=i&&(u*=5),p=Math.round(t-u*d-.5)+.5,h.beginPath(),h.lineWidth=1,h.strokeStyle="rgba(0, 0, 0, 0.2)",h.moveTo(0,p),h.lineTo(e,p),h.stroke(),h.closePath()}if(h.beginPath(),h.lineWidth=2,h.strokeStyle="rgba(192, 192, 192, 0.6)",f(r,I),h.stroke(),h.closePath(),h.beginPath(),h.lineWidth=2,h.strokeStyle="rgba(0, 0, 192, 0.8)",f(n,I),h.stroke(),h.closePath(),u){var _=Number.bytesToString(u),g=p-.5,b=8+h.measureText(_).width;h.beginPath(),h.textBaseline="bottom",h.font="10px "+window.getComputedStyle(this.element,null).getPropertyValue("font-family"),h.fillStyle="rgba(255, 255, 255, 0.75)",h.fillRect(0,g-14,b,14),h.fillStyle="rgb(64, 64, 64)",h.fillText(_,4,g),h.fill(),h.closePath()}}function f(e,t){for(var i=0,n=0,r=1;r<s.length;++r){var a=Math.floor((s[r]-o)*c);a!==n&&(i&&t(n,i),i=0,n=a),i+=e[r]}t(n,i)}function I(e,i){h.moveTo(e,t-1),h.lineTo(e,Math.round(t-i*d-1))}},onResize:function(){this._updateOverviewCanvas=!0,this._scheduleUpdate()},_onWindowChanged:function(){this._updateGridTimerId||(this._updateGridTimerId=setTimeout(this._updateGrid.bind(this),10))},_scheduleUpdate:function(){this._updateTimerId||(this._updateTimerId=setTimeout(this.update.bind(this),10))},_updateBoundaries:function(){this._windowLeft=this._overviewGrid.windowLeft(),this._windowRight=this._overviewGrid.windowRight(),this._windowWidth=this._windowRight-this._windowLeft},update:function(){this._updateTimerId=null,this.isShowing()&&(this._updateBoundaries(),this._overviewCalculator._updateBoundaries(this),this._overviewGrid.updateDividers(this._overviewCalculator),this._drawOverviewCanvas(this._overviewContainer.clientWidth,this._overviewContainer.clientHeight-20))},_updateGrid:function(){this._updateGridTimerId=0,this._updateBoundaries();for(var e=this._profileSamples.ids,t=this._profileSamples.timestamps,i=this._profileSamples.sizes,n=t[0],r=this._profileSamples.totalTime,s=n+r*this._windowLeft,o=n+r*this._windowRight,a=0,c=e[e.length-1]+1,l=0,d=0;d<t.length;++d)if(t[d]){if(t[d]>o)break;c=e[d],t[d]<s?a=e[d]:l+=i[d]}this.dispatchEventToListeners(WebInspector.HeapTrackingOverviewGrid.IdsRangeChanged,{minId:a,maxId:c,size:l})},__proto__:WebInspector.VBox.prototype},WebInspector.HeapTrackingOverviewGrid.SmoothScale=function(){this._lastUpdate=0,this._currentScale=0},WebInspector.HeapTrackingOverviewGrid.SmoothScale.prototype={nextScale:function(e){if(e=e||this._currentScale,this._currentScale){var t=Date.now(),i=t-this._lastUpdate;this._lastUpdate=t;var n=Math.pow(20,i/1e3),r=e/this._currentScale;this._currentScale*=Number.constrain(r,1/n,n)}else this._currentScale=e;return this._currentScale}},WebInspector.HeapTrackingOverviewGrid.OverviewCalculator=function(){},WebInspector.HeapTrackingOverviewGrid.OverviewCalculator.prototype={paddingLeft:function(){return 0},_updateBoundaries:function(e){this._minimumBoundaries=0,this._maximumBoundaries=e._profileSamples.totalTime,this._xScaleFactor=e._overviewContainer.clientWidth/this._maximumBoundaries},computePosition:function(e){return(e-this._minimumBoundaries)*this._xScaleFactor},formatTime:function(e,t){return Number.secondsToString(e/1e3,!!t)},maximumBoundary:function(){return this._maximumBoundaries},minimumBoundary:function(){return this._minimumBoundaries},zeroTime:function(){return this._minimumBoundaries},boundarySpan:function(){return this._maximumBoundaries-this._minimumBoundaries}},WebInspector.HeapSnapshotStatisticsView=function(){WebInspector.VBox.call(this),this.setMinimumSize(50,25),this._pieChart=new WebInspector.PieChart,this._pieChart.setSize(150),this.element.appendChild(this._pieChart.element),this._labels=this.element.createChild("div","heap-snapshot-stats-legend")},WebInspector.HeapSnapshotStatisticsView.prototype={setTotal:function(e){this._pieChart.setTotal(e)},addRecord:function(e,t,i){i&&this._pieChart.addSlice(e,i);var n=this._labels.createChild("div"),r=n.createChild("div","heap-snapshot-stats-swatch"),s=n.createChild("div","heap-snapshot-stats-name"),o=n.createChild("div","heap-snapshot-stats-size");i?r.style.backgroundColor=i:r.classList.add("heap-snapshot-stats-empty-swatch"),s.textContent=t,o.textContent=WebInspector.UIString("%s KB",Number.withThousandsSeparator(Math.round(e/1024)))},__proto__:WebInspector.VBox.prototype},WebInspector.ProfileLauncherView=function(e){WebInspector.VBox.call(this),this._panel=e,this.element.classList.add("profile-launcher-view"),this.element.classList.add("panel-enabler-view"),this._contentElement=this.element.createChild("div","profile-launcher-view-content"),this._innerContentElement=this._contentElement.createChild("div"),this._controlButton=this._contentElement.createChild("button","control-profiling"),this._controlButton.addEventListener("click",this._controlButtonClicked.bind(this),!1),this._loadButton=this._contentElement.createChild("button","load-profile"),this._loadButton.textContent=WebInspector.UIString("Load"),this._loadButton.addEventListener("click",this._loadButtonClicked.bind(this),!1)},WebInspector.ProfileLauncherView.prototype={addProfileType:function(e){this._innerContentElement.createChild("h1").textContent=e.description;var t=e.decorationElement();t&&this._innerContentElement.appendChild(t),this._isInstantProfile=e.isInstantProfile(),this._isEnabled=e.isEnabled(),this._profileTypeId=e.id},_controlButtonClicked:function(){this._panel.toggleRecordButton()},_loadButtonClicked:function(){this._panel.showLoadFromFileDialog()},_updateControls:function(){this._isEnabled?this._controlButton.removeAttribute("disabled"):this._controlButton.setAttribute("disabled",""),this._isInstantProfile?(this._controlButton.classList.remove("running"),this._controlButton.textContent=WebInspector.UIString("Take Snapshot")):this._isProfiling?(this._controlButton.classList.add("running"),this._controlButton.textContent=WebInspector.UIString("Stop")):(this._controlButton.classList.remove("running"),this._controlButton.textContent=WebInspector.UIString("Start"))},profileStarted:function(){this._isProfiling=!0,this._updateControls()},profileFinished:function(){this._isProfiling=!1,this._updateControls()},updateProfileType:function(e){this._isInstantProfile=e.isInstantProfile(),this._isEnabled=e.isEnabled(),this._profileTypeId=e.id,this._updateControls()},__proto__:WebInspector.VBox.prototype},WebInspector.MultiProfileLauncherView=function(e){WebInspector.ProfileLauncherView.call(this,e),WebInspector.settings.selectedProfileType=WebInspector.settings.createSetting("selectedProfileType","CPU"),this._innerContentElement.createChild("h1").textContent=WebInspector.UIString("Select profiling type"),this._profileTypeSelectorForm=this._innerContentElement.createChild("form"),this._innerContentElement.createChild("div","flexible-space"),this._typeIdToOptionElement={}},WebInspector.MultiProfileLauncherView.EventTypes={ProfileTypeSelected:"profile-type-selected"},WebInspector.MultiProfileLauncherView.prototype={addProfileType:function(e){var t=this._profileTypeSelectorForm.createChild("label");t.textContent=e.name;var i=document.createElement("input");t.insertBefore(i,t.firstChild),this._typeIdToOptionElement[e.id]=i,i._profileType=e,i.type="radio",i.name="profile-type",i.style.hidden=!0,i.addEventListener("change",this._profileTypeChanged.bind(this,e),!1),t.createChild("p").textContent=e.description;var n=e.decorationElement();n&&t.appendChild(n)},restoreSelectedProfileType:function(){var e=WebInspector.settings.selectedProfileType.get();e in this._typeIdToOptionElement||(e=Object.keys(this._typeIdToOptionElement)[0]),this._typeIdToOptionElement[e].checked=!0;var t=this._typeIdToOptionElement[e]._profileType;this.dispatchEventToListeners(WebInspector.MultiProfileLauncherView.EventTypes.ProfileTypeSelected,t)},_controlButtonClicked:function(){this._panel.toggleRecordButton()},_updateControls:function(){WebInspector.ProfileLauncherView.prototype._updateControls.call(this);for(var e=this._profileTypeSelectorForm.elements,t=0;t<e.length;++t)"radio"===e[t].type&&(e[t].disabled=this._isProfiling)},_profileTypeChanged:function(e,t){this.dispatchEventToListeners(WebInspector.MultiProfileLauncherView.EventTypes.ProfileTypeSelected,e),this._isInstantProfile=e.isInstantProfile(),this._isEnabled=e.isEnabled(),this._profileTypeId=e.id,this._updateControls(),WebInspector.settings.selectedProfileType.set(e.id)},profileStarted:function(){this._isProfiling=!0,this._updateControls()},profileFinished:function(){this._isProfiling=!1,this._updateControls()},__proto__:WebInspector.ProfileLauncherView.prototype},WebInspector.TopDownProfileDataGridNode=function(e,t){var i=!(!e.children||!e.children.length);WebInspector.ProfileDataGridNode.call(this,e,t,i),this._remainingChildren=e.children},WebInspector.TopDownProfileDataGridNode.prototype={_sharedPopulate:function(){for(var e=this._remainingChildren,t=e.length,i=0;i<t;++i)this.appendChild(new WebInspector.TopDownProfileDataGridNode(e[i],this.tree));this._remainingChildren=null},_exclude:function(e){this._remainingChildren&&this.populate(),this._save();for(var t=this.children,i=this.children.length;i--;)t[i]._exclude(e);var n=this.childrenByCallUID[e];n&&this._merge(n,!0)},__proto__:WebInspector.ProfileDataGridNode.prototype},WebInspector.TopDownProfileDataGridTree=function(e,t){WebInspector.ProfileDataGridTree.call(this,e,t),this._remainingChildren=t.children,WebInspector.TopDownProfileDataGridNode.prototype.populate.call(this)},WebInspector.TopDownProfileDataGridTree.prototype={focus:function(e){e&&(this._save(),e.savePosition(),this.children=[e],this.totalTime=e.totalTime)},exclude:function(e){if(e){this._save();var t=e.callUID;WebInspector.TopDownProfileDataGridNode.prototype._exclude.call(this,t),this.lastComparator&&this.sort(this.lastComparator,!0)}},restore:function(){this._savedChildren&&(this.children[0].restorePosition(),WebInspector.ProfileDataGridTree.prototype.restore.call(this))},_merge:WebInspector.TopDownProfileDataGridNode.prototype._merge,_sharedPopulate:WebInspector.TopDownProfileDataGridNode.prototype._sharedPopulate,__proto__:WebInspector.ProfileDataGridTree.prototype},WebInspector.CanvasProfileView=function(e){WebInspector.VBox.call(this),this.registerRequiredCSS("canvasProfiler.css"),this.element.classList.add("canvas-profile-view"),this._profile=e,this._traceLogId=e.traceLogId(),this._traceLogPlayer=e.traceLogPlayer(),this._linkifier=new WebInspector.Linkifier,this._replayInfoSplitView=new WebInspector.SplitView(!0,!0,"canvasProfileViewReplaySplitViewState",.34),this._replayInfoSplitView.show(this.element),this._imageSplitView=new WebInspector.SplitView(!1,!0,"canvasProfileViewSplitViewState",300),this._imageSplitView.show(this._replayInfoSplitView.mainElement());var t=new WebInspector.VBox;t.setMinimumSize(50,28),t.show(this._imageSplitView.mainElement());var i=t.element.createChild("div");i.id="canvas-replay-image-container",this._replayImageElement=i.createChild("img","canvas-replay-image"),this._debugInfoElement=i.createChild("div","canvas-debug-info hidden"),this._spinnerIcon=i.createChild("div","spinner-icon small hidden");var n=new WebInspector.VBox;n.setMinimumSize(22,22),n.show(this._imageSplitView.sidebarElement());var r=n.element,s=r.createChild("div","status-bar"),o=r.createChild("div","canvas-replay-log");this._createControlButton(s,"canvas-replay-first-step",WebInspector.UIString("First call."),this._onReplayFirstStepClick.bind(this)),this._createControlButton(s,"canvas-replay-prev-step",WebInspector.UIString("Previous call."),this._onReplayStepClick.bind(this,!1)),this._createControlButton(s,"canvas-replay-next-step",WebInspector.UIString("Next call."),this._onReplayStepClick.bind(this,!0)),this._createControlButton(s,"canvas-replay-prev-draw",WebInspector.UIString("Previous drawing call."),this._onReplayDrawingCallClick.bind(this,!1)),this._createControlButton(s,"canvas-replay-next-draw",WebInspector.UIString("Next drawing call."),this._onReplayDrawingCallClick.bind(this,!0)),this._createControlButton(s,"canvas-replay-last-step",WebInspector.UIString("Last call."),this._onReplayLastStepClick.bind(this)),this._replayContextSelector=new WebInspector.StatusBarComboBox(this._onReplayContextChanged.bind(this)),this._replayContextSelector.createOption(WebInspector.UIString("<screenshot auto>"),WebInspector.UIString("Show screenshot of the last replayed resource."),""),s.appendChild(this._replayContextSelector.element),this._installReplayInfoSidebarWidgets(s),this._replayStateView=new WebInspector.CanvasReplayStateView(this._traceLogPlayer),this._replayStateView.show(this._replayInfoSplitView.sidebarElement()),this._replayContexts={};var a=[{title:"#",sortable:!1,width:"5%"},{title:WebInspector.UIString("Call"),sortable:!1,width:"75%",disclosure:!0},{title:WebInspector.UIString("Location"),sortable:!1,width:"20%"}];this._logGrid=new WebInspector.DataGrid(a),this._logGrid.element.classList.add("fill"),this._logGrid.show(o),this._logGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._replayTraceLog,this),this.element.addEventListener("mousedown",this._onMouseClick.bind(this),!0),this._popoverHelper=new WebInspector.ObjectPopoverHelper(this.element,this._popoverAnchor.bind(this),this._resolveObjectForPopover.bind(this),this._onHidePopover.bind(this),!0),this._popoverHelper.setRemoteObjectFormatter(this._hexNumbersFormatter.bind(this)),this._requestTraceLog(0)},WebInspector.CanvasProfileView.TraceLogPollingInterval=500,WebInspector.CanvasProfileView.prototype={dispose:function(){this._linkifier.reset()},get statusBarItems(){return[]},get profile(){return this._profile},elementsToRestoreScrollPositionsFor:function(){return[this._logGrid.scrollContainer]},_installReplayInfoSidebarWidgets:function(e){this._replayInfoResizeWidgetElement=e.createChild("div","resizer-widget"),this._replayInfoSplitView.addEventListener(WebInspector.SplitView.Events.ShowModeChanged,this._updateReplayInfoResizeWidget,this),this._updateReplayInfoResizeWidget(),this._replayInfoSplitView.installResizer(this._replayInfoResizeWidgetElement),this._toggleReplayStateSidebarButton=this._replayInfoSplitView.createShowHideSidebarButton("sidebar","canvas-sidebar-show-hide-button"),e.appendChild(this._toggleReplayStateSidebarButton.element),this._replayInfoSplitView.hideSidebar()},_updateReplayInfoResizeWidget:function(){this._replayInfoResizeWidgetElement.classList.toggle("hidden",this._replayInfoSplitView.showMode()!==WebInspector.SplitView.ShowMode.Both)},_onMouseClick:function(e){var t=e.target.enclosingNodeOrSelfWithClass("canvas-formatted-resource");if(t)return this._replayInfoSplitView.showBoth(),this._replayStateView.selectResource(t.__resourceId),void e.consume(!0);e.target.enclosingNodeOrSelfWithClass("webkit-html-resource-link")&&e.consume(!1)},_createControlButton:function(e,t,i,n){var r=new WebInspector.StatusBarButton(i,t+" canvas-replay-button");e.appendChild(r.element),r.makeLongClickEnabled(),r.addEventListener("click",n,this),r.addEventListener("longClickDown",n,this),r.addEventListener("longClickPress",n,this)},_onReplayContextChanged:function(){var e=this._replayContextSelector.selectedOption().value;this._enableWaitIcon(!0),this._traceLogPlayer.getResourceState(e,function(t){if(this._enableWaitIcon(!1),e===this._replayContextSelector.selectedOption().value){var i=t&&t.imageURL||"";this._replayImageElement.src=i,this._replayImageElement.style.visibility=i?"":"hidden"}}.bind(this))},_onReplayStepClick:function(e){var t=this._logGrid.selectedNode;if(t){var i=t;do{i=e?i.traverseNextNode(!1):i.traversePreviousNode(!1)}while(i&&"number"!=typeof i.index);(i||t).revealAndSelect()}},_onReplayDrawingCallClick:function(e){var t=this._logGrid.selectedNode;if(t){for(var i=t;i;){var n=e?i.nextSibling:i.previousSibling;if(n){if((i=n).hasChildren||i.call.isDrawingCall)break}else if(i=i.parent,!e)break}!i&&e?this._onReplayLastStepClick():(i||t).revealAndSelect()}},_onReplayFirstStepClick:function(){var e=this._logGrid.rootNode().children[0];e&&e.revealAndSelect()},_onReplayLastStepClick:function(){var e=this._logGrid.rootNode().children.peekLast();if(e){for(;e.expanded;){var t=e.children.peekLast();if(!t)break;e=t}e.revealAndSelect()}},_enableWaitIcon:function(e){this._spinnerIcon.classList.toggle("hidden",!e),this._debugInfoElement.classList.toggle("hidden",e)},_replayTraceLog:function(){if(!this._pendingReplayTraceLogEvent){var e=this._selectedCallIndex();-1!==e&&e!==this._lastReplayCallIndex&&(this._lastReplayCallIndex=e,this._pendingReplayTraceLogEvent=!0,this._enableWaitIcon(!0),this._traceLogPlayer.replayTraceLog(e,function(t,i){delete this._pendingReplayTraceLogEvent,this._enableWaitIcon(!1),this._debugInfoElement.textContent=WebInspector.UIString("Replay time: %s",Number.secondsToString(i/1e3,!0)),this._onReplayContextChanged(),e!==this._selectedCallIndex()&&this._replayTraceLog()}.bind(this)))}},_requestTraceLog:function(e){this._enableWaitIcon(!0),this._traceLogPlayer.getTraceLog(e,void 0,function(e){if(this._enableWaitIcon(!1),e){for(var t=[],i=e.calls,n=e.startOffset,r=0,s=i.length;r<s;++r)t.push(this._createCallNode(n++,i[r]));var o=e.contexts;for(r=0,s=o.length;r<s;++r){var a=o[r].resourceId||"",c=o[r].description||"";this._replayContexts[a]||(this._replayContexts[a]=!0,this._replayContextSelector.createOption(c,WebInspector.UIString("Show screenshot of this context's canvas."),a))}this._appendCallNodes(t),e.alive?setTimeout(this._requestTraceLog.bind(this,n),WebInspector.CanvasProfileView.TraceLogPollingInterval):this._flattenSingleFrameNode(),this._profile._updateCapturingStatus(e),this._onReplayLastStepClick()}}.bind(this))},_selectedCallIndex:function(){var e=this._logGrid.selectedNode;return e?this._peekLastRecursively(e).index:-1},_peekLastRecursively:function(e){for(var t;t=e.children.peekLast();)e=t;return e},_appendCallNodes:function(e){var t=this._logGrid.rootNode(),i=t.children.peekLast();i&&this._peekLastRecursively(i).call.isFrameEndCall&&(i=null);for(var n=0,r=e.length;n<r;++n){if(!i){var s=t.children.length,o={0:""};o[1]=WebInspector.UIString("Frame #%d",s+1),o[2]="",(i=new WebInspector.DataGridNode(o)).selectable=!0,t.appendChild(i)}for(var a=n+1;a<r&&!e[a-1].call.isFrameEndCall;)++a;this._appendCallNodesToFrameNode(i,e,n,a),n=a-1,i=null}},_appendCallNodesToFrameNode:function(e,t,i,n){var r=this;function s(){var t=r._drawCallGroupsCount||0,i={0:""};i[1]=WebInspector.UIString("Draw call group #%d",t+1),i[2]="";var n=new WebInspector.DataGridNode(i);return n.selectable=!0,r._drawCallGroupsCount=t+1,e.appendChild(n),n}function o(e){for(var t,i=0;(t=e.children[i])&&!t.call.isDrawingCall;)++i;for(var n,r=s();n=e.children[i+1];)r.appendChild(n);return r}var a=e.children.peekLast(),c=!1;if(a){for(var l=0,d=a.children.length;l<d;++l)if(a.children[l].call.isDrawingCall){c=!0;break}}else a=s();for(l=i;l<n;++l){var h=t[l];a.appendChild(h),h.call.isDrawingCall&&(c?a=o(a):c=!0)}},_createCallNode:function(e,t){var i=document.createElement("div"),n={};if(n[0]=e+1,n[1]=i,n[2]="",t.sourceURL){var r=Math.max(0,t.lineNumber-1)||0,s=Math.max(0,t.columnNumber-1)||0;n[2]=this._linkifier.linkifyLocation(t.sourceURL,r,s)}if(i.createChild("span","canvas-function-name").textContent=t.functionName||"context."+t.property,t.arguments){i.createTextChild("(");for(var o=0,a=t.arguments.length;o<a;++o){var c=t.arguments[o];o&&i.createTextChild(", ");var l=WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(c);l.__argumentIndex=o,i.appendChild(l)}i.createTextChild(")")}else t.value&&(i.createTextChild(" = "),i.appendChild(WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(t.value)));t.result&&(i.createTextChild(" => "),i.appendChild(WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(t.result)));var d=new WebInspector.DataGridNode(n);return d.index=e,d.selectable=!0,d.call=t,d},_popoverAnchor:function(e,t){var i=e.enclosingNodeOrSelfWithClass("canvas-call-argument");return!i||i.__suppressPopover?null:i},_resolveObjectForPopover:function(e,t,i){function n(i,n,r){if(!i&&n){this._popoverAnchorElement=e.cloneNode(!0),this._popoverAnchorElement.classList.add("canvas-popover-anchor"),this._popoverAnchorElement.classList.add("source-frame-eval-expression"),e.parentElement.appendChild(this._popoverAnchorElement);var s=this._popoverAnchorElement.boxInWindow().x-e.boxInWindow().x;this._popoverAnchorElement.style.left=this._popoverAnchorElement.offsetLeft-s+"px",t(WebInspector.RemoteObject.fromPayload(n),!1,this._popoverAnchorElement)}}var r=e.__evalResult;if(r)n.call(this,null,r);else{var s=this._logGrid.dataGridNodeFromNode(e);if(!s||"number"!=typeof s.index)return void this._popoverHelper.hidePopover();var o=s.index,a=e.__argumentIndex;"number"!=typeof a&&(a=-1),CanvasAgent.evaluateTraceLogCallArgument(this._traceLogId,o,a,i,n.bind(this))}},_hexNumbersFormatter:function(e){if("number"===e.type){var t="0000"+Number(e.description).toString(16).toUpperCase();return"0x"+t.replace(/^0+(.{4,})$/,"$1")}return e.description||""},_onHidePopover:function(){this._popoverAnchorElement&&(this._popoverAnchorElement.remove(),delete this._popoverAnchorElement)},_flattenSingleFrameNode:function(){var e=this._logGrid.rootNode();if(1===e.children.length){for(var t=e.children[0];t.children[0];)e.appendChild(t.children[0]);e.removeChild(t)}},__proto__:WebInspector.VBox.prototype},WebInspector.CanvasProfileType=function(){WebInspector.ProfileType.call(this,WebInspector.CanvasProfileType.TypeId,WebInspector.UIString("Capture Canvas Frame")),this._recording=!1,this._lastProfileHeader=null,this._capturingModeSelector=new WebInspector.StatusBarComboBox(this._dispatchViewUpdatedEvent.bind(this)),this._capturingModeSelector.element.title=WebInspector.UIString("Canvas capture mode."),this._capturingModeSelector.createOption(WebInspector.UIString("Single Frame"),WebInspector.UIString("Capture a single canvas frame."),""),this._capturingModeSelector.createOption(WebInspector.UIString("Consecutive Frames"),WebInspector.UIString("Capture consecutive canvas frames."),"1"),this._frameOptions={},this._framesWithCanvases={},this._frameSelector=new WebInspector.StatusBarComboBox(this._dispatchViewUpdatedEvent.bind(this)),this._frameSelector.element.title=WebInspector.UIString("Frame containing the canvases to capture."),this._frameSelector.element.classList.add("hidden"),WebInspector.resourceTreeModel.frames().forEach(this._addFrame,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameAdded,this._frameAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this._frameRemoved,this),this._dispatcher=new WebInspector.CanvasDispatcher(this),this._canvasAgentEnabled=!1,this._decorationElement=document.createElement("div"),this._decorationElement.className="profile-canvas-decoration",this._updateDecorationElement()},WebInspector.CanvasProfileType.TypeId="CANVAS_PROFILE",WebInspector.CanvasProfileType.prototype={get statusBarItems(){return[this._capturingModeSelector.element,this._frameSelector.element]},get buttonTooltip(){return this._isSingleFrameMode()?WebInspector.UIString("Capture next canvas frame."):this._recording?WebInspector.UIString("Stop capturing canvas frames."):WebInspector.UIString("Start capturing canvas frames.")},buttonClicked:function(){return!!this._canvasAgentEnabled&&(this._recording?(this._recording=!1,this._stopFrameCapturing()):this._isSingleFrameMode()?(this._recording=!1,this._runSingleFrameCapturing()):(this._recording=!0,this._startFrameCapturing()),this._recording)},_runSingleFrameCapturing:function(){var e=this._selectedFrameId();CanvasAgent.captureFrame(e,this._didStartCapturingFrame.bind(this,e))},_startFrameCapturing:function(){var e=this._selectedFrameId();CanvasAgent.startCapturing(e,this._didStartCapturingFrame.bind(this,e))},_stopFrameCapturing:function(){if(this._lastProfileHeader){var e=this._lastProfileHeader,t=e.traceLogId();this._lastProfileHeader=null,CanvasAgent.stopCapturing(t,function(){e._updateCapturingStatus()})}},_didStartCapturingFrame:function(e,t,i){if(!(t||this._lastProfileHeader&&this._lastProfileHeader.traceLogId()===i)){var n=new WebInspector.CanvasProfileHeader(this,i,e);this._lastProfileHeader=n,this.addProfile(n),n._updateCapturingStatus()}},get treeItemTitle(){return WebInspector.UIString("CANVAS PROFILE")},get description(){return WebInspector.UIString("Canvas calls instrumentation")},decorationElement:function(){return this._decorationElement},removeProfile:function(e){WebInspector.ProfileType.prototype.removeProfile.call(this,e),this._recording&&e===this._lastProfileHeader&&(this._recording=!1)},_updateDecorationElement:function(e){this._decorationElement.removeChildren(),this._decorationElement.createChild("div","warning-icon-small"),this._decorationElement.appendChild(document.createTextNode(this._canvasAgentEnabled?WebInspector.UIString("Canvas Profiler is enabled."):WebInspector.UIString("Canvas Profiler is disabled.")));var t=this._decorationElement.createChild("button");if(t.type="button",t.textContent=this._canvasAgentEnabled?WebInspector.UIString("Disable"):WebInspector.UIString("Enable"),t.addEventListener("click",this._onProfilerEnableButtonClick.bind(this,!this._canvasAgentEnabled),!1),e)if(this._canvasAgentEnabled)CanvasAgent.hasUninstrumentedCanvases(function(e,t){(e||t)&&WebInspector.resourceTreeModel.reloadPage()});else for(var i in this._framesWithCanvases)if(this._framesWithCanvases.hasOwnProperty(i)){WebInspector.resourceTreeModel.reloadPage();break}},_onProfilerEnableButtonClick:function(e){function t(t){t||(this._canvasAgentEnabled=e,this._updateDecorationElement(!0),this._dispatchViewUpdatedEvent())}this._canvasAgentEnabled!==e&&(e?CanvasAgent.enable(t.bind(this)):CanvasAgent.disable(t.bind(this)))},_isSingleFrameMode:function(){return!this._capturingModeSelector.selectedOption().value},_frameAdded:function(e){var t=e.data;this._addFrame(t)},_addFrame:function(e){var t=e.id,i=document.createElement("option");i.text=e.displayName(),i.title=e.url,i.value=t,this._frameOptions[t]=i,this._framesWithCanvases[t]&&(this._frameSelector.addOption(i),this._dispatchViewUpdatedEvent())},_frameRemoved:function(e){var t=e.data.id,i=this._frameOptions[t];i&&this._framesWithCanvases[t]&&(this._frameSelector.removeOption(i),this._dispatchViewUpdatedEvent()),delete this._frameOptions[t],delete this._framesWithCanvases[t]},_contextCreated:function(e){if(!this._framesWithCanvases[e]){this._framesWithCanvases[e]=!0;var t=this._frameOptions[e];t&&(this._frameSelector.addOption(t),this._dispatchViewUpdatedEvent())}},_traceLogsRemoved:function(e,t){for(var i=[],n=this.treeElement&&this.treeElement.children||[],r=0,s=n.length;r<s;++r){var o=n[r].profile;o&&(e&&e!==o.frameId()||t&&t!==o.traceLogId()||i.push(n[r]))}for(r=0,s=i.length;r<s;++r)i[r].ondelete()},_selectedFrameId:function(){var e=this._frameSelector.selectedOption();return e?e.value:void 0},_dispatchViewUpdatedEvent:function(){this._frameSelector.element.classList.toggle("hidden",this._frameSelector.size()<=1),this.dispatchEventToListeners(WebInspector.ProfileType.Events.ViewUpdated)},isInstantProfile:function(){return this._isSingleFrameMode()},isEnabled:function(){return this._canvasAgentEnabled},__proto__:WebInspector.ProfileType.prototype},WebInspector.CanvasDispatcher=function(e){this._profileType=e,InspectorBackend.registerCanvasDispatcher(this)},WebInspector.CanvasDispatcher.prototype={contextCreated:function(e){this._profileType._contextCreated(e)},traceLogsRemoved:function(e,t){this._profileType._traceLogsRemoved(e,t)}},WebInspector.CanvasProfileHeader=function(e,t,i){WebInspector.ProfileHeader.call(this,e,WebInspector.UIString("Trace Log %d",e._nextProfileUid)),this._traceLogId=t||"",this._frameId=i,this._alive=!0,this._traceLogSize=0,this._traceLogPlayer=t?new WebInspector.CanvasTraceLogPlayerProxy(t):null},WebInspector.CanvasProfileHeader.prototype={traceLogId:function(){return this._traceLogId},traceLogPlayer:function(){return this._traceLogPlayer},frameId:function(){return this._frameId},createSidebarTreeElement:function(){return new WebInspector.ProfileSidebarTreeElement(this,"profile-sidebar-tree-item")},createView:function(){return new WebInspector.CanvasProfileView(this)},dispose:function(){this._traceLogPlayer&&this._traceLogPlayer.dispose(),clearTimeout(this._requestStatusTimer),this._alive=!1},_updateCapturingStatus:function(e){if(this._traceLogId){e&&(this._alive=e.alive,this._traceLogSize=e.totalAvailableCalls);var t=this._alive?WebInspector.UIString("Capturing… %d calls",this._traceLogSize):WebInspector.UIString("Captured %d calls",this._traceLogSize);this.updateStatus(t,this._alive),this._alive&&(clearTimeout(this._requestStatusTimer),this._requestStatusTimer=setTimeout(this._requestCapturingStatus.bind(this),WebInspector.CanvasProfileView.TraceLogPollingInterval))}},_requestCapturingStatus:function(){this._traceLogPlayer.getTraceLog(0,0,function(e){e&&(this._alive=e.alive,this._traceLogSize=e.totalAvailableCalls,this._updateCapturingStatus())}.bind(this))},__proto__:WebInspector.ProfileHeader.prototype},WebInspector.CanvasProfileDataGridHelper={createCallArgumentElement:function(e){if(e.enumName)return WebInspector.CanvasProfileDataGridHelper.createEnumValueElement(e.enumName,+e.description);var t=document.createElement("span");t.className="canvas-call-argument";var i=e.description;if("string"===e.type){const e=150;t.createTextChild('"'),t.createChild("span","canvas-formatted-string").textContent=i.trimMiddle(e),t.createTextChild('"'),t.__suppressPopover=i.length<=e&&!/[\r\n]/.test(i),t.__suppressPopover||(t.__evalResult=WebInspector.RemoteObject.fromPrimitiveValue(i))}else{var n=e.subtype||e.type;n&&(t.classList.add("canvas-formatted-"+n),["null","undefined","boolean","number"].indexOf(n)>=0&&(t.__suppressPopover=!0)),t.textContent=i,e.remoteObject&&(t.__evalResult=WebInspector.RemoteObject.fromPayload(e.remoteObject))}return e.resourceId&&(t.classList.add("canvas-formatted-resource"),t.__resourceId=e.resourceId),t},createEnumValueElement:function(e,t){var i=document.createElement("span");return i.className="canvas-call-argument canvas-formatted-number",i.textContent=e,i.__evalResult=WebInspector.RemoteObject.fromPrimitiveValue(t),i}},WebInspector.CanvasTraceLogPlayerProxy=function(e){this._traceLogId=e,this._currentResourceStates={},this._defaultResourceId=null},WebInspector.CanvasTraceLogPlayerProxy.Events={CanvasTraceLogReceived:"CanvasTraceLogReceived",CanvasReplayStateChanged:"CanvasReplayStateChanged",CanvasResourceStateReceived:"CanvasResourceStateReceived"},WebInspector.CanvasTraceLogPlayerProxy.prototype={getTraceLog:function(e,t,i){CanvasAgent.getTraceLog(this._traceLogId,e,t,function(e,t){!e&&t?(i(t),this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasTraceLogReceived,t)):i(null)}.bind(this))},dispose:function(){this._currentResourceStates={},CanvasAgent.dropTraceLog(this._traceLogId),this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged)},getResourceState:function(e,t){if(e=e||this._defaultResourceId){var i=e;this._currentResourceStates[i]?t(this._currentResourceStates[i]):CanvasAgent.getResourceState(this._traceLogId,i,function(e,n){!e&&n?(this._currentResourceStates[i]=n,t(n),this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasResourceStateReceived,n)):t(null)}.bind(this))}else t(null)},replayTraceLog:function(e,t){CanvasAgent.replayTraceLog(this._traceLogId,e,function(e,i,n){this._currentResourceStates={},e?t(null,n):(this._defaultResourceId=i.id,this._currentResourceStates[i.id]=i,t(i,n)),this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged),e||this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasResourceStateReceived,i)}.bind(this))},clearResourceStates:function(){this._currentResourceStates={},this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged)},__proto__:WebInspector.Object.prototype},WebInspector.CanvasReplayStateView=function(e){WebInspector.VBox.call(this),this.registerRequiredCSS("canvasProfiler.css"),this.element.classList.add("canvas-replay-state-view"),this._traceLogPlayer=e;var t=this.element.createChild("div","status-bar");this._prevButton=this._createControlButton(t,"canvas-replay-state-prev",WebInspector.UIString("Previous resource."),this._onResourceNavigationClick.bind(this,!1)),this._nextButton=this._createControlButton(t,"canvas-replay-state-next",WebInspector.UIString("Next resource."),this._onResourceNavigationClick.bind(this,!0)),this._createControlButton(t,"canvas-replay-state-refresh",WebInspector.UIString("Refresh."),this._onStateRefreshClick.bind(this)),this._resourceSelector=new WebInspector.StatusBarComboBox(this._onReplayResourceChanged.bind(this)),this._currentOption=this._resourceSelector.createOption(WebInspector.UIString("<auto>"),WebInspector.UIString("Show state of the last replayed resource."),""),t.appendChild(this._resourceSelector.element),this._resourceIdToDescription={},this._gridNodesExpandedState={},this._gridScrollPositions={},this._currentResourceId=null,this._prevOptionsStack=[],this._nextOptionsStack=[],this._highlightedGridNodes=[];var i=[{title:WebInspector.UIString("Name"),sortable:!1,width:"50%",disclosure:!0},{title:WebInspector.UIString("Value"),sortable:!1,width:"50%"}];this._stateGrid=new WebInspector.DataGrid(i),this._stateGrid.element.classList.add("fill"),this._stateGrid.show(this.element),this._traceLogPlayer.addEventListener(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged,this._onReplayResourceChanged,this),this._traceLogPlayer.addEventListener(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasTraceLogReceived,this._onCanvasTraceLogReceived,this),this._traceLogPlayer.addEventListener(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasResourceStateReceived,this._onCanvasResourceStateReceived,this),this._updateButtonsEnabledState()},WebInspector.CanvasReplayStateView.prototype={selectResource:function(e){if(e!==this._resourceSelector.selectedOption().value)for(var t=this._resourceSelector.selectElement().firstChild,i=0;t;++i,t=t.nextSibling)if(e===t.value){this._resourceSelector.setSelectedIndex(i),this._onReplayResourceChanged();break}},_createControlButton:function(e,t,i,n){var r=new WebInspector.StatusBarButton(i,t+" canvas-replay-button");return e.appendChild(r.element),r.makeLongClickEnabled(),r.addEventListener("click",n,this),r.addEventListener("longClickDown",n,this),r.addEventListener("longClickPress",n,this),r},_onResourceNavigationClick:function(e){var t=e?this._nextOptionsStack.pop():this._prevOptionsStack.pop();t&&((e?this._prevOptionsStack:this._nextOptionsStack).push(this._currentOption),this._isNavigationButton=!0,this.selectResource(t.value),delete this._isNavigationButton,this._updateButtonsEnabledState())},_onStateRefreshClick:function(){this._traceLogPlayer.clearResourceStates()},_updateButtonsEnabledState:function(){this._prevButton.setEnabled(this._prevOptionsStack.length>0),this._nextButton.setEnabled(this._nextOptionsStack.length>0)},_updateCurrentOption:function(){var e=this._resourceSelector.selectedOption();this._currentOption!==e&&(this._isNavigationButton||(this._prevOptionsStack.push(this._currentOption),this._nextOptionsStack=[],this._prevOptionsStack.length>256&&this._prevOptionsStack.shift(),this._updateButtonsEnabledState()),this._currentOption=e)},_collectResourcesFromTraceLog:function(e){for(var t=[],i=e.calls,n=0,r=i.length;n<r;++n){for(var s=i[n],o=s.arguments||[],a=0;a<o.length;++a)this._collectResourceFromCallArgument(o[a],t);this._collectResourceFromCallArgument(s.result,t),this._collectResourceFromCallArgument(s.value,t)}var c=e.contexts;for(n=0,r=c.length;n<r;++n)this._collectResourceFromCallArgument(c[n],t);this._addCollectedResourcesToSelector(t)},_collectResourcesFromResourceState:function(e){var t=[];this._collectResourceFromResourceStateDescriptors(e.descriptors,t),this._addCollectedResourcesToSelector(t)},_collectResourceFromResourceStateDescriptors:function(e,t){if(e)for(var i=0,n=e.length;i<n;++i){var r=e[i];this._collectResourceFromCallArgument(r.value,t),this._collectResourceFromResourceStateDescriptors(r.values,t)}},_collectResourceFromCallArgument:function(e,t){if(e){var i=e.resourceId;i&&!this._resourceIdToDescription[i]&&(this._resourceIdToDescription[i]=e.description,t.push(e))}},_addCollectedResourcesToSelector:function(e){if(e.length){e.sort(function(e,t){var i=e.description,n=t.description;return String.naturalOrderComparator(i,n)});var t=this._resourceSelector.selectElement(),i=t.firstChild;i=i.nextSibling;for(var n=0,r=e.length;n<r;++n){for(var s=e[n];i&&String.naturalOrderComparator(i.text,s.description)<0;)i=i.nextSibling;var o=this._resourceSelector.createOption(s.description,WebInspector.UIString("Show state of this resource."),s.resourceId);i&&t.insertBefore(o,i)}}},_onReplayResourceChanged:function(){this._updateCurrentOption();var e=this._resourceSelector.selectedOption().value;this._traceLogPlayer.getResourceState(e,function(t){e===this._resourceSelector.selectedOption().value&&this._showResourceState(t)}.bind(this))},_onCanvasTraceLogReceived:function(e){var t=e.data;console.assert(t),this._collectResourcesFromTraceLog(t)},_onCanvasResourceStateReceived:function(e){var t=e.data;console.assert(t),this._collectResourcesFromResourceState(t)},_showResourceState:function(e){this._saveExpandedState(),this._saveScrollState();var t=this._stateGrid.rootNode();if(!e)return this._currentResourceId=null,this._updateDataGridHighlights([]),void t.removeChildren();var i=[],n={};function r(e,t){var i=!!e.values;return i!==!!t.values?i?1:-1:String.naturalOrderComparator(e.name,t.name)}!function e(t,i){if(i)for(var n,r=0;n=i.children[r];++r){var s={node:n,children:{}};t[n.name]=s,e(s.children,n)}}(n,t),t.removeChildren(),function e(t,n,s){(t=t||[]).sort(r);for(var o=s||{},a=0,c=t.length;a<c;++a){var l=t[a],d=this._createDataGridNode(l);n.appendChild(d);var h=o[d.name]||{},p=h.node;p&&p.element.textContent===d.element.textContent||i.push(d),e.call(this,l.values,d,h.children)}}.call(this,e.descriptors,t,n);var s=this._resourceKindId(this._currentResourceId)===this._resourceKindId(e.id);this._currentResourceId=e.id,this._restoreExpandedState(),this._updateDataGridHighlights(s?i:[]),this._restoreScrollState()},_updateDataGridHighlights:function(e){for(var t=0,i=this._highlightedGridNodes.length;t<i;++t)this._highlightedGridNodes[t].element.classList.remove("canvas-grid-node-highlighted");for(this._highlightedGridNodes=e,t=0,i=this._highlightedGridNodes.length;t<i;++t){var n=this._highlightedGridNodes[t];WebInspector.runCSSAnimationOnce(n.element,"canvas-grid-node-highlighted"),n.reveal()}},_resourceKindId:function(e){return(e&&this._resourceIdToDescription[e]||"").replace(/\d+/g,"")},_forEachGridNode:function(e){!function t(i,n){for(var r,s=0;r=i.children[s];++s){var o=n+"#"+r.name;e(r,o),t(r,o)}}(this._stateGrid.rootNode(),"")},_saveExpandedState:function(){if(this._currentResourceId){var e={},t=this._resourceKindId(this._currentResourceId);this._gridNodesExpandedState[t]=e,this._forEachGridNode(function(t,i){t.expanded&&(e[i]=!0)})}},_restoreExpandedState:function(){if(this._currentResourceId){var e=this._resourceKindId(this._currentResourceId),t=this._gridNodesExpandedState[e];t&&this._forEachGridNode(function(e,i){t[i]&&e.expand()})}},_saveScrollState:function(){if(this._currentResourceId){var e=this._resourceKindId(this._currentResourceId);this._gridScrollPositions[e]={scrollTop:this._stateGrid.scrollContainer.scrollTop,scrollLeft:this._stateGrid.scrollContainer.scrollLeft}}},_restoreScrollState:function(){if(this._currentResourceId){var e=this._resourceKindId(this._currentResourceId),t=this._gridScrollPositions[e];t&&(this._stateGrid.scrollContainer.scrollTop=t.scrollTop,this._stateGrid.scrollContainer.scrollLeft=t.scrollLeft)}},_createDataGridNode:function(e){var t=e.name,i=e.value,n=i?WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(i):"",r=t;if(void 0!==e.enumValueForName&&(r=WebInspector.CanvasProfileDataGridHelper.createEnumValueElement(t,+e.enumValueForName)),e.isArray&&e.values)if("string"==typeof r)r+="["+e.values.length+"]";else{var s=document.createElement("span");s.appendChild(r),s.createTextChild("["+e.values.length+"]"),r=s}var o={};o[0]=r,o[1]=n;var a=new WebInspector.DataGridNode(o);return a.selectable=!1,a.name=t,a},__proto__:WebInspector.VBox.prototype},WebInspector.PieChart=function(e,t){this.element=document.createElementWithClass("div","pie-chart");var i=this._createSVGChild(this.element,"svg");i.setAttribute("width","100%"),i.setAttribute("height","104%"),this._group=this._createSVGChild(i,"g");var n=this._createSVGChild(this._group,"circle");n.setAttribute("r",1),n.setAttribute("cy",.04),n.setAttribute("fill","hsl(0,0%,70%)");var r=this._createSVGChild(this._group,"circle");if(r.setAttribute("r",1),r.setAttribute("fill","hsl(0,0%,92%)"),e){var s=t?t(e):e;this._totalElement=this.element.createChild("div","pie-chart-foreground"),this._totalElement.textContent=s,this._totalValue=e}this._lastAngle=-Math.PI/2,this.setSize(100)},WebInspector.PieChart.prototype={setTotal:function(e){this._totalValue=e},setSize:function(e){this._group.setAttribute("transform","scale("+e/2+") translate(1,1)");var t=e+"px";this.element.style.width=t,this.element.style.height=t,this._totalElement&&(this._totalElement.style.lineHeight=t)},addSlice:function(e,t){var i=e/this._totalValue*2*Math.PI;if(isFinite(i)){i=Math.min(i,2*Math.PI*.9999);var n=this._createSVGChild(this._group,"path"),r=Math.cos(this._lastAngle),s=Math.sin(this._lastAngle);this._lastAngle+=i;var o=Math.cos(this._lastAngle),a=Math.sin(this._lastAngle),c=i>Math.PI?1:0;n.setAttribute("d","M0,0 L"+r+","+s+" A1,1,0,"+c+",1,"+o+","+a+" Z"),n.setAttribute("fill",t)}},_createSVGChild:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",t);return e.appendChild(i),i}},WebInspector.ProfileTypeRegistry.instance=new WebInspector.ProfileTypeRegistry},90:function(e,t){}});